var Id=Object.defineProperty;var m4=Object.getOwnPropertyDescriptor;var g4=Object.getOwnPropertyNames;var v4=Object.prototype.hasOwnProperty;var jt=(t,e)=>()=>(t&&(e=t(t=0)),e);var xe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),y4=(t,e)=>{for(var r in e)Id(t,r,{get:e[r],enumerable:!0})},w4=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of g4(e))!v4.call(t,i)&&i!==r&&Id(t,i,{get:()=>e[i],enumerable:!(n=m4(e,i))||n.enumerable});return t};var b4=t=>w4(Id({},"__esModule",{value:!0}),t);var CT=xe((uQ,RT)=>{"use strict";function kt(t){this.content=t}kt.prototype={constructor:kt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),s=n.content.slice();return i==-1?s.push(r||t,e):(s[i+1]=e,r&&(s[i]=r)),new kt(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new kt(r)},addToStart:function(t,e){return new kt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new kt(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),s=n.find(t);return i.splice(s==-1?i.length:s,0,e,r),new kt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=kt.from(t),t.size?new kt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=kt.from(t),t.size?new kt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=kt.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};kt.from=function(t){if(t instanceof kt)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new kt(e)};RT.exports=kt});var Ln=xe(Wt=>{"use strict";function _4(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=x4(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,o;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(a)throw o}}}}function x4(t,e){if(t){if(typeof t=="string")return IT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IT(t,e)}}function IT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fl(){return typeof Reflect<"u"&&Reflect.get?Fl=Reflect.get.bind():Fl=function(e,r,n){var i=E4(e,r);if(i){var s=Object.getOwnPropertyDescriptor(i,r);return s.get?s.get.call(arguments.length<3?e:n):s.value}},Fl.apply(this,arguments)}function E4(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=hi(t),t!==null););return t}function VT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eo(t,e)}function KT(t){var e=GT();return function(){var n=hi(t),i;if(e){var s=hi(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return S4(this,i)}}function S4(t,e){if(e&&(dr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k4(t)}function k4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Md(t){var e=typeof Map=="function"?new Map:void 0;return Md=function(n){if(n===null||!T4(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Bl(n,arguments,hi(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Eo(i,n)},Md(t)}function Bl(t,e,r){return GT()?Bl=Reflect.construct.bind():Bl=function(i,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(i,o),u=new l;return a&&Eo(u,a.prototype),u},Bl.apply(null,arguments)}function GT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T4(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function Eo(t,e){return Eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Eo(t,e)}function hi(t){return hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hi(t)}function dr(t){"@babel/helpers - typeof";return dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dr(t)}function ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A4(n.key),n)}}function dt(t,e,r){return e&&PT(t.prototype,e),r&&PT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function A4(t){var e=O4(t,"string");return dr(e)==="symbol"?e:String(e)}function O4(t,e){if(dr(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(dr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DT=CT();function $T(t,e,r){for(var n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;var i=t.child(n),s=e.child(n);if(i==s){r+=i.nodeSize;continue}if(!i.sameMarkup(s))return r;if(i.isText&&i.text!=s.text){for(var a=0;i.text[a]==s.text[a];a++)r++;return r}if(i.content.size||s.content.size){var o=$T(i.content,s.content,r+1);if(o!=null)return o}r+=i.nodeSize}}function JT(t,e,r,n){for(var i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:r,b:n};var a=t.child(--i),o=e.child(--s),l=a.nodeSize;if(a==o){r-=l,n-=l;continue}if(!a.sameMarkup(o))return{a:r,b:n};if(a.isText&&a.text!=o.text){for(var u=0,c=Math.min(a.text.length,o.text.length);u<c&&a.text[a.text.length-u-1]==o.text[o.text.length-u-1];)u++,r--,n--;return{a:r,b:n}}if(a.content.size||o.content.size){var f=JT(a.content,o.content,r-1,n-1);if(f)return f}r-=l,n-=l}}var ft=(function(){function t(e,r){if(ht(this,t),this.content=e,this.size=r||0,r==null)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize}return dt(t,[{key:"nodesBetween",value:function(r,n,i){for(var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,o=0,l=0;l<n;o++){var u=this.content[o],c=l+u.nodeSize;if(c>r&&i(u,s+l,a||null,o)!==!1&&u.content.size){var f=l+1;u.nodesBetween(Math.max(0,r-f),Math.min(u.content.size,n-f),i,s+f)}l=c}}},{key:"descendants",value:function(r){this.nodesBetween(0,this.size,r)}},{key:"textBetween",value:function(r,n,i,s){var a="",o=!0;return this.nodesBetween(r,n,function(l,u){var c=l.isText?l.text.slice(Math.max(r,u)-u,n-u):l.isLeaf?s?typeof s=="function"?s(l):s:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&c||l.isTextblock)&&i&&(o?o=!1:a+=i),a+=c},0),a}},{key:"append",value:function(r){if(!r.size)return this;if(!this.size)return r;var n=this.lastChild,i=r.firstChild,s=this.content.slice(),a=0;for(n.isText&&n.sameMarkup(i)&&(s[s.length-1]=n.withText(n.text+i.text),a=1);a<r.content.length;a++)s.push(r.content[a]);return new t(s,this.size+r.size)}},{key:"cut",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size;if(r==0&&n==this.size)return this;var i=[],s=0;if(n>r)for(var a=0,o=0;o<n;a++){var l=this.content[a],u=o+l.nodeSize;u>r&&((o<r||u>n)&&(l.isText?l=l.cut(Math.max(0,r-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,r-o-1),Math.min(l.content.size,n-o-1))),i.push(l),s+=l.nodeSize),o=u}return new t(i,s)}},{key:"cutByIndex",value:function(r,n){return r==n?t.empty:r==0&&n==this.content.length?this:new t(this.content.slice(r,n))}},{key:"replaceChild",value:function(r,n){var i=this.content[r];if(i==n)return this;var s=this.content.slice(),a=this.size+n.nodeSize-i.nodeSize;return s[r]=n,new t(s,a)}},{key:"addToStart",value:function(r){return new t([r].concat(this.content),this.size+r.nodeSize)}},{key:"addToEnd",value:function(r){return new t(this.content.concat(r),this.size+r.nodeSize)}},{key:"eq",value:function(r){if(this.content.length!=r.content.length)return!1;for(var n=0;n<this.content.length;n++)if(!this.content[n].eq(r.content[n]))return!1;return!0}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}},{key:"childCount",get:function(){return this.content.length}},{key:"child",value:function(r){var n=this.content[r];if(!n)throw new RangeError("Index "+r+" out of range for "+this);return n}},{key:"maybeChild",value:function(r){return this.content[r]||null}},{key:"forEach",value:function(r){for(var n=0,i=0;n<this.content.length;n++){var s=this.content[n];r(s,i,n),i+=s.nodeSize}}},{key:"findDiffStart",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return $T(this,r,n)}},{key:"findDiffEnd",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.size,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.size;return JT(this,r,n,i)}},{key:"findIndex",value:function(r){if(r==0)return Ml(0,r);if(r==this.size)return Ml(this.content.length,r);if(r>this.size||r<0)throw new RangeError("Position ".concat(r," outside of fragment (").concat(this,")"));for(var n=0,i=0;;n++){var s=this.child(n),a=i+s.nodeSize;if(a>=r)return a==r?Ml(n+1,a):Ml(n,i);i=a}}},{key:"toString",value:function(){return"<"+this.toStringInner()+">"}},{key:"toStringInner",value:function(){return this.content.join(", ")}},{key:"toJSON",value:function(){return this.content.length?this.content.map(function(r){return r.toJSON()}):null}}],[{key:"fromJSON",value:function(r,n){if(!n)return t.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new t(n.map(r.nodeFromJSON))}},{key:"fromArray",value:function(r){if(!r.length)return t.empty;for(var n,i=0,s=0;s<r.length;s++){var a=r[s];i+=a.nodeSize,s&&a.isText&&r[s-1].sameMarkup(a)?(n||(n=r.slice(0,s)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a)}return new t(n||r,i)}},{key:"from",value:function(r){if(!r)return t.empty;if(r instanceof t)return r;if(Array.isArray(r))return this.fromArray(r);if(r.attrs)return new t([r],r.nodeSize);throw new RangeError("Can not convert "+r+" to a Fragment"+(r.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}]),t})();ft.empty=new ft([],0);var Pd={index:0,offset:0};function Ml(t,e){return Pd.index=t,Pd.offset=e,Pd}function Hl(t,e){if(t===e)return!0;if(!(t&&dr(t)=="object")||!(e&&dr(e)=="object"))return!1;var r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!Hl(t[n],e[n]))return!1}else{for(var i in t)if(!(i in e)||!Hl(t[i],e[i]))return!1;for(var s in e)if(!(s in t))return!1}return!0}var Ge=(function(){function t(e,r){ht(this,t),this.type=e,this.attrs=r}return dt(t,[{key:"addToSet",value:function(r){for(var n,i=!1,s=0;s<r.length;s++){var a=r[s];if(this.eq(a))return r;if(this.type.excludes(a.type))n||(n=r.slice(0,s));else{if(a.type.excludes(this.type))return r;!i&&a.type.rank>this.type.rank&&(n||(n=r.slice(0,s)),n.push(this),i=!0),n&&n.push(a)}}return n||(n=r.slice()),i||n.push(this),n}},{key:"removeFromSet",value:function(r){for(var n=0;n<r.length;n++)if(this.eq(r[n]))return r.slice(0,n).concat(r.slice(n+1));return r}},{key:"isInSet",value:function(r){for(var n=0;n<r.length;n++)if(this.eq(r[n]))return!0;return!1}},{key:"eq",value:function(r){return this==r||this.type==r.type&&Hl(this.attrs,r.attrs)}},{key:"toJSON",value:function(){var r={type:this.type.name};for(var n in this.attrs){r.attrs=this.attrs;break}return r}}],[{key:"fromJSON",value:function(r,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");var i=r.marks[n.type];if(!i)throw new RangeError("There is no mark type ".concat(n.type," in this schema"));var s=i.create(n.attrs);return i.checkAttrs(s.attrs),s}},{key:"sameSet",value:function(r,n){if(r==n)return!0;if(r.length!=n.length)return!1;for(var i=0;i<r.length;i++)if(!r[i].eq(n[i]))return!1;return!0}},{key:"setFrom",value:function(r){if(!r||Array.isArray(r)&&r.length==0)return t.none;if(r instanceof t)return[r];var n=r.slice();return n.sort(function(i,s){return i.type.rank-s.type.rank}),n}}]),t})();Ge.none=[];var zl=(function(t){VT(r,t);var e=KT(r);function r(){return ht(this,r),e.apply(this,arguments)}return dt(r)})(Md(Error)),rs=(function(){function t(e,r,n){ht(this,t),this.content=e,this.openStart=r,this.openEnd=n}return dt(t,[{key:"size",get:function(){return this.content.size-this.openStart-this.openEnd}},{key:"insertAt",value:function(r,n){var i=YT(this.content,r+this.openStart,n);return i&&new t(i,this.openStart,this.openEnd)}},{key:"removeBetween",value:function(r,n){return new t(XT(this.content,r+this.openStart,n+this.openStart),this.openStart,this.openEnd)}},{key:"eq",value:function(r){return this.content.eq(r.content)&&this.openStart==r.openStart&&this.openEnd==r.openEnd}},{key:"toString",value:function(){return this.content+"("+this.openStart+","+this.openEnd+")"}},{key:"toJSON",value:function(){if(!this.content.size)return null;var r={content:this.content.toJSON()};return this.openStart>0&&(r.openStart=this.openStart),this.openEnd>0&&(r.openEnd=this.openEnd),r}}],[{key:"fromJSON",value:function(r,n){if(!n)return t.empty;var i=n.openStart||0,s=n.openEnd||0;if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new t(ft.fromJSON(r,n.content),i,s)}},{key:"maxOpen",value:function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=0,s=0,a=r.firstChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.firstChild)i++;for(var o=r.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)s++;return new t(r,i,s)}}]),t})();rs.empty=new rs(ft.empty,0,0);function XT(t,e,r){var n=t.findIndex(e),i=n.index,s=n.offset,a=t.maybeChild(i),o=t.findIndex(r),l=o.index,u=o.offset;if(s==e||a.isText){if(u!=r&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(i!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(i,a.copy(XT(a.content,e-s-1,r-s-1)))}function YT(t,e,r,n){var i=t.findIndex(e),s=i.index,a=i.offset,o=t.maybeChild(s);if(a==e||o.isText)return n&&!n.canReplace(s,s,r)?null:t.cut(0,e).append(r).append(t.cut(e));var l=YT(o.content,e-a-1,r,o);return l&&t.replaceChild(s,o.copy(l))}function N4(t,e,r){if(r.openStart>t.depth)throw new zl("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new zl("Inconsistent open depths");return ZT(t,e,r,0)}function ZT(t,e,r,n){var i=t.index(n),s=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){var a=ZT(t,e,r,n+1);return s.copy(s.content.replaceChild(i,a))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){var o=t.parent,l=o.content;return ci(o,l.cut(0,t.parentOffset).append(r.content).append(l.cut(e.parentOffset)))}else{var u=R4(r,t),c=u.start,f=u.end;return ci(s,eA(t,c,f,e,n))}else return ci(s,jl(t,e,n))}function QT(t,e){if(!e.type.compatibleContent(t.type))throw new zl("Cannot join "+e.type.name+" onto "+t.type.name)}function Ld(t,e,r){var n=t.node(r);return QT(n,e.node(r)),n}function ui(t,e){var r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function _o(t,e,r,n){var i=(e||t).node(r),s=0,a=e?e.index(r):i.childCount;t&&(s=t.index(r),t.depth>r?s++:t.textOffset&&(ui(t.nodeAfter,n),s++));for(var o=s;o<a;o++)ui(i.child(o),n);e&&e.depth==r&&e.textOffset&&ui(e.nodeBefore,n)}function ci(t,e){return t.type.checkContent(e),t.copy(e)}function eA(t,e,r,n,i){var s=t.depth>i&&Ld(t,e,i+1),a=n.depth>i&&Ld(r,n,i+1),o=[];return _o(null,t,i,o),s&&a&&e.index(i)==r.index(i)?(QT(s,a),ui(ci(s,eA(t,e,r,n,i+1)),o)):(s&&ui(ci(s,jl(t,e,i+1)),o),_o(e,r,i,o),a&&ui(ci(a,jl(r,n,i+1)),o)),_o(n,null,i,o),new ft(o)}function jl(t,e,r){var n=[];if(_o(null,t,r,n),t.depth>r){var i=Ld(t,e,r+1);ui(ci(i,jl(t,e,r+1)),n)}return _o(e,null,r,n),new ft(n)}function R4(t,e){for(var r=e.depth-t.openStart,n=e.node(r),i=n.copy(t.content),s=r-1;s>=0;s--)i=e.node(s).copy(ft.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}var Fd=(function(){function t(e,r,n){ht(this,t),this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}return dt(t,[{key:"resolveDepth",value:function(r){return r==null?this.depth:r<0?this.depth+r:r}},{key:"parent",get:function(){return this.node(this.depth)}},{key:"doc",get:function(){return this.node(0)}},{key:"node",value:function(r){return this.path[this.resolveDepth(r)*3]}},{key:"index",value:function(r){return this.path[this.resolveDepth(r)*3+1]}},{key:"indexAfter",value:function(r){return r=this.resolveDepth(r),this.index(r)+(r==this.depth&&!this.textOffset?0:1)}},{key:"start",value:function(r){return r=this.resolveDepth(r),r==0?0:this.path[r*3-1]+1}},{key:"end",value:function(r){return r=this.resolveDepth(r),this.start(r)+this.node(r).content.size}},{key:"before",value:function(r){if(r=this.resolveDepth(r),!r)throw new RangeError("There is no position before the top-level node");return r==this.depth+1?this.pos:this.path[r*3-1]}},{key:"after",value:function(r){if(r=this.resolveDepth(r),!r)throw new RangeError("There is no position after the top-level node");return r==this.depth+1?this.pos:this.path[r*3-1]+this.path[r*3].nodeSize}},{key:"textOffset",get:function(){return this.pos-this.path[this.path.length-1]}},{key:"nodeAfter",get:function(){var r=this.parent,n=this.index(this.depth);if(n==r.childCount)return null;var i=this.pos-this.path[this.path.length-1],s=r.child(n);return i?r.child(n).cut(i):s}},{key:"nodeBefore",get:function(){var r=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(r).cut(0,n):r==0?null:this.parent.child(r-1)}},{key:"posAtIndex",value:function(r,n){n=this.resolveDepth(n);for(var i=this.path[n*3],s=n==0?0:this.path[n*3-1]+1,a=0;a<r;a++)s+=i.child(a).nodeSize;return s}},{key:"marks",value:function(){var r=this.parent,n=this.index();if(r.content.size==0)return Ge.none;if(this.textOffset)return r.child(n).marks;var i=r.maybeChild(n-1),s=r.maybeChild(n);if(!i){var a=i;i=s,s=a}for(var o=i.marks,l=0;l<o.length;l++)o[l].type.spec.inclusive===!1&&(!s||!o[l].isInSet(s.marks))&&(o=o[l--].removeFromSet(o));return o}},{key:"marksAcross",value:function(r){var n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;for(var i=n.marks,s=r.parent.maybeChild(r.index()),a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!s||!i[a].isInSet(s.marks))&&(i=i[a--].removeFromSet(i));return i}},{key:"sharedDepth",value:function(r){for(var n=this.depth;n>0;n--)if(this.start(n)<=r&&this.end(n)>=r)return n;return 0}},{key:"blockRange",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this,n=arguments.length>1?arguments[1]:void 0;if(r.pos<this.pos)return r.blockRange(this);for(var i=this.depth-(this.parent.inlineContent||this.pos==r.pos?1:0);i>=0;i--)if(r.pos<=this.end(i)&&(!n||n(this.node(i))))return new tA(this,r,i);return null}},{key:"sameParent",value:function(r){return this.pos-this.parentOffset==r.pos-r.parentOffset}},{key:"max",value:function(r){return r.pos>this.pos?r:this}},{key:"min",value:function(r){return r.pos<this.pos?r:this}},{key:"toString",value:function(){for(var r="",n=1;n<=this.depth;n++)r+=(r?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return r+":"+this.parentOffset}}],[{key:"resolve",value:function(r,n){if(!(n>=0&&n<=r.content.size))throw new RangeError("Position "+n+" out of range");for(var i=[],s=0,a=n,o=r;;){var l=o.content.findIndex(a),u=l.index,c=l.offset,f=a-c;if(i.push(o,u,s+c),!f||(o=o.child(u),o.isText))break;a=f-1,s+=c+1}return new t(n,i,a)}},{key:"resolveCached",value:function(r,n){var i=MT.get(r);if(i)for(var s=0;s<i.elts.length;s++){var a=i.elts[s];if(a.pos==n)return a}else MT.set(r,i=new C4);var o=i.elts[i.i]=t.resolve(r,n);return i.i=(i.i+1)%I4,o}}]),t})(),C4=dt(function t(){ht(this,t),this.elts=[],this.i=0}),I4=12,MT=new WeakMap,tA=(function(){function t(e,r,n){ht(this,t),this.$from=e,this.$to=r,this.depth=n}return dt(t,[{key:"start",get:function(){return this.$from.before(this.depth+1)}},{key:"end",get:function(){return this.$to.after(this.depth+1)}},{key:"parent",get:function(){return this.$from.node(this.depth)}},{key:"startIndex",get:function(){return this.$from.index(this.depth)}},{key:"endIndex",get:function(){return this.$to.indexAfter(this.depth)}}]),t})(),P4=Object.create(null),fi=(function(){function t(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ge.none;ht(this,t),this.type=e,this.attrs=r,this.marks=i,this.content=n||ft.empty}return dt(t,[{key:"children",get:function(){return this.content.content}},{key:"nodeSize",get:function(){return this.isLeaf?1:2+this.content.size}},{key:"childCount",get:function(){return this.content.childCount}},{key:"child",value:function(r){return this.content.child(r)}},{key:"maybeChild",value:function(r){return this.content.maybeChild(r)}},{key:"forEach",value:function(r){this.content.forEach(r)}},{key:"nodesBetween",value:function(r,n,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.content.nodesBetween(r,n,i,s,this)}},{key:"descendants",value:function(r){this.nodesBetween(0,this.content.size,r)}},{key:"textContent",get:function(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}},{key:"textBetween",value:function(r,n,i,s){return this.content.textBetween(r,n,i,s)}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"eq",value:function(r){return this==r||this.sameMarkup(r)&&this.content.eq(r.content)}},{key:"sameMarkup",value:function(r){return this.hasMarkup(r.type,r.attrs,r.marks)}},{key:"hasMarkup",value:function(r,n,i){return this.type==r&&Hl(this.attrs,n||r.defaultAttrs||P4)&&Ge.sameSet(this.marks,i||Ge.none)}},{key:"copy",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return r==this.content?this:new t(this.type,this.attrs,r,this.marks)}},{key:"mark",value:function(r){return r==this.marks?this:new t(this.type,this.attrs,this.content,r)}},{key:"cut",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size;return r==0&&n==this.content.size?this:this.copy(this.content.cut(r,n))}},{key:"slice",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.content.size,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(r==n)return rs.empty;var s=this.resolve(r),a=this.resolve(n),o=i?0:s.sharedDepth(n),l=s.start(o),u=s.node(o),c=u.content.cut(s.pos-l,a.pos-l);return new rs(c,s.depth-o,a.depth-o)}},{key:"replace",value:function(r,n,i){return N4(this.resolve(r),this.resolve(n),i)}},{key:"nodeAt",value:function(r){for(var n=this;;){var i=n.content.findIndex(r),s=i.index,a=i.offset;if(n=n.maybeChild(s),!n)return null;if(a==r||n.isText)return n;r-=a+1}}},{key:"childAfter",value:function(r){var n=this.content.findIndex(r),i=n.index,s=n.offset;return{node:this.content.maybeChild(i),index:i,offset:s}}},{key:"childBefore",value:function(r){if(r==0)return{node:null,index:0,offset:0};var n=this.content.findIndex(r),i=n.index,s=n.offset;if(s<r)return{node:this.content.child(i),index:i,offset:s};var a=this.content.child(i-1);return{node:a,index:i-1,offset:s-a.nodeSize}}},{key:"resolve",value:function(r){return Fd.resolveCached(this,r)}},{key:"resolveNoCache",value:function(r){return Fd.resolve(this,r)}},{key:"rangeHasMark",value:function(r,n,i){var s=!1;return n>r&&this.nodesBetween(r,n,function(a){return i.isInSet(a.marks)&&(s=!0),!s}),s}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"inlineContent",get:function(){return this.type.inlineContent}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"isLeaf",get:function(){return this.type.isLeaf}},{key:"isAtom",get:function(){return this.type.isAtom}},{key:"toString",value:function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var r=this.type.name;return this.content.size&&(r+="("+this.content.toStringInner()+")"),rA(this.marks,r)}},{key:"contentMatchAt",value:function(r){var n=this.type.contentMatch.matchFragment(this.content,0,r);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}},{key:"canReplace",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ft.empty,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:i.childCount,o=this.contentMatchAt(r).matchFragment(i,s,a),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(var u=s;u<a;u++)if(!this.type.allowsMarks(i.child(u).marks))return!1;return!0}},{key:"canReplaceWith",value:function(r,n,i,s){if(s&&!this.type.allowsMarks(s))return!1;var a=this.contentMatchAt(r).matchType(i),o=a&&a.matchFragment(this.content,n);return o?o.validEnd:!1}},{key:"canAppend",value:function(r){return r.content.size?this.canReplace(this.childCount,this.childCount,r.content):this.type.compatibleContent(r.type)}},{key:"check",value:function(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);for(var r=Ge.none,n=0;n<this.marks.length;n++){var i=this.marks[n];i.type.checkAttrs(i.attrs),r=i.addToSet(r)}if(!Ge.sameSet(r,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(function(s){return s.type.name})));this.content.forEach(function(s){return s.check()})}},{key:"toJSON",value:function(){var r={type:this.type.name};for(var n in this.attrs){r.attrs=this.attrs;break}return this.content.size&&(r.content=this.content.toJSON()),this.marks.length&&(r.marks=this.marks.map(function(i){return i.toJSON()})),r}}],[{key:"fromJSON",value:function(r,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");var i=void 0;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(r.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return r.text(n.text,i)}var s=ft.fromJSON(r,n.content),a=r.nodeType(n.type).create(n.attrs,s,i);return a.type.checkAttrs(a.attrs),a}}]),t})();fi.prototype.text=void 0;var D4=(function(t){VT(r,t);var e=KT(r);function r(n,i,s,a){var o;if(ht(this,r),o=e.call(this,n,i,null,a),!s)throw new RangeError("Empty text nodes are not allowed");return o.text=s,o}return dt(r,[{key:"toString",value:function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):rA(this.marks,JSON.stringify(this.text))}},{key:"textContent",get:function(){return this.text}},{key:"textBetween",value:function(i,s){return this.text.slice(i,s)}},{key:"nodeSize",get:function(){return this.text.length}},{key:"mark",value:function(i){return i==this.marks?this:new r(this.type,this.attrs,this.text,i)}},{key:"withText",value:function(i){return i==this.text?this:new r(this.type,this.attrs,i,this.marks)}},{key:"cut",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.text.length;return i==0&&s==this.text.length?this:this.withText(this.text.slice(i,s))}},{key:"eq",value:function(i){return this.sameMarkup(i)&&this.text==i.text}},{key:"toJSON",value:function(){var i=Fl(hi(r.prototype),"toJSON",this).call(this);return i.text=this.text,i}}]),r})(fi);function rA(t,e){for(var r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}var ns=(function(){function t(e){ht(this,t),this.validEnd=e,this.next=[],this.wrapCache=[]}return dt(t,[{key:"matchType",value:function(r){for(var n=0;n<this.next.length;n++)if(this.next[n].type==r)return this.next[n].next;return null}},{key:"matchFragment",value:function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.childCount,s=this,a=n;s&&a<i;a++)s=s.matchType(r.child(a).type);return s}},{key:"inlineContent",get:function(){return this.next.length!=0&&this.next[0].type.isInline}},{key:"defaultType",get:function(){for(var r=0;r<this.next.length;r++){var n=this.next[r].type;if(!(n.isText||n.hasRequiredAttrs()))return n}return null}},{key:"compatible",value:function(r){for(var n=0;n<this.next.length;n++)for(var i=0;i<r.next.length;i++)if(this.next[n].type==r.next[i].type)return!0;return!1}},{key:"fillBefore",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=[this];function a(o,l){var u=o.matchFragment(r,i);if(u&&(!n||u.validEnd))return ft.from(l.map(function(v){return v.createAndFill()}));for(var c=0;c<o.next.length;c++){var f=o.next[c],d=f.type,h=f.next;if(!(d.isText||d.hasRequiredAttrs())&&s.indexOf(h)==-1){s.push(h);var y=a(h,l.concat(d));if(y)return y}}return null}return a(this,[])}},{key:"findWrapping",value:function(r){for(var n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==r)return this.wrapCache[n+1];var i=this.computeWrapping(r);return this.wrapCache.push(r,i),i}},{key:"computeWrapping",value:function(r){for(var n=Object.create(null),i=[{match:this,type:null,via:null}];i.length;){var s=i.shift(),a=s.match;if(a.matchType(r)){for(var o=[],l=s;l.type;l=l.via)o.push(l.type);return o.reverse()}for(var u=0;u<a.next.length;u++){var c=a.next[u],f=c.type,d=c.next;!f.isLeaf&&!f.hasRequiredAttrs()&&!(f.name in n)&&(!s.type||d.validEnd)&&(i.push({match:f.contentMatch,type:f,via:s}),n[f.name]=!0)}}return null}},{key:"edgeCount",get:function(){return this.next.length}},{key:"edge",value:function(r){if(r>=this.next.length)throw new RangeError("There's no ".concat(r,"th edge in this content match"));return this.next[r]}},{key:"toString",value:function(){var r=[];function n(i){r.push(i);for(var s=0;s<i.next.length;s++)r.indexOf(i.next[s].next)==-1&&n(i.next[s].next)}return n(this),r.map(function(i,s){for(var a=s+(i.validEnd?"*":" ")+" ",o=0;o<i.next.length;o++)a+=(o?", ":"")+i.next[o].type.name+"->"+r.indexOf(i.next[o].next);return a}).join(`
`)}}],[{key:"parse",value:function(r,n){var i=new M4(r,n);if(i.next==null)return t.empty;var s=nA(i);i.next&&i.err("Unexpected trailing text");var a=j4(z4(s));return W4(a,i),a}}]),t})();ns.empty=new ns(!0);var M4=(function(){function t(e,r){ht(this,t),this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}return dt(t,[{key:"next",get:function(){return this.tokens[this.pos]}},{key:"eat",value:function(r){return this.next==r&&(this.pos++||!0)}},{key:"err",value:function(r){throw new SyntaxError(r+" (in content expression '"+this.string+"')")}}]),t})();function nA(t){var e=[];do e.push(L4(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function L4(t){var e=[];do e.push(F4(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function F4(t){for(var e=H4(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=B4(t,e);else break;return e}function LT(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function B4(t,e){var r=LT(t),n=r;return t.eat(",")&&(t.next!="}"?n=LT(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function U4(t,e){var r=t.nodeTypes,n=r[e];if(n)return[n];var i=[];for(var s in r){var a=r[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function H4(t){if(t.eat("(")){var e=nA(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{var r=U4(t,t.next).map(function(n){return t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}});return t.pos++,r.length==1?r[0]:{type:"choice",exprs:r}}}function z4(t){var e=[[]];return i(s(t,0),r()),e;function r(){return e.push([])-1}function n(a,o,l){var u={term:l,to:o};return e[a].push(u),u}function i(a,o){a.forEach(function(l){return l.to=o})}function s(a,o){if(a.type=="choice")return a.exprs.reduce(function(m,_){return m.concat(s(_,o))},[]);if(a.type=="seq")for(var l=0;;l++){var u=s(a.exprs[l],o);if(l==a.exprs.length-1)return u;i(u,o=r())}else if(a.type=="star"){var c=r();return n(o,c),i(s(a.expr,c),c),[n(c)]}else if(a.type=="plus"){var f=r();return i(s(a.expr,o),f),i(s(a.expr,f),f),[n(f)]}else{if(a.type=="opt")return[n(o)].concat(s(a.expr,o));if(a.type=="range"){for(var d=o,h=0;h<a.min;h++){var y=r();i(s(a.expr,d),y),d=y}if(a.max==-1)i(s(a.expr,d),d);else for(var v=a.min;v<a.max;v++){var x=r();n(d,x),i(s(a.expr,d),x),d=x}return[n(d)]}else{if(a.type=="name")return[n(o,void 0,a.value)];throw new Error("Unknown expr type")}}}}function iA(t,e){return e-t}function FT(t,e){var r=[];return n(e),r.sort(iA);function n(i){var s=t[i];if(s.length==1&&!s[0].term)return n(s[0].to);r.push(i);for(var a=0;a<s.length;a++){var o=s[a],l=o.term,u=o.to;!l&&r.indexOf(u)==-1&&n(u)}}}function j4(t){var e=Object.create(null);return r(FT(t,0));function r(n){var i=[];n.forEach(function(l){t[l].forEach(function(u){var c=u.term,f=u.to;if(c){for(var d,h=0;h<i.length;h++)i[h][0]==c&&(d=i[h][1]);FT(t,f).forEach(function(y){d||i.push([c,d=[]]),d.indexOf(y)==-1&&d.push(y)})}})});for(var s=e[n.join(",")]=new ns(n.indexOf(t.length-1)>-1),a=0;a<i.length;a++){var o=i[a][1].sort(iA);s.next.push({type:i[a][0],next:e[o.join(",")]||r(o)})}return s}}function W4(t,e){for(var r=0,n=[t];r<n.length;r++){for(var i=n[r],s=!i.validEnd,a=[],o=0;o<i.next.length;o++){var l=i.next[o],u=l.type,c=l.next;a.push(u.name),s&&!(u.isText||u.hasRequiredAttrs())&&(s=!1),n.indexOf(c)==-1&&n.push(c)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function sA(t){var e=Object.create(null);for(var r in t){var n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function oA(t,e){var r=Object.create(null);for(var n in t){var i=e&&e[n];if(i===void 0){var s=t[n];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function aA(t,e,r,n){for(var i in e)if(!(i in t))throw new RangeError("Unsupported attribute ".concat(i," for ").concat(r," of type ").concat(i));for(var s in t){var a=t[s];a.validate&&a.validate(e[s])}}function lA(t,e){var r=Object.create(null);if(e)for(var n in e)r[n]=new V4(t,n,e[n]);return r}var Bd=(function(){function t(e,r,n){ht(this,t),this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=lA(e,n.attrs),this.defaultAttrs=sA(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}return dt(t,[{key:"isInline",get:function(){return!this.isBlock}},{key:"isTextblock",get:function(){return this.isBlock&&this.inlineContent}},{key:"isLeaf",get:function(){return this.contentMatch==ns.empty}},{key:"isAtom",get:function(){return this.isLeaf||!!this.spec.atom}},{key:"isInGroup",value:function(r){return this.groups.indexOf(r)>-1}},{key:"whitespace",get:function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}},{key:"hasRequiredAttrs",value:function(){for(var r in this.attrs)if(this.attrs[r].isRequired)return!0;return!1}},{key:"compatibleContent",value:function(r){return this==r||this.contentMatch.compatible(r.contentMatch)}},{key:"computeAttrs",value:function(r){return!r&&this.defaultAttrs?this.defaultAttrs:oA(this.attrs,r)}},{key:"create",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new fi(this,this.computeAttrs(r),ft.from(n),Ge.setFrom(i))}},{key:"createChecked",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;return n=ft.from(n),this.checkContent(n),new fi(this,this.computeAttrs(r),n,Ge.setFrom(i))}},{key:"createAndFill",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(r=this.computeAttrs(r),n=ft.from(n),n.size){var s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}var a=this.contentMatch.matchFragment(n),o=a&&a.fillBefore(ft.empty,!0);return o?new fi(this,r,n.append(o),Ge.setFrom(i)):null}},{key:"validContent",value:function(r){var n=this.contentMatch.matchFragment(r);if(!n||!n.validEnd)return!1;for(var i=0;i<r.childCount;i++)if(!this.allowsMarks(r.child(i).marks))return!1;return!0}},{key:"checkContent",value:function(r){if(!this.validContent(r))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(r.toString().slice(0,50)))}},{key:"checkAttrs",value:function(r){aA(this.attrs,r,"node",this.name)}},{key:"allowsMarkType",value:function(r){return this.markSet==null||this.markSet.indexOf(r)>-1}},{key:"allowsMarks",value:function(r){if(this.markSet==null)return!0;for(var n=0;n<r.length;n++)if(!this.allowsMarkType(r[n].type))return!1;return!0}},{key:"allowedMarks",value:function(r){if(this.markSet==null)return r;for(var n,i=0;i<r.length;i++)this.allowsMarkType(r[i].type)?n&&n.push(r[i]):n||(n=r.slice(0,i));return n?n.length?n:Ge.none:r}}],[{key:"compile",value:function(r,n){var i=Object.create(null);r.forEach(function(o,l){return i[o]=new t(o,n,l)});var s=n.spec.topNode||"doc";if(!i[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(var a in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}}]),t})();function q4(t,e,r){var n=r.split("|");return function(i){var s=i===null?"null":dr(i);if(n.indexOf(s)<0)throw new RangeError("Expected value of type ".concat(n," for attribute ").concat(e," on type ").concat(t,", got ").concat(s))}}var V4=(function(){function t(e,r,n){ht(this,t),this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?q4(e,r,n.validate):n.validate}return dt(t,[{key:"isRequired",get:function(){return!this.hasDefault}}]),t})(),uA=(function(){function t(e,r,n,i){ht(this,t),this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=lA(e,i.attrs),this.excluded=null;var s=sA(this.attrs);this.instance=s?new Ge(this,s):null}return dt(t,[{key:"create",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return!r&&this.instance?this.instance:new Ge(this,oA(this.attrs,r))}},{key:"removeFromSet",value:function(r){for(var n=0;n<r.length;n++)r[n].type==this&&(r=r.slice(0,n).concat(r.slice(n+1)),n--);return r}},{key:"isInSet",value:function(r){for(var n=0;n<r.length;n++)if(r[n].type==this)return r[n]}},{key:"checkAttrs",value:function(r){aA(this.attrs,r,"mark",this.name)}},{key:"excludes",value:function(r){return this.excluded.indexOf(r)>-1}}],[{key:"compile",value:function(r,n){var i=Object.create(null),s=0;return r.forEach(function(a,o){return i[a]=new t(a,s++,n,o)}),i}}]),t})(),K4=(function(){function t(e){var r=this;ht(this,t),this.linebreakReplacement=null,this.cached=Object.create(null);var n=this.spec={};for(var i in e)n[i]=e[i];n.nodes=DT.from(e.nodes),n.marks=DT.from(e.marks||{}),this.nodes=Bd.compile(this.spec.nodes,this),this.marks=uA.compile(this.spec.marks,this);var s=Object.create(null);for(var a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");var o=this.nodes[a],l=o.spec.content||"",u=o.spec.marks;if(o.contentMatch=s[l]||(s[l]=ns.parse(l,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=u=="_"?null:u?BT(this,u.split(" ")):u==""||!o.inlineContent?[]:null}for(var c in this.marks){var f=this.marks[c],d=f.spec.excludes;f.excluded=d==null?[f]:d==""?[]:BT(this,d.split(" "))}this.nodeFromJSON=function(h){return fi.fromJSON(r,h)},this.markFromJSON=function(h){return Ge.fromJSON(r,h)},this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}return dt(t,[{key:"node",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;if(typeof r=="string")r=this.nodeType(r);else if(r instanceof Bd){if(r.schema!=this)throw new RangeError("Node type from different schema used ("+r.name+")")}else throw new RangeError("Invalid node type: "+r);return r.createChecked(n,i,s)}},{key:"text",value:function(r,n){var i=this.nodes.text;return new D4(i,i.defaultAttrs,r,Ge.setFrom(n))}},{key:"mark",value:function(r,n){return typeof r=="string"&&(r=this.marks[r]),r.create(n)}},{key:"nodeType",value:function(r){var n=this.nodes[r];if(!n)throw new RangeError("Unknown node type: "+r);return n}}]),t})();function BT(t,e){for(var r=[],n=0;n<e.length;n++){var i=e[n],s=t.marks[i],a=s;if(s)r.push(s);else for(var o in t.marks){var l=t.marks[o];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function G4(t){return t.tag!=null}function $4(t){return t.style!=null}var J4=(function(){function t(e,r){var n=this;ht(this,t),this.schema=e,this.rules=r,this.tags=[],this.styles=[];var i=this.matchedStyles=[];r.forEach(function(s){if(G4(s))n.tags.push(s);else if($4(s)){var a=/[^=]*/.exec(s.style)[0];i.indexOf(a)<0&&i.push(a),n.styles.push(s)}}),this.normalizeLists=!this.tags.some(function(s){if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;var a=e.nodes[s.node];return a.contentMatch.matchType(a)})}return dt(t,[{key:"parse",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=new HT(this,n,!1);return i.addAll(r,Ge.none,n.from,n.to),i.finish()}},{key:"parseSlice",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=new HT(this,n,!0);return i.addAll(r,Ge.none,n.from,n.to),rs.maxOpen(i.finish())}},{key:"matchTag",value:function(r,n,i){for(var s=i?this.tags.indexOf(i)+1:0;s<this.tags.length;s++){var a=this.tags[s];if(Z4(r,a.tag)&&(a.namespace===void 0||r.namespaceURI==a.namespace)&&(!a.context||n.matchesContext(a.context))){if(a.getAttrs){var o=a.getAttrs(r);if(o===!1)continue;a.attrs=o||void 0}return a}}}},{key:"matchStyle",value:function(r,n,i,s){for(var a=s?this.styles.indexOf(s)+1:0;a<this.styles.length;a++){var o=this.styles[a],l=o.style;if(!(l.indexOf(r)!=0||o.context&&!i.matchesContext(o.context)||l.length>r.length&&(l.charCodeAt(r.length)!=61||l.slice(r.length+1)!=n))){if(o.getAttrs){var u=o.getAttrs(n);if(u===!1)continue;o.attrs=u||void 0}return o}}}}],[{key:"schemaRules",value:function(r){var n=[];function i(u){for(var c=u.priority==null?50:u.priority,f=0;f<n.length;f++){var d=n[f],h=d.priority==null?50:d.priority;if(h<c)break}n.splice(f,0,u)}var s=function(c){var f=r.marks[c].spec.parseDOM;f&&f.forEach(function(d){i(d=zT(d)),d.mark||d.ignore||d.clearMark||(d.mark=c)})};for(var a in r.marks)s(a);var o=function(c){var f=r.nodes[c].spec.parseDOM;f&&f.forEach(function(d){i(d=zT(d)),d.node||d.ignore||d.mark||(d.node=c)})};for(var l in r.nodes)o(l);return n}},{key:"fromSchema",value:function(r){return r.cached.domParser||(r.cached.domParser=new t(r,t.schemaRules(r)))}}]),t})(),cA={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},X4={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},fA={ol:!0,ul:!0},So=1,Ud=2,xo=4;function UT(t,e,r){return e!=null?(e?So:0)|(e==="full"?Ud:0):t&&t.whitespace=="pre"?So|Ud:r&~xo}var Ll=(function(){function t(e,r,n,i,s,a){ht(this,t),this.type=e,this.attrs=r,this.marks=n,this.solid=i,this.options=a,this.content=[],this.activeMarks=Ge.none,this.match=s||(a&xo?null:e.contentMatch)}return dt(t,[{key:"findWrapping",value:function(r){if(!this.match){if(!this.type)return[];var n=this.type.contentMatch.fillBefore(ft.from(r));if(n)this.match=this.type.contentMatch.matchFragment(n);else{var i=this.type.contentMatch,s;return(s=i.findWrapping(r.type))?(this.match=i,s):null}}return this.match.findWrapping(r.type)}},{key:"finish",value:function(r){if(!(this.options&So)){var n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){var s=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}var a=ft.from(this.content);return!r&&this.match&&(a=a.append(this.match.fillBefore(ft.empty,!0))),this.type?this.type.create(this.attrs,a,this.marks):a}},{key:"inlineContext",value:function(r){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:r.parentNode&&!cA.hasOwnProperty(r.parentNode.nodeName.toLowerCase())}}]),t})(),HT=(function(){function t(e,r,n){ht(this,t),this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;var i=r.topNode,s,a=UT(null,r.preserveWhitespace,0)|(n?xo:0);i?s=new Ll(i.type,i.attrs,Ge.none,!0,r.topMatch||i.type.contentMatch,a):n?s=new Ll(null,null,Ge.none,!0,null,a):s=new Ll(e.schema.topNodeType,null,Ge.none,!0,null,a),this.nodes=[s],this.find=r.findPositions,this.needsBlock=!1}return dt(t,[{key:"top",get:function(){return this.nodes[this.open]}},{key:"addDOM",value:function(r,n){r.nodeType==3?this.addTextNode(r,n):r.nodeType==1&&this.addElement(r,n)}},{key:"addTextNode",value:function(r,n){var i=r.nodeValue,s=this.top,a=s.options&Ud?"full":this.localPreserveWS||(s.options&So)>0,o=this.parser.schema;if(a==="full"||s.inlineContext(r)||/[^ \t\r\n\u000c]/.test(i)){if(a)if(a==="full")i=i.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(i)&&this.top.findWrapping(o.linebreakReplacement.create())){for(var c=i.split(/\r?\n|\r/),f=0;f<c.length;f++)f&&this.insertNode(o.linebreakReplacement.create(),n,!0),c[f]&&this.insertNode(o.text(c[f]),n,!/\S/.test(c[f]));i=""}else i=i.replace(/\r?\n|\r/g," ");else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){var l=s.content[s.content.length-1],u=r.previousSibling;(!l||u&&u.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(i=i.slice(1))}i&&this.insertNode(o.text(i),n,!/\S/.test(i)),this.findInText(r)}else this.findInside(r)}},{key:"addElement",value:function(r,n,i){var s=this.localPreserveWS,a=this.top;(r.tagName=="PRE"||/pre/.test(r.style&&r.style.whiteSpace))&&(this.localPreserveWS=!0);var o=r.nodeName.toLowerCase(),l;fA.hasOwnProperty(o)&&this.parser.normalizeLists&&Y4(r);var u=this.options.ruleFromNode&&this.options.ruleFromNode(r)||(l=this.parser.matchTag(r,this,i));e:if(u?u.ignore:X4.hasOwnProperty(o))this.findInside(r),this.ignoreFallback(r,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(r=u.skip);var c,f=this.needsBlock;if(cA.hasOwnProperty(o))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),c=!0,a.type||(this.needsBlock=!0);else if(!r.firstChild){this.leafFallback(r,n);break e}var d=u&&u.skip?n:this.readStyles(r,n);d&&this.addAll(r,d),c&&this.sync(a),this.needsBlock=f}else{var h=this.readStyles(r,n);h&&this.addElementByRule(r,u,h,u.consuming===!1?l:void 0)}this.localPreserveWS=s}},{key:"leafFallback",value:function(r,n){r.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(r.ownerDocument.createTextNode(`
`),n)}},{key:"ignoreFallback",value:function(r,n){r.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}},{key:"readStyles",value:function(r,n){var i=this,s=r.style;if(s&&s.length)for(var a=0;a<this.parser.matchedStyles.length;a++){var o=this.parser.matchedStyles[a],l=s.getPropertyValue(o);if(l){for(var u=function(h){var y=i.parser.matchStyle(o,l,i,h);if(!y)return f=h,0;if(y.ignore)return{v:null};if(y.clearMark?n=n.filter(function(v){return!y.clearMark(v)}):n=n.concat(i.parser.schema.marks[y.mark].create(y.attrs)),y.consuming===!1)h=y;else return f=h,0;f=h},c,f=void 0;c=u(f),c!==0;)if(c)return c.v}}return n}},{key:"addElementByRule",value:function(r,n,i,s){var a=this,o,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),i,r.nodeName=="BR")||this.leafFallback(r,i);else{var u=this.enter(l,n.attrs||null,i,n.preserveWhitespace);u&&(o=!0,i=u)}else{var c=this.parser.schema.marks[n.mark];i=i.concat(c.create(n.attrs))}var f=this.top;if(l&&l.isLeaf)this.findInside(r);else if(s)this.addElement(r,i,s);else if(n.getContent)this.findInside(r),n.getContent(r,this.parser.schema).forEach(function(h){return a.insertNode(h,i,!1)});else{var d=r;typeof n.contentElement=="string"?d=r.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(r):n.contentElement&&(d=n.contentElement),this.findAround(r,d,!0),this.addAll(d,i),this.findAround(r,d,!1)}o&&this.sync(f)&&this.open--}},{key:"addAll",value:function(r,n,i,s){for(var a=i||0,o=i?r.childNodes[i]:r.firstChild,l=s==null?null:r.childNodes[s];o!=l;o=o.nextSibling,++a)this.findAtPoint(r,a),this.addDOM(o,n);this.findAtPoint(r,a)}},{key:"findPlace",value:function(r,n,i){for(var s,a,o=this.open,l=0;o>=0;o--){var u=this.nodes[o],c=u.findWrapping(r);if(c&&(!s||s.length>c.length+l)&&(s=c,a=u,!c.length))break;if(u.solid){if(i)break;l+=2}}if(!s)return null;this.sync(a);for(var f=0;f<s.length;f++)n=this.enterInner(s[f],null,n,!1);return n}},{key:"insertNode",value:function(r,n,i){if(r.isInline&&this.needsBlock&&!this.top.type){var s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}var a=this.findPlace(r,n,i);if(a){this.closeExtra();var o=this.top;o.match&&(o.match=o.match.matchType(r.type));var l=Ge.none,u=_4(a.concat(r.marks)),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;(o.type?o.type.allowsMarkType(f.type):jT(f.type,r.type))&&(l=f.addToSet(l))}}catch(d){u.e(d)}finally{u.f()}return o.content.push(r.mark(l)),!0}return!1}},{key:"enter",value:function(r,n,i,s){var a=this.findPlace(r.create(n),i,!1);return a&&(a=this.enterInner(r,n,i,!0,s)),a}},{key:"enterInner",value:function(r,n,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4?arguments[4]:void 0;this.closeExtra();var o=this.top;o.match=o.match&&o.match.matchType(r);var l=UT(r,a,o.options);o.options&xo&&o.content.length==0&&(l|=xo);var u=Ge.none;return i=i.filter(function(c){return(o.type?o.type.allowsMarkType(c.type):jT(c.type,r))?(u=c.addToSet(u),!1):!0}),this.nodes.push(new Ll(r,n,u,s,null,l)),this.open++,i}},{key:"closeExtra",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(r));this.nodes.length=this.open+1}}},{key:"finish",value:function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}},{key:"sync",value:function(r){for(var n=this.open;n>=0;n--){if(this.nodes[n]==r)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=So)}return!1}},{key:"currentPos",get:function(){this.closeExtra();for(var r=0,n=this.open;n>=0;n--){for(var i=this.nodes[n].content,s=i.length-1;s>=0;s--)r+=i[s].nodeSize;n&&r++}return r}},{key:"findAtPoint",value:function(r,n){if(this.find)for(var i=0;i<this.find.length;i++)this.find[i].node==r&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}},{key:"findInside",value:function(r){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].pos==null&&r.nodeType==1&&r.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}},{key:"findAround",value:function(r,n,i){if(r!=n&&this.find){for(var s=0;s<this.find.length;s++)if(this.find[s].pos==null&&r.nodeType==1&&r.contains(this.find[s].node)){var a=n.compareDocumentPosition(this.find[s].node);a&(i?2:4)&&(this.find[s].pos=this.currentPos)}}}},{key:"findInText",value:function(r){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==r&&(this.find[n].pos=this.currentPos-(r.nodeValue.length-this.find[n].offset))}},{key:"matchesContext",value:function(r){var n=this;if(r.indexOf("|")>-1)return r.split(/\s*\|\s*/).some(this.matchesContext,this);var i=r.split("/"),s=this.options.context,a=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),o=-(s?s.depth+1:0)+(a?0:1),l=function u(c,f){for(;c>=0;c--){var d=i[c];if(d==""){if(c==i.length-1||c==0)continue;for(;f>=o;f--)if(u(c-1,f))return!0;return!1}else{var h=f>0||f==0&&a?n.nodes[f].type:s&&f>=o?s.node(f-o).type:null;if(!h||h.name!=d&&!h.isInGroup(d))return!1;f--}}return!0};return l(i.length-1,this.open)}},{key:"textblockFromContext",value:function(){var r=this.options.context;if(r)for(var n=r.depth;n>=0;n--){var i=r.node(n).contentMatchAt(r.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(var s in this.parser.schema.nodes){var a=this.parser.schema.nodes[s];if(a.isTextblock&&a.defaultAttrs)return a}}}]),t})();function Y4(t){for(var e=t.firstChild,r=null;e;e=e.nextSibling){var n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&fA.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function Z4(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function zT(t){var e={};for(var r in t)e[r]=t[r];return e}function jT(t,e){var r=e.schema.nodes,n=function(){var o=r[s];if(!o.allowsMarkType(t))return 0;var l=[],u=function c(f){l.push(f);for(var d=0;d<f.edgeCount;d++){var h=f.edge(d),y=h.type,v=h.next;if(y==e||l.indexOf(v)<0&&c(v))return!0}};if(u(o.contentMatch))return{v:!0}},i;for(var s in r)if(i=n(),i!==0&&i)return i.v}var Q4=(function(){function t(e,r){ht(this,t),this.nodes=e,this.marks=r}return dt(t,[{key:"serializeFragment",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;s||(s=Dd(i).createDocumentFragment());var a=s,o=[];return r.forEach(function(l){if(o.length||l.marks.length){for(var u=0,c=0;u<o.length&&c<l.marks.length;){var f=l.marks[c];if(!n.marks[f.type.name]){c++;continue}if(!f.eq(o[u][0])||f.type.spec.spanning===!1)break;u++,c++}for(;u<o.length;)a=o.pop()[1];for(;c<l.marks.length;){var d=l.marks[c++],h=n.serializeMark(d,l.isInline,i);h&&(o.push([d,a]),a.appendChild(h.dom),a=h.contentDOM||h.dom)}}a.appendChild(n.serializeNodeInner(l,i))}),s}},{key:"serializeNodeInner",value:function(r,n){var i=Ul(Dd(n),this.nodes[r.type.name](r),null,r.attrs),s=i.dom,a=i.contentDOM;if(a){if(r.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(r.content,n,a)}return s}},{key:"serializeNode",value:function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.serializeNodeInner(r,n),s=r.marks.length-1;s>=0;s--){var a=this.serializeMark(r.marks[s],r.isInline,n);a&&((a.contentDOM||a.dom).appendChild(i),i=a.dom)}return i}},{key:"serializeMark",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.marks[r.type.name];return s&&Ul(Dd(i),s(r,n),null,r.attrs)}}],[{key:"renderSpec",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0;return Ul(r,n,i,s)}},{key:"fromSchema",value:function(r){return r.cached.domSerializer||(r.cached.domSerializer=new t(this.nodesFromSchema(r),this.marksFromSchema(r)))}},{key:"nodesFromSchema",value:function(r){var n=WT(r.nodes);return n.text||(n.text=function(i){return i.text}),n}},{key:"marksFromSchema",value:function(r){return WT(r.marks)}}]),t})();function WT(t){var e={};for(var r in t){var n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function Dd(t){return t.document||window.document}var qT=new WeakMap;function e8(t){var e=qT.get(t);return e===void 0&&qT.set(t,e=t8(t)),e}function t8(t){var e=null;function r(n){if(n&&dr(n)=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(var i=0;i<n.length;i++)r(n[i]);else for(var s in n)r(n[s])}return r(t),e}function Ul(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;var i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(s=e8(n))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");var a=i.indexOf(" ");a>0&&(r=i.slice(0,a),i=i.slice(a+1));var o,l=r?t.createElementNS(r,i):t.createElement(i),u=e[1],c=1;if(u&&dr(u)=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(var f in u)if(u[f]!=null){var d=f.indexOf(" ");d>0?l.setAttributeNS(f.slice(0,d),f.slice(d+1),u[f]):f=="style"&&l.style?l.style.cssText=u[f]:l.setAttribute(f,u[f])}}for(var h=c;h<e.length;h++){var y=e[h];if(y===0){if(h<e.length-1||h>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{var v=Ul(t,y,r,n),x=v.dom,m=v.contentDOM;if(l.appendChild(x),m){if(o)throw new RangeError("Multiple content holes");o=m}}}return{dom:l,contentDOM:o}}Wt.ContentMatch=ns;Wt.DOMParser=J4;Wt.DOMSerializer=Q4;Wt.Fragment=ft;Wt.Mark=Ge;Wt.MarkType=uA;Wt.Node=fi;Wt.NodeRange=tA;Wt.NodeType=Bd;Wt.ReplaceError=zl;Wt.ResolvedPos=Fd;Wt.Schema=K4;Wt.Slice=rs});var Bn=xe(Ue=>{"use strict";function Wd(t){var e=typeof Map=="function"?new Map:void 0;return Wd=function(n){if(n===null||!r8(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Wl(n,arguments,Oo(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ao(i,n)},Wd(t)}function Wl(t,e,r){return mA()?Wl=Reflect.construct.bind():Wl=function(i,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(i,o),u=new l;return a&&Ao(u,a.prototype),u},Wl.apply(null,arguments)}function r8(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function fn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ao(t,e)}function Ao(t,e){return Ao=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ao(t,e)}function hn(t){var e=mA();return function(){var n=Oo(t),i;if(e){var s=Oo(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return n8(this,i)}}function n8(t,e){if(e&&(is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i8(t)}function i8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Oo(t){return Oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oo(t)}function is(t){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(t)}function At(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s8(n.key),n)}}function Ot(t,e,r){return e&&hA(t.prototype,e),r&&hA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s8(t){var e=o8(t,"string");return is(e)==="symbol"?e:String(e)}function o8(t,e){if(is(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(is(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _e=Ln(),gA=65535,vA=Math.pow(2,16);function a8(t,e){return t+e*vA}function dA(t){return t&gA}function l8(t){return(t-(t&gA))/vA}var yA=1,wA=2,ql=4,bA=8,Vl=(function(){function t(e,r,n){At(this,t),this.pos=e,this.delInfo=r,this.recover=n}return Ot(t,[{key:"deleted",get:function(){return(this.delInfo&bA)>0}},{key:"deletedBefore",get:function(){return(this.delInfo&(yA|ql))>0}},{key:"deletedAfter",get:function(){return(this.delInfo&(wA|ql))>0}},{key:"deletedAcross",get:function(){return(this.delInfo&ql)>0}}]),t})(),Fn=(function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(At(this,t),this.ranges=e,this.inverted=r,!e.length&&t.empty)return t.empty}return Ot(t,[{key:"recover",value:function(r){var n=0,i=dA(r);if(!this.inverted)for(var s=0;s<i;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[i*3]+n+l8(r)}},{key:"mapResult",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(r,n,!1)}},{key:"map",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(r,n,!0)}},{key:"_map",value:function(r,n,i){for(var s=0,a=this.inverted?2:1,o=this.inverted?1:2,l=0;l<this.ranges.length;l+=3){var u=this.ranges[l]-(this.inverted?s:0);if(u>r)break;var c=this.ranges[l+a],f=this.ranges[l+o],d=u+c;if(r<=d){var h=c?r==u?-1:r==d?1:n:n,y=u+s+(h<0?0:f);if(i)return y;var v=r==(n<0?u:d)?null:a8(l/3,r-u),x=r==u?wA:r==d?yA:ql;return(n<0?r!=u:r!=d)&&(x|=bA),new Vl(y,x,v)}s+=f-c}return i?r+s:new Vl(r+s,0,null)}},{key:"touches",value:function(r,n){for(var i=0,s=dA(n),a=this.inverted?2:1,o=this.inverted?1:2,l=0;l<this.ranges.length;l+=3){var u=this.ranges[l]-(this.inverted?i:0);if(u>r)break;var c=this.ranges[l+a],f=u+c;if(r<=f&&l==s*3)return!0;i+=this.ranges[l+o]-c}return!1}},{key:"forEach",value:function(r){for(var n=this.inverted?2:1,i=this.inverted?1:2,s=0,a=0;s<this.ranges.length;s+=3){var o=this.ranges[s],l=o-(this.inverted?a:0),u=o+(this.inverted?0:a),c=this.ranges[s+n],f=this.ranges[s+i];r(l,l+c,u,u+f),a+=f-c}}},{key:"invert",value:function(){return new t(this.ranges,!this.inverted)}},{key:"toString",value:function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}}],[{key:"offset",value:function(r){return r==0?t.empty:new t(r<0?[0,-r,0]:[0,0,r])}}]),t})();Fn.empty=new Fn([]);var _A=(function(){function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e?e.length:0;At(this,t),this.mirror=r,this.from=n,this.to=i,this._maps=e||[],this.ownData=!(e||r)}return Ot(t,[{key:"maps",get:function(){return this._maps}},{key:"slice",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.maps.length;return new t(this._maps,this.mirror,r,n)}},{key:"appendMap",value:function(r,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(r),n!=null&&this.setMirror(this._maps.length-1,n)}},{key:"appendMapping",value:function(r){for(var n=0,i=this._maps.length;n<r._maps.length;n++){var s=r.getMirror(n);this.appendMap(r._maps[n],s!=null&&s<n?i+s:void 0)}}},{key:"getMirror",value:function(r){if(this.mirror){for(var n=0;n<this.mirror.length;n++)if(this.mirror[n]==r)return this.mirror[n+(n%2?-1:1)]}}},{key:"setMirror",value:function(r,n){this.mirror||(this.mirror=[]),this.mirror.push(r,n)}},{key:"appendMappingInverted",value:function(r){for(var n=r.maps.length-1,i=this._maps.length+r._maps.length;n>=0;n--){var s=r.getMirror(n);this.appendMap(r._maps[n].invert(),s!=null&&s>n?i-s-1:void 0)}}},{key:"invert",value:function(){var r=new t;return r.appendMappingInverted(this),r}},{key:"map",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(this.mirror)return this._map(r,n,!0);for(var i=this.from;i<this.to;i++)r=this._maps[i].map(r,n);return r}},{key:"mapResult",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._map(r,n,!1)}},{key:"_map",value:function(r,n,i){for(var s=0,a=this.from;a<this.to;a++){var o=this._maps[a],l=o.mapResult(r,n);if(l.recover!=null){var u=this.getMirror(a);if(u!=null&&u>a&&u<this.to){a=u,r=this._maps[u].recover(l.recover);continue}}s|=l.delInfo,r=l.pos}return i?r:new Vl(r,s,null)}}]),t})(),Hd=Object.create(null),wt=(function(){function t(){At(this,t)}return Ot(t,[{key:"getMap",value:function(){return Fn.empty}},{key:"merge",value:function(r){return null}}],[{key:"fromJSON",value:function(r,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");var i=Hd[n.stepType];if(!i)throw new RangeError("No step type ".concat(n.stepType," defined"));return i.fromJSON(r,n)}},{key:"jsonID",value:function(r,n){if(r in Hd)throw new RangeError("Duplicate use of step JSON ID "+r);return Hd[r]=n,n.prototype.jsonID=r,n}}]),t})(),Tt=(function(){function t(e,r){At(this,t),this.doc=e,this.failed=r}return Ot(t,null,[{key:"ok",value:function(r){return new t(r,null)}},{key:"fail",value:function(r){return new t(null,r)}},{key:"fromReplace",value:function(r,n,i,s){try{return t.ok(r.replace(n,i,s))}catch(a){if(a instanceof _e.ReplaceError)return t.fail(a.message);throw a}}}]),t})();function Vd(t,e,r){for(var n=[],i=0;i<t.childCount;i++){var s=t.child(i);s.content.size&&(s=s.copy(Vd(s.content,e,s))),s.isInline&&(s=e(s,r,i)),n.push(s)}return _e.Fragment.fromArray(n)}var Kl=(function(t){fn(r,t);var e=hn(r);function r(n,i,s){var a;return At(this,r),a=e.call(this),a.from=n,a.to=i,a.mark=s,a}return Ot(r,[{key:"apply",value:function(i){var s=this,a=i.slice(this.from,this.to),o=i.resolve(this.from),l=o.node(o.sharedDepth(this.to)),u=new _e.Slice(Vd(a.content,function(c,f){return!c.isAtom||!f.type.allowsMarkType(s.mark.type)?c:c.mark(s.mark.addToSet(c.marks))},l),a.openStart,a.openEnd);return Tt.fromReplace(i,this.from,this.to,u)}},{key:"invert",value:function(){return new ss(this.from,this.to,this.mark)}},{key:"map",value:function(i){var s=i.mapResult(this.from,1),a=i.mapResult(this.to,-1);return s.deleted&&a.deleted||s.pos>=a.pos?null:new r(s.pos,a.pos,this.mark)}},{key:"merge",value:function(i){return i instanceof r&&i.mark.eq(this.mark)&&this.from<=i.to&&this.to>=i.from?new r(Math.min(this.from,i.from),Math.max(this.to,i.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(i,s){if(typeof s.from!="number"||typeof s.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new r(s.from,s.to,i.markFromJSON(s.mark))}}]),r})(wt);wt.jsonID("addMark",Kl);var ss=(function(t){fn(r,t);var e=hn(r);function r(n,i,s){var a;return At(this,r),a=e.call(this),a.from=n,a.to=i,a.mark=s,a}return Ot(r,[{key:"apply",value:function(i){var s=this,a=i.slice(this.from,this.to),o=new _e.Slice(Vd(a.content,function(l){return l.mark(s.mark.removeFromSet(l.marks))},i),a.openStart,a.openEnd);return Tt.fromReplace(i,this.from,this.to,o)}},{key:"invert",value:function(){return new Kl(this.from,this.to,this.mark)}},{key:"map",value:function(i){var s=i.mapResult(this.from,1),a=i.mapResult(this.to,-1);return s.deleted&&a.deleted||s.pos>=a.pos?null:new r(s.pos,a.pos,this.mark)}},{key:"merge",value:function(i){return i instanceof r&&i.mark.eq(this.mark)&&this.from<=i.to&&this.to>=i.from?new r(Math.min(this.from,i.from),Math.max(this.to,i.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(i,s){if(typeof s.from!="number"||typeof s.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new r(s.from,s.to,i.markFromJSON(s.mark))}}]),r})(wt);wt.jsonID("removeMark",ss);var Gl=(function(t){fn(r,t);var e=hn(r);function r(n,i){var s;return At(this,r),s=e.call(this),s.pos=n,s.mark=i,s}return Ot(r,[{key:"apply",value:function(i){var s=i.nodeAt(this.pos);if(!s)return Tt.fail("No node at mark step's position");var a=s.type.create(s.attrs,null,this.mark.addToSet(s.marks));return Tt.fromReplace(i,this.pos,this.pos+1,new _e.Slice(_e.Fragment.from(a),0,s.isLeaf?0:1))}},{key:"invert",value:function(i){var s=i.nodeAt(this.pos);if(s){var a=this.mark.addToSet(s.marks);if(a.length==s.marks.length){for(var o=0;o<s.marks.length;o++)if(!s.marks[o].isInSet(a))return new r(this.pos,s.marks[o]);return new r(this.pos,this.mark)}}return new No(this.pos,this.mark)}},{key:"map",value:function(i){var s=i.mapResult(this.pos,1);return s.deletedAfter?null:new r(s.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(i,s){if(typeof s.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new r(s.pos,i.markFromJSON(s.mark))}}]),r})(wt);wt.jsonID("addNodeMark",Gl);var No=(function(t){fn(r,t);var e=hn(r);function r(n,i){var s;return At(this,r),s=e.call(this),s.pos=n,s.mark=i,s}return Ot(r,[{key:"apply",value:function(i){var s=i.nodeAt(this.pos);if(!s)return Tt.fail("No node at mark step's position");var a=s.type.create(s.attrs,null,this.mark.removeFromSet(s.marks));return Tt.fromReplace(i,this.pos,this.pos+1,new _e.Slice(_e.Fragment.from(a),0,s.isLeaf?0:1))}},{key:"invert",value:function(i){var s=i.nodeAt(this.pos);return!s||!this.mark.isInSet(s.marks)?this:new Gl(this.pos,this.mark)}},{key:"map",value:function(i){var s=i.mapResult(this.pos,1);return s.deletedAfter?null:new r(s.pos,this.mark)}},{key:"toJSON",value:function(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}}],[{key:"fromJSON",value:function(i,s){if(typeof s.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new r(s.pos,i.markFromJSON(s.mark))}}]),r})(wt);wt.jsonID("removeNodeMark",No);var cn=(function(t){fn(r,t);var e=hn(r);function r(n,i,s){var a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return At(this,r),a=e.call(this),a.from=n,a.to=i,a.slice=s,a.structure=o,a}return Ot(r,[{key:"apply",value:function(i){return this.structure&&qd(i,this.from,this.to)?Tt.fail("Structure replace would overwrite content"):Tt.fromReplace(i,this.from,this.to,this.slice)}},{key:"getMap",value:function(){return new Fn([this.from,this.to-this.from,this.slice.size])}},{key:"invert",value:function(i){return new r(this.from,this.from+this.slice.size,i.slice(this.from,this.to))}},{key:"map",value:function(i){var s=i.mapResult(this.from,1),a=i.mapResult(this.to,-1);return s.deletedAcross&&a.deletedAcross?null:new r(s.pos,Math.max(s.pos,a.pos),this.slice,this.structure)}},{key:"merge",value:function(i){if(!(i instanceof r)||i.structure||this.structure)return null;if(this.from+this.slice.size==i.from&&!this.slice.openEnd&&!i.slice.openStart){var s=this.slice.size+i.slice.size==0?_e.Slice.empty:new _e.Slice(this.slice.content.append(i.slice.content),this.slice.openStart,i.slice.openEnd);return new r(this.from,this.to+(i.to-i.from),s,this.structure)}else if(i.to==this.from&&!this.slice.openStart&&!i.slice.openEnd){var a=this.slice.size+i.slice.size==0?_e.Slice.empty:new _e.Slice(i.slice.content.append(this.slice.content),i.slice.openStart,this.slice.openEnd);return new r(i.from,this.to,a,this.structure)}else return null}},{key:"toJSON",value:function(){var i={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(i.slice=this.slice.toJSON()),this.structure&&(i.structure=!0),i}}],[{key:"fromJSON",value:function(i,s){if(typeof s.from!="number"||typeof s.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new r(s.from,s.to,_e.Slice.fromJSON(i,s.slice),!!s.structure)}}]),r})(wt);wt.jsonID("replace",cn);var di=(function(t){fn(r,t);var e=hn(r);function r(n,i,s,a,o,l){var u,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1;return At(this,r),u=e.call(this),u.from=n,u.to=i,u.gapFrom=s,u.gapTo=a,u.slice=o,u.insert=l,u.structure=c,u}return Ot(r,[{key:"apply",value:function(i){if(this.structure&&(qd(i,this.from,this.gapFrom)||qd(i,this.gapTo,this.to)))return Tt.fail("Structure gap-replace would overwrite content");var s=i.slice(this.gapFrom,this.gapTo);if(s.openStart||s.openEnd)return Tt.fail("Gap is not a flat range");var a=this.slice.insertAt(this.insert,s.content);return a?Tt.fromReplace(i,this.from,this.to,a):Tt.fail("Content does not fit in gap")}},{key:"getMap",value:function(){return new Fn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}},{key:"invert",value:function(i){var s=this.gapTo-this.gapFrom;return new r(this.from,this.from+this.slice.size+s,this.from+this.insert,this.from+this.insert+s,i.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}},{key:"map",value:function(i){var s=i.mapResult(this.from,1),a=i.mapResult(this.to,-1),o=this.from==this.gapFrom?s.pos:i.map(this.gapFrom,-1),l=this.to==this.gapTo?a.pos:i.map(this.gapTo,1);return s.deletedAcross&&a.deletedAcross||o<s.pos||l>a.pos?null:new r(s.pos,a.pos,o,l,this.slice,this.insert,this.structure)}},{key:"toJSON",value:function(){var i={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(i.slice=this.slice.toJSON()),this.structure&&(i.structure=!0),i}}],[{key:"fromJSON",value:function(i,s){if(typeof s.from!="number"||typeof s.to!="number"||typeof s.gapFrom!="number"||typeof s.gapTo!="number"||typeof s.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new r(s.from,s.to,s.gapFrom,s.gapTo,_e.Slice.fromJSON(i,s.slice),s.insert,!!s.structure)}}]),r})(wt);wt.jsonID("replaceAround",di);function qd(t,e,r){for(var n=t.resolve(e),i=r-e,s=n.depth;i>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,i--;if(i>0)for(var a=n.node(s).maybeChild(n.indexAfter(s));i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}return!1}function u8(t,e,r,n){var i=[],s=[],a,o;t.doc.nodesBetween(e,r,function(l,u,c){if(l.isInline){var f=l.marks;if(!n.isInSet(f)&&c.type.allowsMarkType(n.type)){for(var d=Math.max(u,e),h=Math.min(u+l.nodeSize,r),y=n.addToSet(f),v=0;v<f.length;v++)f[v].isInSet(y)||(a&&a.to==d&&a.mark.eq(f[v])?a.to=h:i.push(a=new ss(d,h,f[v])));o&&o.to==d?o.to=h:s.push(o=new Kl(d,h,n))}}}),i.forEach(function(l){return t.step(l)}),s.forEach(function(l){return t.step(l)})}function c8(t,e,r,n){var i=[],s=0;t.doc.nodesBetween(e,r,function(a,o){if(a.isInline){s++;var l=null;if(n instanceof _e.MarkType)for(var u=a.marks,c;c=n.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u);else n?n.isInSet(a.marks)&&(l=[n]):l=a.marks;if(l&&l.length)for(var f=Math.min(o+a.nodeSize,r),d=0;d<l.length;d++){for(var h=l[d],y=void 0,v=0;v<i.length;v++){var x=i[v];x.step==s-1&&h.eq(i[v].style)&&(y=x)}y?(y.to=f,y.step=s):i.push({style:h,from:Math.max(o,e),to:f,step:s})}}}),i.forEach(function(a){return t.step(new ss(a.from,a.to,a.style))})}function Kd(t,e,r){for(var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r.contentMatch,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=t.doc.nodeAt(e),a=[],o=e+1,l=0;l<s.childCount;l++){var u=s.child(l),c=o+u.nodeSize,f=n.matchType(u.type);if(!f)a.push(new cn(o,c,_e.Slice.empty));else{n=f;for(var d=0;d<u.marks.length;d++)r.allowsMarkType(u.marks[d].type)||t.step(new ss(o,c,u.marks[d]));if(i&&u.isText&&r.whitespace!="pre")for(var h=void 0,y=/\r?\n|\r/g,v=void 0;h=y.exec(u.text);)v||(v=new _e.Slice(_e.Fragment.from(r.schema.text(" ",r.allowedMarks(u.marks))),0,0)),a.push(new cn(o+h.index,o+h.index+h[0].length,v))}o=c}if(!n.validEnd){var x=n.fillBefore(_e.Fragment.empty,!0);t.replace(o,o,new _e.Slice(x,0,0))}for(var m=a.length-1;m>=0;m--)t.step(a[m])}function f8(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function h8(t){for(var e=t.parent,r=e.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth,i=0,s=0;;--n){var a=t.$from.node(n),o=t.$from.index(n)+i,l=t.$to.indexAfter(n)-s;if(n<t.depth&&a.canReplace(o,l,r))return n;if(n==0||a.type.spec.isolating||!f8(a,o,l))break;o&&(i=1),l<a.childCount&&(s=1)}return null}function d8(t,e,r){for(var n=e.$from,i=e.$to,s=e.depth,a=n.before(s+1),o=i.after(s+1),l=a,u=o,c=_e.Fragment.empty,f=0,d=s,h=!1;d>r;d--)h||n.index(d)>0?(h=!0,c=_e.Fragment.from(n.node(d).copy(c)),f++):l--;for(var y=_e.Fragment.empty,v=0,x=s,m=!1;x>r;x--)m||i.after(x+1)<i.end(x)?(m=!0,y=_e.Fragment.from(i.node(x).copy(y)),v++):u++;t.step(new di(l,u,a,o,new _e.Slice(c.append(y),f,v),c.size-f,!0))}function p8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,i=m8(t,e),s=i&&g8(n,e);return s?i.map(pA).concat({type:e,attrs:r}).concat(s.map(pA)):null}function pA(t){return{type:t,attrs:null}}function m8(t,e){var r=t.parent,n=t.startIndex,i=t.endIndex,s=r.contentMatchAt(n).findWrapping(e);if(!s)return null;var a=s.length?s[0]:e;return r.canReplaceWith(n,i,a)?s:null}function g8(t,e){var r=t.parent,n=t.startIndex,i=t.endIndex,s=r.child(n),a=e.contentMatch.findWrapping(s.type);if(!a)return null;for(var o=a.length?a[a.length-1]:e,l=o.contentMatch,u=n;l&&u<i;u++)l=l.matchType(r.child(u).type);return!l||!l.validEnd?null:a}function v8(t,e,r){for(var n=_e.Fragment.empty,i=r.length-1;i>=0;i--){if(n.size){var s=r[i].type.contentMatch.matchFragment(n);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=_e.Fragment.from(r[i].type.create(r[i].attrs,n))}var a=e.start,o=e.end;t.step(new di(a,o,a,o,new _e.Slice(n,0,0),r.length,!0))}function y8(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var s=t.steps.length;t.doc.nodesBetween(e,r,function(a,o){var l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(n,l)&&w8(t.doc,t.mapping.slice(s).map(o),n)){var u=null;if(n.schema.linebreakReplacement){var c=n.whitespace=="pre",f=!!n.contentMatch.matchType(n.schema.linebreakReplacement);c&&!f?u=!1:!c&&f&&(u=!0)}u===!1&&EA(t,a,o,s),Kd(t,t.mapping.slice(s).map(o,1),n,void 0,u===null);var d=t.mapping.slice(s),h=d.map(o,1),y=d.map(o+a.nodeSize,1);return t.step(new di(h,y,h+1,y-1,new _e.Slice(_e.Fragment.from(n.create(l,null,a.marks)),0,0),1,!0)),u===!0&&xA(t,a,o,s),!1}})}function xA(t,e,r,n){e.forEach(function(i,s){if(i.isText)for(var a,o=/\r?\n|\r/g;a=o.exec(i.text);){var l=t.mapping.slice(n).map(r+1+s+a.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}})}function EA(t,e,r,n){e.forEach(function(i,s){if(i.type==i.type.schema.linebreakReplacement){var a=t.mapping.slice(n).map(r+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function w8(t,e,r){var n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function b8(t,e,r,n,i){var s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");r||(r=s.type);var a=r.create(n,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!r.validContent(s.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new di(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new _e.Slice(_e.Fragment.from(a),0,0),1,!0))}function _8(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,i=t.resolve(e),s=i.depth-r,a=n&&n[n.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var o=i.depth-1,l=r-2;o>s;o--,l--){var u=i.node(o),c=i.index(o);if(u.type.spec.isolating)return!1;var f=u.content.cutByIndex(c,u.childCount),d=n&&n[l+1];d&&(f=f.replaceChild(0,d.type.create(d.attrs)));var h=n&&n[l]||u;if(!u.canReplace(c+1,u.childCount)||!h.type.validContent(f))return!1}var y=i.indexAfter(s),v=n&&n[0];return i.node(s).canReplaceWith(y,y,v?v.type:i.node(s+1).type)}function x8(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,i=t.doc.resolve(e),s=_e.Fragment.empty,a=_e.Fragment.empty,o=i.depth,l=i.depth-r,u=r-1;o>l;o--,u--){s=_e.Fragment.from(i.node(o).copy(s));var c=n&&n[u];a=_e.Fragment.from(c?c.type.create(c.attrs,a):i.node(o).copy(a))}t.step(new cn(e,e,new _e.Slice(s.append(a),r,r),!0))}function E8(t,e){var r=t.resolve(e),n=r.index();return SA(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function S8(t,e){e.content.size||t.type.compatibleContent(e.type);for(var r=t.contentMatchAt(t.childCount),n=t.type.schema.linebreakReplacement,i=0;i<e.childCount;i++){var s=e.child(i),a=s.type==n?t.type.schema.nodes.text:s.type;if(r=r.matchType(a),!r||!t.type.allowsMarks(s.marks))return!1}return r.validEnd}function SA(t,e){return!!(t&&e&&!t.isLeaf&&S8(t,e))}function k8(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,n=t.resolve(e),i=n.depth;;i--){var s=void 0,a=void 0,o=n.index(i);if(i==n.depth?(s=n.nodeBefore,a=n.nodeAfter):r>0?(s=n.node(i+1),o++,a=n.node(i).maybeChild(o)):(s=n.node(i).maybeChild(o-1),a=n.node(i+1)),s&&!s.isTextblock&&SA(s,a)&&n.node(i).canReplace(o,o+1))return e;if(i==0)break;e=r<0?n.before(i):n.after(i)}}function T8(t,e,r){var n=null,i=t.doc.type.schema.linebreakReplacement,s=t.doc.resolve(e-r),a=s.node().type;if(i&&a.inlineContent){var o=a.whitespace=="pre",l=!!a.contentMatch.matchType(i);o&&!l?n=!1:!o&&l&&(n=!0)}var u=t.steps.length;if(n===!1){var c=t.doc.resolve(e+r);EA(t,c.node(),c.before(),u)}a.inlineContent&&Kd(t,e+r-1,a,s.node().contentMatchAt(s.index()),n==null);var f=t.mapping.slice(u),d=f.map(e-r);if(t.step(new cn(d,f.map(e+r,-1),_e.Slice.empty,!0)),n===!0){var h=t.doc.resolve(d);xA(t,h.node(),h.before(),t.steps.length)}return t}function kA(t,e,r){var n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(var i=n.depth-1;i>=0;i--){var s=n.index(i);if(n.node(i).canReplaceWith(s,s,r))return n.before(i+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(var a=n.depth-1;a>=0;a--){var o=n.indexAfter(a);if(n.node(a).canReplaceWith(o,o,r))return n.after(a+1);if(o<n.node(a).childCount)return null}return null}function A8(t,e,r){var n=t.resolve(e);if(!r.content.size)return e;for(var i=r.content,s=0;s<r.openStart;s++)i=i.firstChild.content;for(var a=1;a<=(r.openStart==0&&r.size?2:1);a++)for(var o=n.depth;o>=0;o--){var l=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,u=n.index(o)+(l>0?1:0),c=n.node(o),f=!1;if(a==1)f=c.canReplace(u,u,i);else{var d=c.contentMatchAt(u).findWrapping(i.firstChild.type);f=d&&c.canReplaceWith(u,u,d[0])}if(f)return l==0?n.pos:l<0?n.before(o+1):n.after(o+1)}return null}function TA(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_e.Slice.empty;if(e==r&&!n.size)return null;var i=t.resolve(e),s=t.resolve(r);return AA(i,s,n)?new cn(e,r,n):new O8(i,s,n).fit()}function AA(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}var O8=(function(){function t(e,r,n){At(this,t),this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=_e.Fragment.empty;for(var i=0;i<=e.depth;i++){var s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(var a=e.depth;a>0;a--)this.placed=_e.Fragment.from(e.node(a).copy(this.placed))}return Ot(t,[{key:"depth",get:function(){return this.frontier.length-1}},{key:"fit",value:function(){for(;this.unplaced.size;){var r=this.findFittable();r?this.placeNodes(r):this.openMore()||this.dropNode()}var n=this.mustMoveInline(),i=this.placed.size-this.depth-this.$from.depth,s=this.$from,a=this.close(n<0?this.$to:s.doc.resolve(n));if(!a)return null;for(var o=this.placed,l=s.depth,u=a.depth;l&&u&&o.childCount==1;)o=o.firstChild.content,l--,u--;var c=new _e.Slice(o,l,u);return n>-1?new di(s.pos,n,this.$to.pos,this.$to.end(),c,i):c.size||s.pos!=this.$to.pos?new cn(s.pos,a.pos,c):null}},{key:"findFittable",value:function(){for(var r=this.unplaced.openStart,n=this.unplaced.content,i=0,s=this.unplaced.openEnd;i<r;i++){var a=n.firstChild;if(n.childCount>1&&(s=0),a.type.spec.isolating&&s<=i){r=i;break}n=a.content}for(var o=1;o<=2;o++)for(var l=o==1?r:this.unplaced.openStart;l>=0;l--){var u=void 0,c=null;l?(c=zd(this.unplaced.content,l-1).firstChild,u=c.content):u=this.unplaced.content;for(var f=u.firstChild,d=this.depth;d>=0;d--){var h=this.frontier[d],y=h.type,v=h.match,x=void 0,m=null;if(o==1&&(f?v.matchType(f.type)||(m=v.fillBefore(_e.Fragment.from(f),!1)):c&&y.compatibleContent(c.type)))return{sliceDepth:l,frontierDepth:d,parent:c,inject:m};if(o==2&&f&&(x=v.findWrapping(f.type)))return{sliceDepth:l,frontierDepth:d,parent:c,wrap:x};if(c&&v.matchType(c.type))break}}}},{key:"openMore",value:function(){var r=this.unplaced,n=r.content,i=r.openStart,s=r.openEnd,a=zd(n,i);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new _e.Slice(n,i+1,Math.max(s,a.size+i>=n.size-s?i+1:0)),!0)}},{key:"dropNode",value:function(){var r=this.unplaced,n=r.content,i=r.openStart,s=r.openEnd,a=zd(n,i);if(a.childCount<=1&&i>0){var o=n.size-i<=i+a.size;this.unplaced=new _e.Slice(ko(n,i-1,1),i-1,o?i-1:s)}else this.unplaced=new _e.Slice(ko(n,i,1),i,s)}},{key:"placeNodes",value:function(r){for(var n=r.sliceDepth,i=r.frontierDepth,s=r.parent,a=r.inject,o=r.wrap;this.depth>i;)this.closeFrontierNode();if(o)for(var l=0;l<o.length;l++)this.openFrontierNode(o[l]);var u=this.unplaced,c=s?s.content:u.content,f=u.openStart-n,d=0,h=[],y=this.frontier[i],v=y.match,x=y.type;if(a){for(var m=0;m<a.childCount;m++)h.push(a.child(m));v=v.matchFragment(a)}for(var _=c.size+n-(u.content.size-u.openEnd);d<c.childCount;){var b=c.child(d),w=v.matchType(b.type);if(!w)break;d++,(d>1||f==0||b.content.size)&&(v=w,h.push(OA(b.mark(x.allowedMarks(b.marks)),d==1?f:0,d==c.childCount?_:-1)))}var T=d==c.childCount;T||(_=-1),this.placed=To(this.placed,i,_e.Fragment.from(h)),this.frontier[i].match=v,T&&_<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var P=0,M=c;P<_;P++){var U=M.lastChild;this.frontier.push({type:U.type,match:U.contentMatchAt(U.childCount)}),M=U.content}this.unplaced=T?n==0?_e.Slice.empty:new _e.Slice(ko(u.content,n-1,1),n-1,_<0?u.openEnd:n-1):new _e.Slice(ko(u.content,n,d),u.openStart,u.openEnd)}},{key:"mustMoveInline",value:function(){if(!this.$to.parent.isTextblock)return-1;var r=this.frontier[this.depth],n;if(!r.type.isTextblock||!jd(this.$to,this.$to.depth,r.type,r.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;for(var i=this.$to.depth,s=this.$to.after(i);i>1&&s==this.$to.end(--i);)++s;return s}},{key:"findCloseLevel",value:function(r){e:for(var n=Math.min(this.depth,r.depth);n>=0;n--){var i=this.frontier[n],s=i.match,a=i.type,o=n<r.depth&&r.end(n+1)==r.pos+(r.depth-(n+1)),l=jd(r,n,a,s,o);if(l){for(var u=n-1;u>=0;u--){var c=this.frontier[u],f=c.match,d=c.type,h=jd(r,u,d,f,!0);if(!h||h.childCount)continue e}return{depth:n,fit:l,move:o?r.doc.resolve(r.after(n+1)):r}}}}},{key:"close",value:function(r){var n=this.findCloseLevel(r);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=To(this.placed,n.depth,n.fit)),r=n.move;for(var i=n.depth+1;i<=r.depth;i++){var s=r.node(i),a=s.type.contentMatch.fillBefore(s.content,!0,r.index(i));this.openFrontierNode(s.type,s.attrs,a)}return r}},{key:"openFrontierNode",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,s=this.frontier[this.depth];s.match=s.match.matchType(r),this.placed=To(this.placed,this.depth,_e.Fragment.from(r.create(n,i))),this.frontier.push({type:r,match:r.contentMatch})}},{key:"closeFrontierNode",value:function(){var r=this.frontier.pop(),n=r.match.fillBefore(_e.Fragment.empty,!0);n.childCount&&(this.placed=To(this.placed,this.frontier.length,n))}}]),t})();function ko(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(ko(t.firstChild.content,e-1,r)))}function To(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(To(t.lastChild.content,e-1,r)))}function zd(t,e){for(var r=0;r<e;r++)t=t.firstChild.content;return t}function OA(t,e,r){if(e<=0)return t;var n=t.content;return e>1&&(n=n.replaceChild(0,OA(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(_e.Fragment.empty,!0)))),t.copy(n)}function jd(t,e,r,n,i){var s=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==s.childCount&&!r.compatibleContent(s.type))return null;var o=n.fillBefore(s.content,!0,a);return o&&!N8(r,s.content,a)?o:null}function N8(t,e,r){for(var n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function R8(t){return t.spec.defining||t.spec.definingForContent}function C8(t,e,r,n){if(!n.size)return t.deleteRange(e,r);var i=t.doc.resolve(e),s=t.doc.resolve(r);if(AA(i,s,n))return t.step(new cn(e,r,n));var a=RA(i,s);a[a.length-1]==0&&a.pop();var o=-(i.depth+1);a.unshift(o);for(var l=i.depth,u=i.pos-1;l>0;l--,u--){var c=i.node(l).type.spec;if(c.defining||c.definingAsContext||c.isolating)break;a.indexOf(l)>-1?o=l:i.before(l)==u&&a.splice(1,0,-l)}for(var f=a.indexOf(o),d=[],h=n.openStart,y=n.content,v=0;;v++){var x=y.firstChild;if(d.push(x),v==n.openStart)break;y=x.content}for(var m=h-1;m>=0;m--){var _=d[m],b=R8(_.type);if(b&&!_.sameMarkup(i.node(Math.abs(o)-1)))h=m;else if(b||!_.type.isTextblock)break}for(var w=n.openStart;w>=0;w--){var T=(w+h+1)%(n.openStart+1),P=d[T];if(P)for(var M=0;M<a.length;M++){var U=a[(M+f)%a.length],R=!0;U<0&&(R=!1,U=-U);var J=i.node(U-1),oe=i.index(U-1);if(J.canReplaceWith(oe,oe,P.type,P.marks))return t.replace(i.before(U),R?s.after(U):r,new _e.Slice(NA(n.content,0,n.openStart,T),T,n.openEnd))}}for(var C=t.steps.length,H=a.length-1;H>=0&&(t.replace(e,r,n),!(t.steps.length>C));H--){var k=a[H];k<0||(e=i.before(k),r=s.after(k))}}function NA(t,e,r,n,i){if(e<r){var s=t.firstChild;t=t.replaceChild(0,s.copy(NA(s.content,e+1,r,n,s)))}if(e>n){var a=i.contentMatchAt(0),o=a.fillBefore(t).append(t);t=o.append(a.matchFragment(o).fillBefore(_e.Fragment.empty,!0))}return t}function I8(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){var i=kA(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new _e.Slice(_e.Fragment.from(n),0,0))}function P8(t,e,r){for(var n=t.doc.resolve(e),i=t.doc.resolve(r),s=RA(n,i),a=0;a<s.length;a++){var o=s[a],l=a==s.length-1;if(l&&o==0||n.node(o).type.contentMatch.validEnd)return t.delete(n.start(o),i.end(o));if(o>0&&(l||n.node(o-1).canReplace(n.index(o-1),i.indexAfter(o-1))))return t.delete(n.before(o),i.after(o))}for(var u=1;u<=n.depth&&u<=i.depth;u++)if(e-n.start(u)==n.depth-u&&r>n.end(u)&&i.end(u)-r!=i.depth-u&&n.start(u-1)==i.start(u-1)&&n.node(u-1).canReplace(n.index(u-1),i.index(u-1)))return t.delete(n.before(u),r);t.delete(e,r)}function RA(t,e){for(var r=[],n=Math.min(t.depth,e.depth),i=n;i>=0;i--){var s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&r.push(i)}return r}var Gd=(function(t){fn(r,t);var e=hn(r);function r(n,i,s){var a;return At(this,r),a=e.call(this),a.pos=n,a.attr=i,a.value=s,a}return Ot(r,[{key:"apply",value:function(i){var s=i.nodeAt(this.pos);if(!s)return Tt.fail("No node at attribute step's position");var a=Object.create(null);for(var o in s.attrs)a[o]=s.attrs[o];a[this.attr]=this.value;var l=s.type.create(a,null,s.marks);return Tt.fromReplace(i,this.pos,this.pos+1,new _e.Slice(_e.Fragment.from(l),0,s.isLeaf?0:1))}},{key:"getMap",value:function(){return Fn.empty}},{key:"invert",value:function(i){return new r(this.pos,this.attr,i.nodeAt(this.pos).attrs[this.attr])}},{key:"map",value:function(i){var s=i.mapResult(this.pos,1);return s.deletedAfter?null:new r(s.pos,this.attr,this.value)}},{key:"toJSON",value:function(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(i,s){if(typeof s.pos!="number"||typeof s.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new r(s.pos,s.attr,s.value)}}]),r})(wt);wt.jsonID("attr",Gd);var $d=(function(t){fn(r,t);var e=hn(r);function r(n,i){var s;return At(this,r),s=e.call(this),s.attr=n,s.value=i,s}return Ot(r,[{key:"apply",value:function(i){var s=Object.create(null);for(var a in i.attrs)s[a]=i.attrs[a];s[this.attr]=this.value;var o=i.type.create(s,i.content,i.marks);return Tt.ok(o)}},{key:"getMap",value:function(){return Fn.empty}},{key:"invert",value:function(i){return new r(this.attr,i.attrs[this.attr])}},{key:"map",value:function(i){return this}},{key:"toJSON",value:function(){return{stepType:"docAttr",attr:this.attr,value:this.value}}}],[{key:"fromJSON",value:function(i,s){if(typeof s.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new r(s.attr,s.value)}}]),r})(wt);wt.jsonID("docAttr",$d);Ue.TransformError=(function(t){fn(r,t);var e=hn(r);function r(){return At(this,r),e.apply(this,arguments)}return Ot(r)})(Wd(Error));Ue.TransformError=function t(e){var r=Error.call(this,e);return r.__proto__=t.prototype,r};Ue.TransformError.prototype=Object.create(Error.prototype);Ue.TransformError.prototype.constructor=Ue.TransformError;Ue.TransformError.prototype.name="TransformError";var D8=(function(){function t(e){At(this,t),this.doc=e,this.steps=[],this.docs=[],this.mapping=new _A}return Ot(t,[{key:"before",get:function(){return this.docs.length?this.docs[0]:this.doc}},{key:"step",value:function(r){var n=this.maybeStep(r);if(n.failed)throw new Ue.TransformError(n.failed);return this}},{key:"maybeStep",value:function(r){var n=r.apply(this.doc);return n.failed||this.addStep(r,n.doc),n}},{key:"docChanged",get:function(){return this.steps.length>0}},{key:"addStep",value:function(r,n){this.docs.push(this.doc),this.steps.push(r),this.mapping.appendMap(r.getMap()),this.doc=n}},{key:"replace",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_e.Slice.empty,s=TA(this.doc,r,n,i);return s&&this.step(s),this}},{key:"replaceWith",value:function(r,n,i){return this.replace(r,n,new _e.Slice(_e.Fragment.from(i),0,0))}},{key:"delete",value:function(r,n){return this.replace(r,n,_e.Slice.empty)}},{key:"insert",value:function(r,n){return this.replaceWith(r,r,n)}},{key:"replaceRange",value:function(r,n,i){return C8(this,r,n,i),this}},{key:"replaceRangeWith",value:function(r,n,i){return I8(this,r,n,i),this}},{key:"deleteRange",value:function(r,n){return P8(this,r,n),this}},{key:"lift",value:function(r,n){return d8(this,r,n),this}},{key:"join",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return T8(this,r,n),this}},{key:"wrap",value:function(r,n){return v8(this,r,n),this}},{key:"setBlockType",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return y8(this,r,n,i,s),this}},{key:"setNodeMarkup",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0;return b8(this,r,n,i,s),this}},{key:"setNodeAttribute",value:function(r,n,i){return this.step(new Gd(r,n,i)),this}},{key:"setDocAttribute",value:function(r,n){return this.step(new $d(r,n)),this}},{key:"addNodeMark",value:function(r,n){return this.step(new Gl(r,n)),this}},{key:"removeNodeMark",value:function(r,n){var i=this.doc.nodeAt(r);if(!i)throw new RangeError("No node at position "+r);if(n instanceof _e.Mark)n.isInSet(i.marks)&&this.step(new No(r,n));else{for(var s=i.marks,a,o=[];a=n.isInSet(s);)o.push(new No(r,a)),s=a.removeFromSet(s);for(var l=o.length-1;l>=0;l--)this.step(o[l])}return this}},{key:"split",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;return x8(this,r,n,i),this}},{key:"addMark",value:function(r,n,i){return u8(this,r,n,i),this}},{key:"removeMark",value:function(r,n,i){return c8(this,r,n,i),this}},{key:"clearIncompatible",value:function(r,n,i){return Kd(this,r,n,i),this}}]),t})();Ue.AddMarkStep=Kl;Ue.AddNodeMarkStep=Gl;Ue.AttrStep=Gd;Ue.DocAttrStep=$d;Ue.MapResult=Vl;Ue.Mapping=_A;Ue.RemoveMarkStep=ss;Ue.RemoveNodeMarkStep=No;Ue.ReplaceAroundStep=di;Ue.ReplaceStep=cn;Ue.Step=wt;Ue.StepMap=Fn;Ue.StepResult=Tt;Ue.Transform=D8;Ue.canJoin=E8;Ue.canSplit=_8;Ue.dropPoint=A8;Ue.findWrapping=p8;Ue.insertPoint=kA;Ue.joinPoint=k8;Ue.liftTarget=h8;Ue.replaceStep=TA});var pr=xe($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});function M8(t){Object.keys(t).filter(e=>e!=="default"&&e!=="__esModule").forEach(e=>{$l.hasOwnProperty(e)||Object.defineProperty($l,e,{enumerable:!0,configurable:!0,get:()=>t[e]})})}var L8=Bn();M8(L8)});var dn=xe(Or=>{"use strict";function ls(){return typeof Reflect<"u"&&Reflect.get?ls=Reflect.get.bind():ls=function(e,r,n){var i=F8(e,r);if(i){var s=Object.getOwnPropertyDescriptor(i,r);return s.get?s.get.call(arguments.length<3?e:n):s.value}},ls.apply(this,arguments)}function F8(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Un(t),t!==null););return t}function Xl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zd(t,e)}function Zd(t,e){return Zd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zd(t,e)}function Yl(t){var e=H8();return function(){var n=Un(t),i;if(e){var s=Un(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return B8(this,i)}}function B8(t,e){if(e&&(pi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U8(t)}function U8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Un(t){return Un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Un(t)}function pi(t){"@babel/helpers - typeof";return pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(t)}function Zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z8(n.key),n)}}function Qt(t,e,r){return e&&CA(t.prototype,e),r&&CA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function z8(t){var e=j8(t,"string");return pi(e)==="symbol"?e:String(e)}function j8(t,e){if(pi(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(pi(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mr=Ln(),Qd=Bn(),Jd=Object.create(null),rt=(function(){function t(e,r,n){Zt(this,t),this.$anchor=e,this.$head=r,this.ranges=n||[new BA(e.min(r),e.max(r))]}return Qt(t,[{key:"anchor",get:function(){return this.$anchor.pos}},{key:"head",get:function(){return this.$head.pos}},{key:"from",get:function(){return this.$from.pos}},{key:"to",get:function(){return this.$to.pos}},{key:"$from",get:function(){return this.ranges[0].$from}},{key:"$to",get:function(){return this.ranges[0].$to}},{key:"empty",get:function(){for(var r=this.ranges,n=0;n<r.length;n++)if(r[n].$from.pos!=r[n].$to.pos)return!1;return!0}},{key:"content",value:function(){return this.$from.doc.slice(this.from,this.to,!0)}},{key:"replace",value:function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mr.Slice.empty,i=n.content.lastChild,s=null,a=0;a<n.openEnd;a++)s=i,i=i.lastChild;for(var o=r.steps.length,l=this.ranges,u=0;u<l.length;u++){var c=l[u],f=c.$from,d=c.$to,h=r.mapping.slice(o);r.replaceRange(h.map(f.pos),h.map(d.pos),u?mr.Slice.empty:n),u==0&&DA(r,o,(i?i.isInline:s&&s.isTextblock)?-1:1)}}},{key:"replaceWith",value:function(r,n){for(var i=r.steps.length,s=this.ranges,a=0;a<s.length;a++){var o=s[a],l=o.$from,u=o.$to,c=r.mapping.slice(i),f=c.map(l.pos),d=c.map(u.pos);a?r.deleteRange(f,d):(r.replaceRangeWith(f,d,n),DA(r,i,n.isInline?-1:1))}}},{key:"getBookmark",value:function(){return cs.between(this.$anchor,this.$head).getBookmark()}}],[{key:"findFrom",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=r.parent.inlineContent?new cs(r):as(r.node(0),r.parent,r.pos,r.index(),n,i);if(s)return s;for(var a=r.depth-1;a>=0;a--){var o=n<0?as(r.node(0),r.node(a),r.before(a+1),r.index(a),n,i):as(r.node(0),r.node(a),r.after(a+1),r.index(a)+1,n,i);if(o)return o}return null}},{key:"near",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.findFrom(r,n)||this.findFrom(r,-n)||new us(r.node(0))}},{key:"atStart",value:function(r){return as(r,r,0,0,1)||new us(r)}},{key:"atEnd",value:function(r){return as(r,r,r.content.size,r.childCount,-1)||new us(r)}},{key:"fromJSON",value:function(r,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");var i=Jd[n.type];if(!i)throw new RangeError("No selection type ".concat(n.type," defined"));return i.fromJSON(r,n)}},{key:"jsonID",value:function(r,n){if(r in Jd)throw new RangeError("Duplicate use of selection JSON ID "+r);return Jd[r]=n,n.prototype.jsonID=r,n}}]),t})();rt.prototype.visible=!0;var BA=Qt(function t(e,r){Zt(this,t),this.$from=e,this.$to=r}),IA=!1;function PA(t){!IA&&!t.parent.inlineContent&&(IA=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}var cs=(function(t){Xl(r,t);var e=Yl(r);function r(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n;return Zt(this,r),PA(n),PA(i),e.call(this,n,i)}return Qt(r,[{key:"$cursor",get:function(){return this.$anchor.pos==this.$head.pos?this.$head:null}},{key:"map",value:function(i,s){var a=i.resolve(s.map(this.head));if(!a.parent.inlineContent)return rt.near(a);var o=i.resolve(s.map(this.anchor));return new r(o.parent.inlineContent?o:a,a)}},{key:"replace",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mr.Slice.empty;if(ls(Un(r.prototype),"replace",this).call(this,i,s),s==mr.Slice.empty){var a=this.$from.marksAcross(this.$to);a&&i.ensureMarks(a)}}},{key:"eq",value:function(i){return i instanceof r&&i.anchor==this.anchor&&i.head==this.head}},{key:"getBookmark",value:function(){return new UA(this.anchor,this.head)}},{key:"toJSON",value:function(){return{type:"text",anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(i,s){if(typeof s.anchor!="number"||typeof s.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new r(i.resolve(s.anchor),i.resolve(s.head))}},{key:"create",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s,o=i.resolve(s);return new this(o,a==s?o:i.resolve(a))}},{key:"between",value:function(i,s,a){var o=i.pos-s.pos;if((!a||o)&&(a=o>=0?1:-1),!s.parent.inlineContent){var l=rt.findFrom(s,a,!0)||rt.findFrom(s,-a,!0);if(l)s=l.$head;else return rt.near(s,a)}return i.parent.inlineContent||(o==0?i=s:(i=(rt.findFrom(i,-a,!0)||rt.findFrom(i,a,!0)).$anchor,i.pos<s.pos!=o<0&&(i=s))),new r(i,s)}}]),r})(rt);rt.jsonID("text",cs);var UA=(function(){function t(e,r){Zt(this,t),this.anchor=e,this.head=r}return Qt(t,[{key:"map",value:function(r){return new t(r.map(this.anchor),r.map(this.head))}},{key:"resolve",value:function(r){return cs.between(r.resolve(this.anchor),r.resolve(this.head))}}]),t})(),mi=(function(t){Xl(r,t);var e=Yl(r);function r(n){var i;Zt(this,r);var s=n.nodeAfter,a=n.node(0).resolve(n.pos+s.nodeSize);return i=e.call(this,n,a),i.node=s,i}return Qt(r,[{key:"map",value:function(i,s){var a=s.mapResult(this.anchor),o=a.deleted,l=a.pos,u=i.resolve(l);return o?rt.near(u):new r(u)}},{key:"content",value:function(){return new mr.Slice(mr.Fragment.from(this.node),0,0)}},{key:"eq",value:function(i){return i instanceof r&&i.anchor==this.anchor}},{key:"toJSON",value:function(){return{type:"node",anchor:this.anchor}}},{key:"getBookmark",value:function(){return new W8(this.anchor)}}],[{key:"fromJSON",value:function(i,s){if(typeof s.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new r(i.resolve(s.anchor))}},{key:"create",value:function(i,s){return new r(i.resolve(s))}},{key:"isSelectable",value:function(i){return!i.isText&&i.type.spec.selectable!==!1}}]),r})(rt);mi.prototype.visible=!1;rt.jsonID("node",mi);var W8=(function(){function t(e){Zt(this,t),this.anchor=e}return Qt(t,[{key:"map",value:function(r){var n=r.mapResult(this.anchor),i=n.deleted,s=n.pos;return i?new UA(s,s):new t(s)}},{key:"resolve",value:function(r){var n=r.resolve(this.anchor),i=n.nodeAfter;return i&&mi.isSelectable(i)?new mi(n):rt.near(n)}}]),t})(),us=(function(t){Xl(r,t);var e=Yl(r);function r(n){return Zt(this,r),e.call(this,n.resolve(0),n.resolve(n.content.size))}return Qt(r,[{key:"replace",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mr.Slice.empty;if(s==mr.Slice.empty){i.delete(0,i.doc.content.size);var a=rt.atStart(i.doc);a.eq(i.selection)||i.setSelection(a)}else ls(Un(r.prototype),"replace",this).call(this,i,s)}},{key:"toJSON",value:function(){return{type:"all"}}},{key:"map",value:function(i){return new r(i)}},{key:"eq",value:function(i){return i instanceof r}},{key:"getBookmark",value:function(){return q8}}],[{key:"fromJSON",value:function(i){return new r(i)}}]),r})(rt);rt.jsonID("all",us);var q8={map:function(){return this},resolve:function(e){return new us(e)}};function as(t,e,r,n,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(e.inlineContent)return cs.create(t,r);for(var a=n-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){var o=e.child(a);if(o.isAtom){if(!s&&mi.isSelectable(o))return mi.create(t,r-(i<0?o.nodeSize:0))}else{var l=as(t,o,r+i,i<0?o.childCount:0,i,s);if(l)return l}r+=o.nodeSize*i}return null}function DA(t,e,r){var n=t.steps.length-1;if(!(n<e)){var i=t.steps[n];if(i instanceof Qd.ReplaceStep||i instanceof Qd.ReplaceAroundStep){var s=t.mapping.maps[n],a;s.forEach(function(o,l,u,c){a==null&&(a=c)}),t.setSelection(rt.near(t.doc.resolve(a),r))}}}var MA=1,Jl=2,LA=4,HA=(function(t){Xl(r,t);var e=Yl(r);function r(n){var i;return Zt(this,r),i=e.call(this,n.doc),i.curSelectionFor=0,i.updated=0,i.meta=Object.create(null),i.time=Date.now(),i.curSelection=n.selection,i.storedMarks=n.storedMarks,i}return Qt(r,[{key:"selection",get:function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}},{key:"setSelection",value:function(i){if(i.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=i,this.curSelectionFor=this.steps.length,this.updated=(this.updated|MA)&~Jl,this.storedMarks=null,this}},{key:"selectionSet",get:function(){return(this.updated&MA)>0}},{key:"setStoredMarks",value:function(i){return this.storedMarks=i,this.updated|=Jl,this}},{key:"ensureMarks",value:function(i){return mr.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),i)||this.setStoredMarks(i),this}},{key:"addStoredMark",value:function(i){return this.ensureMarks(i.addToSet(this.storedMarks||this.selection.$head.marks()))}},{key:"removeStoredMark",value:function(i){return this.ensureMarks(i.removeFromSet(this.storedMarks||this.selection.$head.marks()))}},{key:"storedMarksSet",get:function(){return(this.updated&Jl)>0}},{key:"addStep",value:function(i,s){ls(Un(r.prototype),"addStep",this).call(this,i,s),this.updated=this.updated&~Jl,this.storedMarks=null}},{key:"setTime",value:function(i){return this.time=i,this}},{key:"replaceSelection",value:function(i){return this.selection.replace(this,i),this}},{key:"replaceSelectionWith",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=this.selection;return s&&(i=i.mark(this.storedMarks||(a.empty?a.$from.marks():a.$from.marksAcross(a.$to)||mr.Mark.none))),a.replaceWith(this,i),this}},{key:"deleteSelection",value:function(){return this.selection.replace(this),this}},{key:"insertText",value:function(i,s,a){var o=this.doc.type.schema;if(s==null)return i?this.replaceSelectionWith(o.text(i),!0):this.deleteSelection();if(a==null&&(a=s),!i)return this.deleteRange(s,a);var l=this.storedMarks;if(!l){var u=this.doc.resolve(s);l=a==s?u.marks():u.marksAcross(this.doc.resolve(a))}return this.replaceRangeWith(s,a,o.text(i,l)),!this.selection.empty&&this.selection.to==s+i.length&&this.setSelection(rt.near(this.selection.$to)),this}},{key:"setMeta",value:function(i,s){return this.meta[typeof i=="string"?i:i.key]=s,this}},{key:"getMeta",value:function(i){return this.meta[typeof i=="string"?i:i.key]}},{key:"isGeneric",get:function(){for(var i in this.meta)return!1;return!0}},{key:"scrollIntoView",value:function(){return this.updated|=LA,this}},{key:"scrolledIntoView",get:function(){return(this.updated&LA)>0}}]),r})(Qd.Transform);function FA(t,e){return!e||!t?t:t.bind(e)}var Ro=Qt(function t(e,r,n){Zt(this,t),this.name=e,this.init=FA(r.init,n),this.apply=FA(r.apply,n)}),V8=[new Ro("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new Ro("selection",{init:function(e,r){return e.selection||rt.atStart(r.doc)},apply:function(e){return e.selection}}),new Ro("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,r,n,i){return i.selection.$cursor?e.storedMarks:null}}),new Ro("scrollToSelection",{init:function(){return 0},apply:function(e,r){return e.scrolledIntoView?r+1:r}})],Xd=Qt(function t(e,r){var n=this;Zt(this,t),this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=V8.slice(),r&&r.forEach(function(i){if(n.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");n.plugins.push(i),n.pluginsByKey[i.key]=i,i.spec.state&&n.fields.push(new Ro(i.key,i.spec.state,i))})}),K8=(function(){function t(e){Zt(this,t),this.config=e}return Qt(t,[{key:"schema",get:function(){return this.config.schema}},{key:"plugins",get:function(){return this.config.plugins}},{key:"apply",value:function(r){return this.applyTransaction(r).state}},{key:"filterTransaction",value:function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=0;i<this.config.plugins.length;i++)if(i!=n){var s=this.config.plugins[i];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,r,this))return!1}return!0}},{key:"applyTransaction",value:function(r){if(!this.filterTransaction(r))return{state:this,transactions:[]};for(var n=[r],i=this.applyInner(r),s=null;;){for(var a=!1,o=0;o<this.config.plugins.length;o++){var l=this.config.plugins[o];if(l.spec.appendTransaction){var u=s?s[o].n:0,c=s?s[o].state:this,f=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,c,i);if(f&&i.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",r),!s){s=[];for(var d=0;d<this.config.plugins.length;d++)s.push(d<o?{state:i,n:n.length}:{state:this,n:0})}n.push(f),i=i.applyInner(f),a=!0}s&&(s[o]={state:i,n:n.length})}}if(!a)return{state:i,transactions:n}}}},{key:"applyInner",value:function(r){if(!r.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var n=new t(this.config),i=this.config.fields,s=0;s<i.length;s++){var a=i[s];n[a.name]=a.apply(r,this[a.name],this,n)}return n}},{key:"tr",get:function(){return new HA(this)}},{key:"reconfigure",value:function(r){for(var n=new Xd(this.schema,r.plugins),i=n.fields,s=new t(n),a=0;a<i.length;a++){var o=i[a].name;s[o]=this.hasOwnProperty(o)?this[o]:i[a].init(r,s)}return s}},{key:"toJSON",value:function(r){var n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(function(o){return o.toJSON()})),r&&pi(r)=="object")for(var i in r){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var s=r[i],a=s.spec.state;a&&a.toJSON&&(n[i]=a.toJSON.call(s,this[s.key]))}return n}}],[{key:"create",value:function(r){for(var n=new Xd(r.doc?r.doc.type.schema:r.schema,r.plugins),i=new t(n),s=0;s<n.fields.length;s++)i[n.fields[s].name]=n.fields[s].init(r,i);return i}},{key:"fromJSON",value:function(r,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!r.schema)throw new RangeError("Required config field 'schema' missing");var s=new Xd(r.schema,r.plugins),a=new t(s);return s.fields.forEach(function(o){if(o.name=="doc")a.doc=mr.Node.fromJSON(r.schema,n.doc);else if(o.name=="selection")a.selection=rt.fromJSON(a.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(a.storedMarks=n.storedMarks.map(r.schema.markFromJSON));else{if(i)for(var l in i){var u=i[l],c=u.spec.state;if(u.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){a[o.name]=c.fromJSON.call(u,r,n[l],a);return}}a[o.name]=o.init(r,a)}}),a}}]),t})();function zA(t,e,r){for(var n in t){var i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=zA(i,e,{})),r[n]=i}return r}var G8=(function(){function t(e){Zt(this,t),this.spec=e,this.props={},e.props&&zA(e.props,this,this.props),this.key=e.key?e.key.key:jA("plugin")}return Qt(t,[{key:"getState",value:function(r){return r[this.key]}}]),t})(),Yd=Object.create(null);function jA(t){return t in Yd?t+"$"+ ++Yd[t]:(Yd[t]=0,t+"$")}var $8=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"key";Zt(this,t),this.key=jA(e)}return Qt(t,[{key:"get",value:function(r){return r.config.pluginsByKey[this.key]}},{key:"getState",value:function(r){return r[this.key]}}]),t})();Or.AllSelection=us;Or.EditorState=K8;Or.NodeSelection=mi;Or.Plugin=G8;Or.PluginKey=$8;Or.Selection=rt;Or.SelectionRange=BA;Or.TextSelection=cs;Or.Transaction=HA});var aO=xe(He=>{"use strict";var Ye=Bn(),Nr=Ln(),qe=dn(),rp=function(e,r){return e.selection.empty?!1:(r&&r(e.tr.deleteSelection().scrollIntoView()),!0)};function qA(t,e){var r=t.selection.$cursor;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}var VA=function(e,r,n){var i=qA(e,n);if(!i)return!1;var s=np(i);if(!s){var a=i.blockRange(),o=a&&Ye.liftTarget(a);return o==null?!1:(r&&r(e.tr.lift(a,o).scrollIntoView()),!0)}var l=s.nodeBefore;if(nO(e,s,r,-1))return!0;if(i.parent.content.size==0&&(fs(l,"end")||qe.NodeSelection.isSelectable(l)))for(var u=i.depth;;u--){var c=Ye.replaceStep(e.doc,i.before(u),i.after(u),Nr.Slice.empty);if(c&&c.slice.size<c.to-c.from){if(r){var f=e.tr.step(c);f.setSelection(fs(l,"end")?qe.Selection.findFrom(f.doc.resolve(f.mapping.map(s.pos,-1)),-1):qe.NodeSelection.create(f.doc,s.pos-l.nodeSize)),r(f.scrollIntoView())}return!0}if(u==1||i.node(u-1).childCount>1)break}return l.isAtom&&s.depth==i.depth-1?(r&&r(e.tr.delete(s.pos-l.nodeSize,s.pos).scrollIntoView()),!0):!1},J8=function(e,r,n){var i=qA(e,n);if(!i)return!1;var s=np(i);return s?KA(e,s,r):!1},X8=function(e,r,n){var i=$A(e,n);if(!i)return!1;var s=ip(i);return s?KA(e,s,r):!1};function KA(t,e,r){for(var n=e.nodeBefore,i=n,s=e.pos-1;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;var a=i.lastChild;if(!a)return!1;i=a}for(var o=e.nodeAfter,l=o,u=e.pos+1;!l.isTextblock;u++){if(l.type.spec.isolating)return!1;var c=l.firstChild;if(!c)return!1;l=c}var f=Ye.replaceStep(t.doc,s,u,Nr.Slice.empty);if(!f||f.from!=s||f instanceof Ye.ReplaceStep&&f.slice.size>=u-s)return!1;if(r){var d=t.tr.step(f);d.setSelection(qe.TextSelection.create(d.doc,s)),r(d.scrollIntoView())}return!0}function fs(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}var GA=function(e,r,n){var i=e.selection,s=i.$head,a=i.empty,o=s;if(!a)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):s.parentOffset>0)return!1;o=np(s)}var l=o&&o.nodeBefore;return!l||!qe.NodeSelection.isSelectable(l)?!1:(r&&r(e.tr.setSelection(qe.NodeSelection.create(e.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function np(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function $A(t,e){var r=t.selection.$cursor;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}var JA=function(e,r,n){var i=$A(e,n);if(!i)return!1;var s=ip(i);if(!s)return!1;var a=s.nodeAfter;if(nO(e,s,r,1))return!0;if(i.parent.content.size==0&&(fs(a,"start")||qe.NodeSelection.isSelectable(a))){var o=Ye.replaceStep(e.doc,i.before(),i.after(),Nr.Slice.empty);if(o&&o.slice.size<o.to-o.from){if(r){var l=e.tr.step(o);l.setSelection(fs(a,"start")?qe.Selection.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):qe.NodeSelection.create(l.doc,l.mapping.map(s.pos))),r(l.scrollIntoView())}return!0}}return a.isAtom&&s.depth==i.depth-1?(r&&r(e.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0):!1},XA=function(e,r,n){var i=e.selection,s=i.$head,a=i.empty,o=s;if(!a)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):s.parentOffset<s.parent.content.size)return!1;o=ip(s)}var l=o&&o.nodeAfter;return!l||!qe.NodeSelection.isSelectable(l)?!1:(r&&r(e.tr.setSelection(qe.NodeSelection.create(e.doc,o.pos)).scrollIntoView()),!0)};function ip(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}var Y8=function(e,r){var n=e.selection,i=n instanceof qe.NodeSelection,s;if(i){if(n.node.isTextblock||!Ye.canJoin(e.doc,n.from))return!1;s=n.from}else if(s=Ye.joinPoint(e.doc,n.from,-1),s==null)return!1;if(r){var a=e.tr.join(s);i&&a.setSelection(qe.NodeSelection.create(a.doc,s-e.doc.resolve(s).nodeBefore.nodeSize)),r(a.scrollIntoView())}return!0},Z8=function(e,r){var n=e.selection,i;if(n instanceof qe.NodeSelection){if(n.node.isTextblock||!Ye.canJoin(e.doc,n.to))return!1;i=n.to}else if(i=Ye.joinPoint(e.doc,n.to,1),i==null)return!1;return r&&r(e.tr.join(i).scrollIntoView()),!0},Q8=function(e,r){var n=e.selection,i=n.$from,s=n.$to,a=i.blockRange(s),o=a&&Ye.liftTarget(a);return o==null?!1:(r&&r(e.tr.lift(a,o).scrollIntoView()),!0)},YA=function(e,r){var n=e.selection,i=n.$head,s=n.$anchor;return!i.parent.type.spec.code||!i.sameParent(s)?!1:(r&&r(e.tr.insertText(`
`).scrollIntoView()),!0)};function sp(t){for(var e=0;e<t.edgeCount;e++){var r=t.edge(e),n=r.type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}var ZA=function(e,r){var n=e.selection,i=n.$head,s=n.$anchor;if(!i.parent.type.spec.code||!i.sameParent(s))return!1;var a=i.node(-1),o=i.indexAfter(-1),l=sp(a.contentMatchAt(o));if(!l||!a.canReplaceWith(o,o,l))return!1;if(r){var u=i.after(),c=e.tr.replaceWith(u,u,l.createAndFill());c.setSelection(qe.Selection.near(c.doc.resolve(u),1)),r(c.scrollIntoView())}return!0},QA=function(e,r){var n=e.selection,i=n.$from,s=n.$to;if(n instanceof qe.AllSelection||i.parent.inlineContent||s.parent.inlineContent)return!1;var a=sp(s.parent.contentMatchAt(s.indexAfter()));if(!a||!a.isTextblock)return!1;if(r){var o=(!i.parentOffset&&s.index()<s.parent.childCount?i:s).pos,l=e.tr.insert(o,a.createAndFill());l.setSelection(qe.TextSelection.create(l.doc,o+1)),r(l.scrollIntoView())}return!0},eO=function(e,r){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var i=n.before();if(Ye.canSplit(e.doc,i))return r&&r(e.tr.split(i).scrollIntoView()),!0}var s=n.blockRange(),a=s&&Ye.liftTarget(s);return a==null?!1:(r&&r(e.tr.lift(s,a).scrollIntoView()),!0)};function tO(t){return function(e,r){var n=e.selection,i=n.$from,s=n.$to;if(e.selection instanceof qe.NodeSelection&&e.selection.node.isBlock)return!i.parentOffset||!Ye.canSplit(e.doc,i.pos)?!1:(r&&r(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;for(var a=[],o,l,u=!1,c=!1,f=i.depth;;f--){var d=i.node(f);if(d.isBlock){u=i.end(f)==i.pos+(i.depth-f),c=i.start(f)==i.pos-(i.depth-f),l=sp(i.node(f-1).contentMatchAt(i.indexAfter(f-1)));var h=t&&t(s.parent,u,i);a.unshift(h||(u&&l?{type:l}:null)),o=f;break}else{if(f==1)return!1;a.unshift(null)}}var y=e.tr;(e.selection instanceof qe.TextSelection||e.selection instanceof qe.AllSelection)&&y.deleteSelection();var v=y.mapping.map(i.pos),x=Ye.canSplit(y.doc,v,a.length,a);if(x||(a[0]=l?{type:l}:null,x=Ye.canSplit(y.doc,v,a.length,a)),!x)return!1;if(y.split(v,a.length,a),!u&&c&&i.node(o).type!=l){var m=y.mapping.map(i.before(o)),_=y.doc.resolve(m);l&&i.node(o-1).canReplaceWith(_.index(),_.index()+1,l)&&y.setNodeMarkup(y.mapping.map(i.before(o)),l)}return r&&r(y.scrollIntoView()),!0}}var op=tO(),eF=function(e,r){return op(e,r&&function(n){var i=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();i&&n.ensureMarks(i),r(n)})},tF=function(e,r){var n=e.selection,i=n.$from,s=n.to,a,o=i.sharedDepth(s);return o==0?!1:(a=i.before(o),r&&r(e.tr.setSelection(qe.NodeSelection.create(e.doc,a))),!0)},rO=function(e,r){return r&&r(e.tr.setSelection(new qe.AllSelection(e.doc))),!0};function rF(t,e,r){var n=e.nodeBefore,i=e.nodeAfter,s=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(s-1,s)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Ye.canJoin(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function nO(t,e,r,n){var i=e.nodeBefore,s=e.nodeAfter,a,o,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&rF(t,e,r))return!0;var u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(a=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(a[0]||s.type).validEnd){if(r){for(var c=e.pos+s.nodeSize,f=Nr.Fragment.empty,d=a.length-1;d>=0;d--)f=Nr.Fragment.from(a[d].create(null,f));f=Nr.Fragment.from(i.copy(f));var h=t.tr.step(new Ye.ReplaceAroundStep(e.pos-1,c,e.pos,c,new Nr.Slice(f,1,0),a.length,!0)),y=h.doc.resolve(c+2*a.length);y.nodeAfter&&y.nodeAfter.type==i.type&&Ye.canJoin(h.doc,y.pos)&&h.join(y.pos),r(h.scrollIntoView())}return!0}var v=s.type.spec.isolating||n>0&&l?null:qe.Selection.findFrom(e,1),x=v&&v.$from.blockRange(v.$to),m=x&&Ye.liftTarget(x);if(m!=null&&m>=e.depth)return r&&r(t.tr.lift(x,m).scrollIntoView()),!0;if(u&&fs(s,"start",!0)&&fs(i,"end")){for(var _=i,b=[];b.push(_),!_.isTextblock;)_=_.lastChild;for(var w=s,T=1;!w.isTextblock;w=w.firstChild)T++;if(_.canReplace(_.childCount,_.childCount,w.content)){if(r){for(var P=Nr.Fragment.empty,M=b.length-1;M>=0;M--)P=Nr.Fragment.from(b[M].copy(P));var U=t.tr.step(new Ye.ReplaceAroundStep(e.pos-b.length,e.pos+s.nodeSize,e.pos+T,e.pos+s.nodeSize-T,new Nr.Slice(P,b.length,0),0,!0));r(U.scrollIntoView())}return!0}}return!1}function iO(t){return function(e,r){for(var n=e.selection,i=t<0?n.$from:n.$to,s=i.depth;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(r&&r(e.tr.setSelection(qe.TextSelection.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}var sO=iO(-1),oO=iO(1);function nF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return function(r,n){var i=r.selection,s=i.$from,a=i.$to,o=s.blockRange(a),l=o&&Ye.findWrapping(o,t,e);return l?(n&&n(r.tr.wrap(o,l).scrollIntoView()),!0):!1}}function iF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return function(r,n){for(var i=!1,s=0;s<r.selection.ranges.length&&!i;s++){var a=r.selection.ranges[s],o=a.$from.pos,l=a.$to.pos;r.doc.nodesBetween(o,l,function(y,v){if(i)return!1;if(!(!y.isTextblock||y.hasMarkup(t,e)))if(y.type==t)i=!0;else{var x=r.doc.resolve(v),m=x.index();i=x.parent.canReplaceWith(m,m+1,t)}})}if(!i)return!1;if(n){for(var u=r.tr,c=0;c<r.selection.ranges.length;c++){var f=r.selection.ranges[c],d=f.$from.pos,h=f.$to.pos;u.setBlockType(d,h,t,e)}n(u.scrollIntoView())}return!0}}function sF(t,e,r,n){for(var i=function(){var l=e[a],u=l.$from,c=l.$to,f=u.depth==0?t.inlineContent&&t.type.allowsMarkType(r):!1;if(t.nodesBetween(u.pos,c.pos,function(d,h){if(f||!n&&d.isAtom&&d.isInline&&h>=u.pos&&h+d.nodeSize<=c.pos)return!1;f=d.inlineContent&&d.type.allowsMarkType(r)}),f)return{v:!0}},s,a=0;a<e.length;a++)if(s=i(),s)return s.v;return!1}function oF(t){for(var e=[],r=function(){var s=t[n],a=s.$from,o=s.$to;a.doc.nodesBetween(a.pos,o.pos,function(l,u){if(l.isAtom&&l.content.size&&l.isInline&&u>=a.pos&&u+l.nodeSize<=o.pos)return u+1>a.pos&&e.push(new qe.SelectionRange(a,a.doc.resolve(u+1))),a=a.doc.resolve(u+1+l.content.size),!1}),a.pos<o.pos&&e.push(new qe.SelectionRange(a,o))},n=0;n<t.length;n++)r();return e}function aF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,n=(r&&r.removeWhenPresent)!==!1,i=(r&&r.enterInlineAtoms)!==!1,s=!(r&&r.includeWhitespace);return function(a,o){var l=a.selection,u=l.empty,c=l.$cursor,f=l.ranges;if(u&&!c||!sF(a.doc,f,t,i))return!1;if(o)if(c)t.isInSet(a.storedMarks||c.marks())?o(a.tr.removeStoredMark(t)):o(a.tr.addStoredMark(t.create(e)));else{var d,h=a.tr;i||(f=oF(f)),n?d=!f.some(function(U){return a.doc.rangeHasMark(U.$from.pos,U.$to.pos,t)}):d=!f.every(function(U){var R=!1;return h.doc.nodesBetween(U.$from.pos,U.$to.pos,function(J,oe,C){if(R)return!1;R=!t.isInSet(J.marks)&&!!C&&C.type.allowsMarkType(t)&&!(J.isText&&/^\s*$/.test(J.textBetween(Math.max(0,U.$from.pos-oe),Math.min(J.nodeSize,U.$to.pos-oe))))}),!R});for(var y=0;y<f.length;y++){var v=f[y],x=v.$from,m=v.$to;if(!d)h.removeMark(x.pos,m.pos,t);else{var _=x.pos,b=m.pos,w=x.nodeAfter,T=m.nodeBefore,P=s&&w&&w.isText?/^\s*/.exec(w.text)[0].length:0,M=s&&T&&T.isText?/\s*$/.exec(T.text)[0].length:0;_+P<b&&(_+=P,b-=M),h.addMark(_,b,t.create(e))}}o(h.scrollIntoView())}return!0}}function lF(t,e){return function(r){if(!r.isGeneric)return t(r);for(var n=[],i=0;i<r.mapping.maps.length;i++){for(var s=r.mapping.maps[i],a=0;a<n.length;a++)n[a]=s.map(n[a]);s.forEach(function(b,w,T,P){return n.push(T,P)})}for(var o=[],l=0;l<n.length;l+=2)for(var u=n[l],c=n[l+1],f=r.doc.resolve(u),d=f.sharedDepth(c),h=f.node(d),y=f.indexAfter(d),v=f.after(d+1);v<=c;++y){var x=h.maybeChild(y);if(!x)break;if(y&&o.indexOf(v)==-1){var m=h.child(y-1);m.type==x.type&&e(m,x)&&o.push(v)}v+=x.nodeSize}o.sort(function(b,w){return b-w});for(var _=o.length-1;_>=0;_--)Ye.canJoin(r.doc,o[_])&&r.join(o[_]);t(r)}}function uF(t,e){var r=Array.isArray(e)?function(n){return e.indexOf(n.type.name)>-1}:e;return function(n,i,s){return t(n,i&&lF(i,r),s)}}function Zl(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n,i,s){for(var a=0;a<e.length;a++)if(e[a](n,i,s))return!0;return!1}}var ep=Zl(rp,VA,GA),WA=Zl(rp,JA,XA),Rr={Enter:Zl(YA,QA,eO,op),"Mod-Enter":ZA,Backspace:ep,"Mod-Backspace":ep,"Shift-Backspace":ep,Delete:WA,"Mod-Delete":WA,"Mod-a":rO},ap={"Ctrl-h":Rr.Backspace,"Alt-Backspace":Rr["Mod-Backspace"],"Ctrl-d":Rr.Delete,"Ctrl-Alt-Backspace":Rr["Mod-Delete"],"Alt-Delete":Rr["Mod-Delete"],"Alt-d":Rr["Mod-Delete"],"Ctrl-a":sO,"Ctrl-e":oO};for(tp in Rr)ap[tp]=Rr[tp];var tp,cF=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,fF=cF?ap:Rr;He.autoJoin=uF;He.baseKeymap=fF;He.chainCommands=Zl;He.createParagraphNear=QA;He.deleteSelection=rp;He.exitCode=ZA;He.joinBackward=VA;He.joinDown=Z8;He.joinForward=JA;He.joinTextblockBackward=J8;He.joinTextblockForward=X8;He.joinUp=Y8;He.lift=Q8;He.liftEmptyBlock=eO;He.macBaseKeymap=ap;He.newlineInCode=YA;He.pcBaseKeymap=Rr;He.selectAll=rO;He.selectNodeBackward=GA;He.selectNodeForward=XA;He.selectParentNode=tF;He.selectTextblockEnd=oO;He.selectTextblockStart=sO;He.setBlockType=iF;He.splitBlock=op;He.splitBlockAs=tO;He.splitBlockKeepMarks=eF;He.toggleMark=aF;He.wrapIn=nF});var bt=xe(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});function hF(t){Object.keys(t).filter(e=>e!=="default"&&e!=="__esModule").forEach(e=>{Ql.hasOwnProperty(e)||Object.defineProperty(Ql,e,{enumerable:!0,configurable:!0,get:()=>t[e]})})}var dF=aO();hF(dF)});var Pe=xe(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});function pF(t){Object.keys(t).filter(e=>e!=="default"&&e!=="__esModule").forEach(e=>{eu.hasOwnProperty(e)||Object.defineProperty(eu,e,{enumerable:!0,configurable:!0,get:()=>t[e]})})}var mF=dn();pF(mF)});var gr=xe(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});function gF(t){Object.keys(t).filter(e=>e!=="default"&&e!=="__esModule").forEach(e=>{tu.hasOwnProperty(e)||Object.defineProperty(tu,e,{enumerable:!0,configurable:!0,get:()=>t[e]})})}var vF=Ln();gF(vF)});var dO=xe(vr=>{"use strict";var pn=Bn(),Ke=Ln(),yF=dn(),wF=["ol",0],bF=["ul",0],_F=["li",0],lO={attrs:{order:{default:1,validate:"number"}},parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM:function(e){return e.attrs.order==1?wF:["ol",{start:e.attrs.order},0]}},uO={parseDOM:[{tag:"ul"}],toDOM:function(){return bF}},cO={parseDOM:[{tag:"li"}],toDOM:function(){return _F},defining:!0};function lp(t,e){var r={};for(var n in t)r[n]=t[n];for(var i in e)r[i]=e[i];return r}function xF(t,e,r){return t.append({ordered_list:lp(lO,{content:"list_item+",group:r}),bullet_list:lp(uO,{content:"list_item+",group:r}),list_item:lp(cO,{content:e})})}function EF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return function(r,n){var i=r.selection,s=i.$from,a=i.$to,o=s.blockRange(a);if(!o)return!1;var l=n?r.tr:null;return fO(l,o,t,e)?(n&&n(l.scrollIntoView()),!0):!1}}function fO(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;var o=a.resolve(e.start-2);s=new Ke.NodeRange(o,o,e.depth),e.endIndex<e.parent.childCount&&(e=new Ke.NodeRange(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}var l=pn.findWrapping(s,r,n,e);return l?(t&&SF(t,e,l,i,r),!0):!1}function SF(t,e,r,n,i){for(var s=Ke.Fragment.empty,a=r.length-1;a>=0;a--)s=Ke.Fragment.from(r[a].type.create(r[a].attrs,s));t.step(new pn.ReplaceAroundStep(e.start-(n?2:0),e.end,e.start,e.end,new Ke.Slice(s,0,0),r.length,!0));for(var o=0,l=0;l<r.length;l++)r[l].type==i&&(o=l+1);for(var u=r.length-o,c=e.start+r.length-(n?2:0),f=e.parent,d=e.startIndex,h=e.endIndex,y=!0;d<h;d++,y=!1)!y&&pn.canSplit(t.doc,c,u)&&(t.split(c,u),c+=2*u),c+=f.child(d).nodeSize;return t}function hO(t,e){return function(r,n){var i=r.selection,s=i.$from,a=i.$to,o=i.node;if(o&&o.isBlock||s.depth<2||!s.sameParent(a))return!1;var l=s.node(-1);if(l.type!=t)return!1;if(s.parent.content.size==0&&s.node(-1).childCount==s.indexAfter(-1)){if(s.depth==3||s.node(-3).type!=t||s.index(-2)!=s.node(-2).childCount-1)return!1;if(n){for(var u=Ke.Fragment.empty,c=s.index(-1)?1:s.index(-2)?2:3,f=s.depth-c;f>=s.depth-3;f--)u=Ke.Fragment.from(s.node(f).copy(u));var d=s.indexAfter(-1)<s.node(-2).childCount?1:s.indexAfter(-2)<s.node(-3).childCount?2:3;u=u.append(Ke.Fragment.from(t.createAndFill()));var h=s.before(s.depth-(c-1)),y=r.tr.replace(h,s.after(-d),new Ke.Slice(u,4-c,0)),v=-1;y.doc.nodesBetween(h,y.doc.content.size,function(b,w){if(v>-1)return!1;b.isTextblock&&b.content.size==0&&(v=w+1)}),v>-1&&y.setSelection(yF.Selection.near(y.doc.resolve(v))),n(y.scrollIntoView())}return!0}var x=a.pos==s.end()?l.contentMatchAt(0).defaultType:null,m=r.tr.delete(s.pos,a.pos),_=x?[e?{type:t,attrs:e}:null,{type:x}]:void 0;return pn.canSplit(m.doc,s.pos,2,_)?(n&&n(m.split(s.pos,2,_).scrollIntoView()),!0):!1}}function kF(t,e){var r=hO(t,e);return function(n,i){return r(n,i&&function(s){var a=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();a&&s.ensureMarks(a),i(s)})}}function TF(t){return function(e,r){var n=e.selection,i=n.$from,s=n.$to,a=i.blockRange(s,function(o){return o.childCount>0&&o.firstChild.type==t});return a?r?i.node(a.depth-1).type==t?AF(e,r,t,a):OF(e,r,a):!0:!1}}function AF(t,e,r,n){var i=t.tr,s=n.end,a=n.$to.end(n.depth);s<a&&(i.step(new pn.ReplaceAroundStep(s-1,a,s,a,new Ke.Slice(Ke.Fragment.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Ke.NodeRange(i.doc.resolve(n.$from.pos),i.doc.resolve(a),n.depth));var o=pn.liftTarget(n);if(o==null)return!1;i.lift(n,o);var l=i.doc.resolve(i.mapping.map(s,-1)-1);return pn.canJoin(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function OF(t,e,r){for(var n=t.tr,i=r.parent,s=r.end,a=r.endIndex-1,o=r.startIndex;a>o;a--)s-=i.child(a).nodeSize,n.delete(s-1,s+1);var l=n.doc.resolve(r.start),u=l.nodeAfter;if(n.mapping.map(r.end)!=r.start+l.nodeAfter.nodeSize)return!1;var c=r.startIndex==0,f=r.endIndex==i.childCount,d=l.node(-1),h=l.index(-1);if(!d.canReplace(h+(c?0:1),h+1,u.content.append(f?Ke.Fragment.empty:Ke.Fragment.from(i))))return!1;var y=l.pos,v=y+u.nodeSize;return n.step(new pn.ReplaceAroundStep(y-(c?1:0),v+(f?1:0),y+1,v-1,new Ke.Slice((c?Ke.Fragment.empty:Ke.Fragment.from(i.copy(Ke.Fragment.empty))).append(f?Ke.Fragment.empty:Ke.Fragment.from(i.copy(Ke.Fragment.empty))),c?0:1,f?0:1),c?0:1)),e(n.scrollIntoView()),!0}function NF(t){return function(e,r){var n=e.selection,i=n.$from,s=n.$to,a=i.blockRange(s,function(v){return v.childCount>0&&v.firstChild.type==t});if(!a)return!1;var o=a.startIndex;if(o==0)return!1;var l=a.parent,u=l.child(o-1);if(u.type!=t)return!1;if(r){var c=u.lastChild&&u.lastChild.type==l.type,f=Ke.Fragment.from(c?t.create():null),d=new Ke.Slice(Ke.Fragment.from(t.create(null,Ke.Fragment.from(l.type.create(null,f)))),c?3:1,0),h=a.start,y=a.end;r(e.tr.step(new pn.ReplaceAroundStep(h-(c?3:1),y,h,y,d,1,!0)).scrollIntoView())}return!0}}vr.addListNodes=xF;vr.bulletList=uO;vr.liftListItem=TF;vr.listItem=cO;vr.orderedList=lO;vr.sinkListItem=NF;vr.splitListItem=hO;vr.splitListItemKeepMarks=kF;vr.wrapInList=EF;vr.wrapRangeInList=fO});var nu=xe(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});function RF(t){Object.keys(t).filter(e=>e!=="default"&&e!=="__esModule").forEach(e=>{ru.hasOwnProperty(e)||Object.defineProperty(ru,e,{enumerable:!0,configurable:!0,get:()=>t[e]})})}var CF=dO();RF(CF)});var Lp=xe(bs=>{"use strict";function XO(t,e){return DF(t)||PF(t,e)||YO(t,e)||IF()}function IF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PF(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function DF(t){if(Array.isArray(t))return t}function mp(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=YO(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,o;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(a)throw o}}}}function YO(t,e){if(t){if(typeof t=="string")return pO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pO(t,e)}}function pO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dt(){return typeof Reflect<"u"&&Reflect.get?Dt=Reflect.get.bind():Dt=function(e,r,n){var i=MF(e,r);if(i){var s=Object.getOwnPropertyDescriptor(i,r);return s.get?s.get.call(arguments.length<3?e:n):s.value}},Dt.apply(this,arguments)}function MF(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=_t(t),t!==null););return t}function xi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gp(t,e)}function gp(t,e){return gp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gp(t,e)}function Ei(t){var e=FF();return function(){var n=_t(t),i;if(e){var s=_t(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return LF(this,i)}}function LF(t,e){if(e&&(vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZO(t)}function ZO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _t(t){return _t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_t(t)}function vs(t){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(t)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BF(n.key),n)}}function it(t,e,r){return e&&mO(t.prototype,e),r&&mO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function BF(t){var e=UF(t,"string");return vs(e)==="symbol"?e:String(e)}function UF(t,e){if(vs(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ae=dn(),Xe=Ln(),HF=Bn(),xt=function(e){for(var r=0;;r++)if(e=e.previousSibling,!e)return r},ys=function(e){var r=e.assignedSlot||e.parentNode;return r&&r.nodeType==11?r.host:r},vp=null,gn=function(e,r,n){var i=vp||(vp=document.createRange());return i.setEnd(e,n??e.nodeValue.length),i.setStart(e,r||0),i},zF=function(){vp=null},_i=function(e,r,n,i){return n&&(gO(e,r,n,i,-1)||gO(e,r,n,i,1))},jF=/^(img|br|input|textarea|hr)$/i;function gO(t,e,r,n,i){for(var s;;){if(t==r&&e==n)return!0;if(e==(i<0?0:rr(t))){var a=t.parentNode;if(!a||a.nodeType!=1||Uo(t)||jF.test(t.nodeName)||t.contentEditable=="false")return!1;e=xt(t)+(i<0?0:1),t=a}else if(t.nodeType==1){var o=t.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=o,e=i<0?rr(t):0}else return!1}}function rr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function WF(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=rr(t)}else if(t.parentNode&&!Uo(t))e=xt(t),t=t.parentNode;else return null}}function qF(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Uo(t))e=xt(t)+1,t=t.parentNode;else return null}}function VF(t,e,r){for(var n=e==0,i=e==rr(t);n||i;){if(t==r)return!0;var s=xt(t);if(t=t.parentNode,!t)return!1;n=n&&s==0,i=i&&s==rr(t)}}function Uo(t){for(var e,r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var lu=function(e){return e.focusNode&&_i(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function gi(t,e){var r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function KF(t){for(var e=t.activeElement;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function GF(t,e,r){if(t.caretPositionFromPoint)try{var n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(rr(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){var i=t.caretRangeFromPoint(e,r);if(i)return{node:i.startContainer,offset:Math.min(rr(i.startContainer),i.startOffset)}}}var Cr=typeof navigator<"u"?navigator:null,vO=typeof document<"u"?document:null,qn=Cr&&Cr.userAgent||"",yp=/Edge\/(\d+)/.exec(qn),QO=/MSIE \d/.exec(qn),wp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(qn),qt=!!(QO||wp||yp),Wn=QO?document.documentMode:wp?+wp[1]:yp?+yp[1]:0,nr=!qt&&/gecko\/(\d+)/i.test(qn);nr&&+(/Firefox\/(\d+)/.exec(qn)||[0,0])[1];var bp=!qt&&/Chrome\/(\d+)/.exec(qn),Rt=!!bp,eN=bp?+bp[1]:0,Mt=!qt&&!!Cr&&/Apple Computer/.test(Cr.vendor),ws=Mt&&(/Mobile\/\w+/.test(qn)||!!Cr&&Cr.maxTouchPoints>2),tr=ws||(Cr?/Mac/.test(Cr.platform):!1),$F=Cr?/Win/.test(Cr.platform):!1,vn=/Android \d/.test(qn),Ho=!!vO&&"webkitFontSmoothing"in vO.documentElement.style,JF=Ho?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function XF(t){var e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function mn(t,e){return typeof t=="number"?t:t[e]}function YF(t){var e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function yO(t,e,r){for(var n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument,a=r||t.dom;a;){if(a.nodeType!=1){a=ys(a);continue}var o=a,l=o==s.body,u=l?XF(s):YF(o),c=0,f=0;if(e.top<u.top+mn(n,"top")?f=-(u.top-e.top+mn(i,"top")):e.bottom>u.bottom-mn(n,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+mn(i,"top")-u.top:e.bottom-u.bottom+mn(i,"bottom")),e.left<u.left+mn(n,"left")?c=-(u.left-e.left+mn(i,"left")):e.right>u.right-mn(n,"right")&&(c=e.right-u.right+mn(i,"right")),c||f)if(l)s.defaultView.scrollBy(c,f);else{var d=o.scrollLeft,h=o.scrollTop;f&&(o.scrollTop+=f),c&&(o.scrollLeft+=c);var y=o.scrollLeft-d,v=o.scrollTop-h;e={left:e.left-y,top:e.top-v,right:e.right-y,bottom:e.bottom-v}}var x=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(x))break;a=x=="absolute"?a.offsetParent:ys(a)}}function ZF(t){for(var e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i,s=(e.left+e.right)/2,a=r+1;a<Math.min(innerHeight,e.bottom);a+=5){var o=t.root.elementFromPoint(s,a);if(!(!o||o==t.dom||!t.dom.contains(o))){var l=o.getBoundingClientRect();if(l.top>=r-20){n=o,i=l.top;break}}}return{refDOM:n,refTop:i,stack:tN(t.dom)}}function tN(t){for(var e=[],r=t.ownerDocument,n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=ys(n));return e}function QF(t){var e=t.refDOM,r=t.refTop,n=t.stack,i=e?e.getBoundingClientRect().top:0;rN(n,i==0?0:i-r)}function rN(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=n.dom,s=n.top,a=n.left;i.scrollTop!=s+e&&(i.scrollTop=s+e),i.scrollLeft!=a&&(i.scrollLeft=a)}}var hs=null;function eB(t){if(t.setActive)return t.setActive();if(hs)return t.focus(hs);var e=tN(t);t.focus(hs==null?{get preventScroll(){return hs={preventScroll:!0},!0}}:void 0),hs||(hs=!1,rN(e,0))}function nN(t,e){for(var r,n=2e8,i,s=0,a=e.top,o=e.top,l,u,c=t.firstChild,f=0;c;c=c.nextSibling,f++){var d=void 0;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=gn(c).getClientRects();else continue;for(var h=0;h<d.length;h++){var y=d[h];if(y.top<=a&&y.bottom>=o){a=Math.max(y.bottom,a),o=Math.min(y.top,o);var v=y.left>e.left?y.left-e.left:y.right<e.left?e.left-y.right:0;if(v<n){r=c,n=v,i=v&&r.nodeType==3?{left:y.right<e.left?y.right:y.left,top:e.top}:e,c.nodeType==1&&v&&(s=f+(e.left>=(y.left+y.right)/2?1:0));continue}}else y.top>e.top&&!l&&y.left<=e.left&&y.right>=e.left&&(l=c,u={left:Math.max(y.left,Math.min(y.right,e.left)),top:y.top});!r&&(e.left>=y.right&&e.top>=y.top||e.left>=y.left&&e.top>=y.bottom)&&(s=f+1)}}return!r&&l&&(r=l,i=u,n=0),r&&r.nodeType==3?tB(r,i):!r||n&&r.nodeType==1?{node:t,offset:s}:nN(r,i)}function tB(t,e){for(var r=t.nodeValue.length,n=document.createRange(),i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);var s=Hn(n,1);if(s.top!=s.bottom&&Ap(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function Ap(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function rB(t,e){var r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function nB(t,e,r){var n=nN(e,r),i=n.node,s=n.offset,a=-1;if(i.nodeType==1&&!i.firstChild){var o=i.getBoundingClientRect();a=o.left!=o.right&&r.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(i,s,a)}function iB(t,e,r,n){for(var i=-1,s=e,a=!1;s!=t.dom;){var o=t.docView.nearestDesc(s,!0),l=void 0;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((l=o.dom.getBoundingClientRect()).width||l.height)&&(o.node.isBlock&&o.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(o.dom.nodeName)&&(!a&&l.left>n.left||l.top>n.top?i=o.posBefore:(!a&&l.right<n.left||l.bottom<n.top)&&(i=o.posAfter),a=!0),!o.contentDOM&&i<0&&!o.node.isText)){var u=o.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2;return u?o.posBefore:o.posAfter}s=o.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,-1)}function iN(t,e,r){var n=t.childNodes.length;if(n&&r.top<r.bottom)for(var i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),s=i;;){var a=t.childNodes[s];if(a.nodeType==1)for(var o=a.getClientRects(),l=0;l<o.length;l++){var u=o[l];if(Ap(e,u))return iN(a,e,u)}if((s=(s+1)%n)==i)break}return t}function sB(t,e){var r=t.dom.ownerDocument,n,i=0,s=GF(r,e.left,e.top);s&&(n=s.node,i=s.offset);var a=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),o;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){var l=t.dom.getBoundingClientRect();if(!Ap(e,l)||(a=iN(t.dom,e,l),!a))return null}if(Mt)for(var u=a;n&&u;u=ys(u))u.draggable&&(n=void 0);if(a=rB(a,e),n){if(nr&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){var c=n.childNodes[i],f;c.nodeName=="IMG"&&(f=c.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}var d;Ho&&i&&n.nodeType==1&&(d=n.childNodes[i-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&i--,n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(o=iB(t,n,i,e))}o==null&&(o=nB(t,a,e));var h=t.docView.nearestDesc(a,!0);return{pos:o,inside:h?h.posAtStart-h.border:-1}}function wO(t){return t.top<t.bottom||t.left<t.right}function Hn(t,e){var r=t.getClientRects();if(r.length){var n=r[e<0?0:r.length-1];if(wO(n))return n}return Array.prototype.find.call(r,wO)||t.getBoundingClientRect()}var oB=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function sN(t,e,r){var n=t.docView.domFromPos(e,r<0?-1:1),i=n.node,s=n.offset,a=n.atom,o=Ho||nr;if(i.nodeType==3)if(o&&(oB.test(i.nodeValue)||(r<0?!s:s==i.nodeValue.length))){var l=Hn(gn(i,s,s),r);if(nr&&s&&/\s/.test(i.nodeValue[s-1])&&s<i.nodeValue.length){var u=Hn(gn(i,s-1,s-1),-1);if(u.top==l.top){var c=Hn(gn(i,s,s+1),-1);if(c.top!=l.top)return Co(c,c.left<u.left)}}return l}else{var f=s,d=s,h=r<0?1:-1;return r<0&&!s?(d++,h=-1):r>=0&&s==i.nodeValue.length?(f--,h=1):r<0?f--:d++,Co(Hn(gn(i,f,d),h),h<0)}var y=t.state.doc.resolve(e-(a||0));if(!y.parent.inlineContent){if(a==null&&s&&(r<0||s==rr(i))){var v=i.childNodes[s-1];if(v.nodeType==1)return up(v.getBoundingClientRect(),!1)}if(a==null&&s<rr(i)){var x=i.childNodes[s];if(x.nodeType==1)return up(x.getBoundingClientRect(),!0)}return up(i.getBoundingClientRect(),r>=0)}if(a==null&&s&&(r<0||s==rr(i))){var m=i.childNodes[s-1],_=m.nodeType==3?gn(m,rr(m)-(o?0:1)):m.nodeType==1&&(m.nodeName!="BR"||!m.nextSibling)?m:null;if(_)return Co(Hn(_,1),!1)}if(a==null&&s<rr(i)){for(var b=i.childNodes[s];b.pmViewDesc&&b.pmViewDesc.ignoreForCoords;)b=b.nextSibling;var w=b?b.nodeType==3?gn(b,0,o?0:1):b.nodeType==1?b:null:null;if(w)return Co(Hn(w,-1),!0)}return Co(Hn(i.nodeType==3?gn(i):i,-r),r>=0)}function Co(t,e){if(t.width==0)return t;var r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function up(t,e){if(t.height==0)return t;var r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function oN(t,e,r){var n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}function aB(t,e,r){var n=e.selection,i=r=="up"?n.$from:n.$to;return oN(t,e,function(){for(var s=t.docView.domFromPos(i.pos,r=="up"?-1:1),a=s.node;;){var o=t.docView.nearestDesc(a,!0);if(!o)break;if(o.node.isBlock){a=o.contentDOM||o.dom;break}a=o.dom.parentNode}for(var l=sN(t,i.pos,1),u=a.firstChild;u;u=u.nextSibling){var c=void 0;if(u.nodeType==1)c=u.getClientRects();else if(u.nodeType==3)c=gn(u,0,u.nodeValue.length).getClientRects();else continue;for(var f=0;f<c.length;f++){var d=c[f];if(d.bottom>d.top+1&&(r=="up"?l.top-d.top>(d.bottom-l.top)*2:d.bottom-l.bottom>(l.bottom-d.top)*2))return!1}}return!0})}var lB=/[\u0590-\u08ac]/;function uB(t,e,r){var n=e.selection.$head;if(!n.parent.isTextblock)return!1;var i=n.parentOffset,s=!i,a=i==n.parent.content.size,o=t.domSelection();return o?!lB.test(n.parent.textContent)||!o.modify?r=="left"||r=="backward"?s:a:oN(t,e,function(){var l=t.domSelectionRange(),u=l.focusNode,c=l.focusOffset,f=l.anchorNode,d=l.anchorOffset,h=o.caretBidiLevel;o.modify("move",r,"character");var y=n.depth?t.docView.domAfterPos(n.before()):t.dom,v=t.domSelectionRange(),x=v.focusNode,m=v.focusOffset,_=x&&!y.contains(x.nodeType==1?x:x.parentNode)||u==x&&c==m;try{o.collapse(f,d),u&&(u!=f||c!=d)&&o.extend&&o.extend(u,c)}catch{}return h!=null&&(o.caretBidiLevel=h),_}):n.pos==n.start()||n.pos==n.end()}var bO=null,_O=null,xO=!1;function cB(t,e,r){return bO==e&&_O==r?xO:(bO=e,_O=r,xO=r=="up"||r=="down"?aB(t,e,r):uB(t,e,r))}var ir=0,EO=1,vi=2,Ir=3,zo=(function(){function t(e,r,n,i){nt(this,t),this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=ir,n.pmViewDesc=this}return it(t,[{key:"matchesWidget",value:function(r){return!1}},{key:"matchesMark",value:function(r){return!1}},{key:"matchesNode",value:function(r,n,i){return!1}},{key:"matchesHack",value:function(r){return!1}},{key:"parseRule",value:function(){return null}},{key:"stopEvent",value:function(r){return!1}},{key:"size",get:function(){for(var r=0,n=0;n<this.children.length;n++)r+=this.children[n].size;return r}},{key:"border",get:function(){return 0}},{key:"destroy",value:function(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(var r=0;r<this.children.length;r++)this.children[r].destroy()}},{key:"posBeforeChild",value:function(r){for(var n=0,i=this.posAtStart;;n++){var s=this.children[n];if(s==r)return i;i+=s.size}}},{key:"posBefore",get:function(){return this.parent.posBeforeChild(this)}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}},{key:"posAfter",get:function(){return this.posBefore+this.size}},{key:"posAtEnd",get:function(){return this.posAtStart+this.size-2*this.border}},{key:"localPosFromDOM",value:function(r,n,i){if(this.contentDOM&&this.contentDOM.contains(r.nodeType==1?r:r.parentNode))if(i<0){var s,a;if(r==this.contentDOM)s=r.childNodes[n-1];else{for(;r.parentNode!=this.contentDOM;)r=r.parentNode;s=r.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{var o,l;if(r==this.contentDOM)o=r.childNodes[n];else{for(;r.parentNode!=this.contentDOM;)r=r.parentNode;o=r.nextSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(l):this.posAtEnd}var u;if(r==this.dom&&this.contentDOM)u=n>xt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))u=r.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(var c=r;;c=c.parentNode){if(c==this.dom){u=!1;break}if(c.previousSibling)break}if(u==null&&n==r.childNodes.length)for(var f=r;;f=f.parentNode){if(f==this.dom){u=!0;break}if(f.nextSibling)break}}return u??i>0?this.posAtEnd:this.posAtStart}},{key:"nearestDesc",value:function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=!0,s=r;s;s=s.parentNode){var a=this.getDesc(s),o=void 0;if(a&&(!n||a.node))if(i&&(o=a.nodeDOM)&&!(o.nodeType==1?o.contains(r.nodeType==1?r:r.parentNode):o==r))i=!1;else return a}}},{key:"getDesc",value:function(r){for(var n=r.pmViewDesc,i=n;i;i=i.parent)if(i==this)return n}},{key:"posFromDOM",value:function(r,n,i){for(var s=r;s;s=s.parentNode){var a=this.getDesc(s);if(a)return a.localPosFromDOM(r,n,i)}return-1}},{key:"descAt",value:function(r){for(var n=0,i=0;n<this.children.length;n++){var s=this.children[n],a=i+s.size;if(i==r&&a!=i){for(;!s.border&&s.children.length;)for(var o=0;o<s.children.length;o++){var l=s.children[o];if(l.size){s=l;break}}return s}if(r<a)return s.descAt(r-i-s.border);i=a}}},{key:"domFromPos",value:function(r,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:r+1};for(var i=0,s=0,a=0;i<this.children.length;i++){var o=this.children[i],l=a+o.size;if(l>r||o instanceof uN){s=r-a;break}a=l}if(s)return this.children[i].domFromPos(s-this.children[i].border,n);for(var u;i&&!(u=this.children[i-1]).size&&u instanceof aN&&u.side>=0;i--);if(n<=0){for(var c,f=!0;c=i?this.children[i-1]:null,!(!c||c.dom.parentNode==this.contentDOM);i--,f=!1);return c&&n&&f&&!c.border&&!c.domAtom?c.domFromPos(c.size,n):{node:this.contentDOM,offset:c?xt(c.dom)+1:0}}else{for(var d,h=!0;d=i<this.children.length?this.children[i]:null,!(!d||d.dom.parentNode==this.contentDOM);i++,h=!1);return d&&h&&!d.border&&!d.domAtom?d.domFromPos(0,n):{node:this.contentDOM,offset:d?xt(d.dom):this.contentDOM.childNodes.length}}}},{key:"parseRange",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.children.length==0)return{node:this.contentDOM,from:r,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var s=-1,a=-1,o=i,l=0;;l++){var u=this.children[l],c=o+u.size;if(s==-1&&r<=c){var f=o+u.border;if(r>=f&&n<=c-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(r,n,f);r=o;for(var d=l;d>0;d--){var h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){s=xt(h.dom)+1;break}r-=h.size}s==-1&&(s=0)}if(s>-1&&(c>n||l==this.children.length-1)){n=c;for(var y=l+1;y<this.children.length;y++){var v=this.children[y];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(-1)){a=xt(v.dom);break}n+=v.size}a==-1&&(a=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:r,to:n,fromOffset:s,toOffset:a}}},{key:"emptyChildAt",value:function(r){if(this.border||!this.contentDOM||!this.children.length)return!1;var n=this.children[r<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(r)}},{key:"domAfterPos",value:function(r){var n=this.domFromPos(r,0),i=n.node,s=n.offset;if(i.nodeType!=1||s==i.childNodes.length)throw new RangeError("No node after pos "+r);return i.childNodes[s]}},{key:"setSelection",value:function(r,n,i){for(var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=Math.min(r,n),o=Math.max(r,n),l=0,u=0;l<this.children.length;l++){var c=this.children[l],f=u+c.size;if(a>u&&o<f)return c.setSelection(r-u-c.border,n-u-c.border,i,s);u=f}var d=this.domFromPos(r,r?-1:1),h=n==r?d:this.domFromPos(n,n?-1:1),y=i.root.getSelection(),v=i.domSelectionRange(),x=!1;if((nr||Mt)&&r==n){var m=d,_=m.node,b=m.offset;if(_.nodeType==3){if(x=!!(b&&_.nodeValue[b-1]==`
`),x&&b==_.nodeValue.length)for(var w=_,T;w;w=w.parentNode){if(T=w.nextSibling){T.nodeName=="BR"&&(d=h={node:T.parentNode,offset:xt(T)+1});break}var P=w.pmViewDesc;if(P&&P.node&&P.node.isBlock)break}}else{var M=_.childNodes[b-1];x=M&&(M.nodeName=="BR"||M.contentEditable=="false")}}if(nr&&v.focusNode&&v.focusNode!=h.node&&v.focusNode.nodeType==1){var U=v.focusNode.childNodes[v.focusOffset];U&&U.contentEditable=="false"&&(s=!0)}if(!(!(s||x&&Mt)&&_i(d.node,d.offset,v.anchorNode,v.anchorOffset)&&_i(h.node,h.offset,v.focusNode,v.focusOffset))){var R=!1;if((y.extend||r==n)&&!(x&&nr)){y.collapse(d.node,d.offset);try{r!=n&&y.extend(h.node,h.offset),R=!0}catch{}}if(!R){if(r>n){var J=d;d=h,h=J}var oe=document.createRange();oe.setEnd(h.node,h.offset),oe.setStart(d.node,d.offset),y.removeAllRanges(),y.addRange(oe)}}}},{key:"ignoreMutation",value:function(r){return!this.contentDOM&&r.type!="selection"}},{key:"contentLost",get:function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}},{key:"markDirty",value:function(r,n){for(var i=0,s=0;s<this.children.length;s++){var a=this.children[s],o=i+a.size;if(i==o?r<=o&&n>=i:r<o&&n>i){var l=i+a.border,u=o-a.border;if(r>=l&&n<=u){this.dirty=r==i||n==o?vi:EO,r==l&&n==u&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Ir:a.markDirty(r-l,n-l);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?vi:Ir}i=o}this.dirty=vi}},{key:"markParentsDirty",value:function(){for(var r=1,n=this.parent;n;n=n.parent,r++){var i=r==1?vi:EO;n.dirty<i&&(n.dirty=i)}}},{key:"domAtom",get:function(){return!1}},{key:"ignoreForCoords",get:function(){return!1}},{key:"ignoreForSelection",get:function(){return!1}},{key:"isText",value:function(r){return!1}}]),t})(),aN=(function(t){xi(r,t);var e=Ei(r);function r(n,i,s,a){var o;nt(this,r);var l,u=i.type.toDOM;if(typeof u=="function"&&(u=u(s,function(){if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)})),!i.type.spec.raw){if(u.nodeType!=1){var c=document.createElement("span");c.appendChild(u),u=c}u.contentEditable="false",u.classList.add("ProseMirror-widget")}return o=e.call(this,n,[],u,null),o.widget=i,o.widget=i,l=ZO(o),o}return it(r,[{key:"matchesWidget",value:function(i){return this.dirty==ir&&i.type.eq(this.widget.type)}},{key:"parseRule",value:function(){return{ignore:!0}}},{key:"stopEvent",value:function(i){var s=this.widget.spec.stopEvent;return s?s(i):!1}},{key:"ignoreMutation",value:function(i){return i.type!="selection"||this.widget.spec.ignoreSelection}},{key:"destroy",value:function(){this.widget.type.destroy(this.dom),Dt(_t(r.prototype),"destroy",this).call(this)}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForSelection",get:function(){return!!this.widget.type.spec.relaxedSide}},{key:"side",get:function(){return this.widget.type.side}}]),r})(zo),fB=(function(t){xi(r,t);var e=Ei(r);function r(n,i,s,a){var o;return nt(this,r),o=e.call(this,n,[],i,null),o.textDOM=s,o.text=a,o}return it(r,[{key:"size",get:function(){return this.text.length}},{key:"localPosFromDOM",value:function(i,s){return i!=this.textDOM?this.posAtStart+(s?this.size:0):this.posAtStart+s}},{key:"domFromPos",value:function(i){return{node:this.textDOM,offset:i}}},{key:"ignoreMutation",value:function(i){return i.type==="characterData"&&i.target.nodeValue==i.oldValue}}]),r})(zo),iu=(function(t){xi(r,t);var e=Ei(r);function r(n,i,s,a,o){var l;return nt(this,r),l=e.call(this,n,[],s,a),l.mark=i,l.spec=o,l}return it(r,[{key:"parseRule",value:function(){return this.dirty&Ir||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}},{key:"matchesMark",value:function(i){return this.dirty!=Ir&&this.mark.eq(i)}},{key:"markDirty",value:function(i,s){if(Dt(_t(r.prototype),"markDirty",this).call(this,i,s),this.dirty!=ir){for(var a=this.parent;!a.node;)a=a.parent;a.dirty<this.dirty&&(a.dirty=this.dirty),this.dirty=ir}}},{key:"slice",value:function(i,s,a){var o=r.create(this.parent,this.mark,!0,a),l=this.children,u=this.size;s<u&&(l=xp(l,s,u,a)),i>0&&(l=xp(l,0,i,a));for(var c=0;c<l.length;c++)l[c].parent=o;return o.children=l,o}},{key:"ignoreMutation",value:function(i){return this.spec.ignoreMutation?this.spec.ignoreMutation(i):Dt(_t(r.prototype),"ignoreMutation",this).call(this,i)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),Dt(_t(r.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(i,s,a,o){var l=o.nodeViews[s.type.name],u=l&&l(s,o,a);return(!u||!u.dom)&&(u=Xe.DOMSerializer.renderSpec(document,s.type.spec.toDOM(s,a),null,s.attrs)),new r(i,s,u.dom,u.contentDOM||u.dom,u)}}]),r})(zo),ms=(function(t){xi(r,t);var e=Ei(r);function r(n,i,s,a,o,l,u,c,f){var d;return nt(this,r),d=e.call(this,n,[],o,l),d.node=i,d.outerDeco=s,d.innerDeco=a,d.nodeDOM=u,d}return it(r,[{key:"parseRule",value:function(){var i=this;if(this.node.type.spec.reparseInView)return null;var s={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(s.preserveWhitespace="full"),!this.contentDOM)s.getContent=function(){return i.node.content};else if(!this.contentLost)s.contentElement=this.contentDOM;else{for(var a=this.children.length-1;a>=0;a--){var o=this.children[a];if(this.dom.contains(o.dom.parentNode)){s.contentElement=o.dom.parentNode;break}}s.contentElement||(s.getContent=function(){return Xe.Fragment.empty})}return s}},{key:"matchesNode",value:function(i,s,a){return this.dirty==ir&&i.eq(this.node)&&su(s,this.outerDeco)&&a.eq(this.innerDeco)}},{key:"size",get:function(){return this.node.nodeSize}},{key:"border",get:function(){return this.node.isLeaf?0:1}},{key:"updateChildren",value:function(i,s){var a=this,o=this.node.inlineContent,l=s,u=i.composing?this.localCompositionInfo(i,s):null,c=u&&u.pos>-1?u:null,f=u&&u.pos<0,d=new pB(this,c&&c.node,i);vB(this.node,this.innerDeco,function(h,y,v){h.spec.marks?d.syncToMarks(h.spec.marks,o,i):h.type.side>=0&&!v&&d.syncToMarks(y==a.node.childCount?Xe.Mark.none:a.node.child(y).marks,o,i),d.placeWidget(h,i,l)},function(h,y,v,x){d.syncToMarks(h.marks,o,i);var m;d.findNodeMatch(h,y,v,x)||f&&i.state.selection.from>l&&i.state.selection.to<l+h.nodeSize&&(m=d.findIndexWithChild(u.node))>-1&&d.updateNodeAt(h,y,v,m,i)||d.updateNextNode(h,y,v,i,x,l)||d.addNode(h,y,v,i,l),l+=h.nodeSize}),d.syncToMarks([],o,i),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==vi)&&(c&&this.protectLocalComposition(i,c),cN(this.contentDOM,this.children,i),ws&&yB(this.dom))}},{key:"localCompositionInfo",value:function(i,s){var a=i.state.selection,o=a.from,l=a.to;if(!(i.state.selection instanceof Ae.TextSelection)||o<s||l>s+this.node.content.size)return null;var u=i.input.compositionNode;if(!u||!this.dom.contains(u.parentNode))return null;if(this.node.inlineContent){var c=u.nodeValue,f=wB(this.node.content,c,o-s,l-s);return f<0?null:{node:u,pos:f,text:c}}else return{node:u,pos:-1,text:""}}},{key:"protectLocalComposition",value:function(i,s){var a=s.node,o=s.pos,l=s.text;if(!this.getDesc(a)){for(var u=a;u.parentNode!=this.contentDOM;u=u.parentNode){for(;u.previousSibling;)u.parentNode.removeChild(u.previousSibling);for(;u.nextSibling;)u.parentNode.removeChild(u.nextSibling);u.pmViewDesc&&(u.pmViewDesc=void 0)}var c=new fB(this,u,a,l);i.input.compositionNodes.push(c),this.children=xp(this.children,o,o+l.length,i,c)}}},{key:"update",value:function(i,s,a,o){return this.dirty==Ir||!i.sameMarkup(this.node)?!1:(this.updateInner(i,s,a,o),!0)}},{key:"updateInner",value:function(i,s,a,o){this.updateOuterDeco(s),this.node=i,this.innerDeco=a,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=ir}},{key:"updateOuterDeco",value:function(i){if(!su(i,this.outerDeco)){var s=this.nodeDOM.nodeType!=1,a=this.dom;this.dom=fN(this.dom,this.nodeDOM,_p(this.outerDeco,this.node,s),_p(i,this.node,s)),this.dom!=a&&(a.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=i}}},{key:"selectNode",value:function(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}},{key:"deselectNode",value:function(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}},{key:"domAtom",get:function(){return this.node.isAtom}}],[{key:"create",value:function(i,s,a,o,l,u){var c=l.nodeViews[s.type.name],f,d=c&&c(s,l,function(){if(!f)return u;if(f.parent)return f.parent.posBeforeChild(f)},a,o),h=d&&d.dom,y=d&&d.contentDOM;if(s.isText){if(!h)h=document.createTextNode(s.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else if(!h){var v=Xe.DOMSerializer.renderSpec(document,s.type.spec.toDOM(s),null,s.attrs);h=v.dom,y=v.contentDOM}!y&&!s.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),s.type.spec.draggable&&(h.draggable=!0));var x=h;return h=hN(h,a,s),d?f=new hB(i,s,a,o,h,y||null,x,d,l,u+1):s.isText?new lN(i,s,a,o,h,x,l):new r(i,s,a,o,h,y||null,x,l,u+1)}}]),r})(zo);function SO(t,e,r,n,i){hN(n,e,t);var s=new ms(void 0,t,e,r,n,n,n,i,0);return s.contentDOM&&s.updateChildren(i,0),s}var lN=(function(t){xi(r,t);var e=Ei(r);function r(n,i,s,a,o,l,u){return nt(this,r),e.call(this,n,i,s,a,o,null,l,u,0)}return it(r,[{key:"parseRule",value:function(){for(var i=this.nodeDOM.parentNode;i&&i!=this.dom&&!i.pmIsDeco;)i=i.parentNode;return{skip:i||!0}}},{key:"update",value:function(i,s,a,o){return this.dirty==Ir||this.dirty!=ir&&!this.inParent()||!i.sameMarkup(this.node)?!1:(this.updateOuterDeco(s),(this.dirty!=ir||i.text!=this.node.text)&&i.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=i.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=i,this.dirty=ir,!0)}},{key:"inParent",value:function(){for(var i=this.parent.contentDOM,s=this.nodeDOM;s;s=s.parentNode)if(s==i)return!0;return!1}},{key:"domFromPos",value:function(i){return{node:this.nodeDOM,offset:i}}},{key:"localPosFromDOM",value:function(i,s,a){return i==this.nodeDOM?this.posAtStart+Math.min(s,this.node.text.length):Dt(_t(r.prototype),"localPosFromDOM",this).call(this,i,s,a)}},{key:"ignoreMutation",value:function(i){return i.type!="characterData"&&i.type!="selection"}},{key:"slice",value:function(i,s,a){var o=this.node.cut(i,s),l=document.createTextNode(o.text);return new r(this.parent,o,this.outerDeco,this.innerDeco,l,l,a)}},{key:"markDirty",value:function(i,s){Dt(_t(r.prototype),"markDirty",this).call(this,i,s),this.dom!=this.nodeDOM&&(i==0||s==this.nodeDOM.nodeValue.length)&&(this.dirty=Ir)}},{key:"domAtom",get:function(){return!1}},{key:"isText",value:function(i){return this.node.text==i}}]),r})(ms),uN=(function(t){xi(r,t);var e=Ei(r);function r(){return nt(this,r),e.apply(this,arguments)}return it(r,[{key:"parseRule",value:function(){return{ignore:!0}}},{key:"matchesHack",value:function(i){return this.dirty==ir&&this.dom.nodeName==i}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForCoords",get:function(){return this.dom.nodeName=="IMG"}}]),r})(zo),hB=(function(t){xi(r,t);var e=Ei(r);function r(n,i,s,a,o,l,u,c,f,d){var h;return nt(this,r),h=e.call(this,n,i,s,a,o,l,u,f,d),h.spec=c,h}return it(r,[{key:"update",value:function(i,s,a,o){if(this.dirty==Ir)return!1;if(this.spec.update&&(this.node.type==i.type||this.spec.multiType)){var l=this.spec.update(i,s,a);return l&&this.updateInner(i,s,a,o),l}else return!this.contentDOM&&!i.isLeaf?!1:Dt(_t(r.prototype),"update",this).call(this,i,s,a,o)}},{key:"selectNode",value:function(){this.spec.selectNode?this.spec.selectNode():Dt(_t(r.prototype),"selectNode",this).call(this)}},{key:"deselectNode",value:function(){this.spec.deselectNode?this.spec.deselectNode():Dt(_t(r.prototype),"deselectNode",this).call(this)}},{key:"setSelection",value:function(i,s,a,o){this.spec.setSelection?this.spec.setSelection(i,s,a.root):Dt(_t(r.prototype),"setSelection",this).call(this,i,s,a,o)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),Dt(_t(r.prototype),"destroy",this).call(this)}},{key:"stopEvent",value:function(i){return this.spec.stopEvent?this.spec.stopEvent(i):!1}},{key:"ignoreMutation",value:function(i){return this.spec.ignoreMutation?this.spec.ignoreMutation(i):Dt(_t(r.prototype),"ignoreMutation",this).call(this,i)}}]),r})(ms);function cN(t,e,r){for(var n=t.firstChild,i=!1,s=0;s<e.length;s++){var a=e[s],o=a.dom;if(o.parentNode==t){for(;o!=n;)n=kO(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(o,n);if(a instanceof iu){var l=n?n.previousSibling:t.lastChild;cN(a.contentDOM,a.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=kO(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}var Io=function(e){e&&(this.nodeName=e)};Io.prototype=Object.create(null);var yi=[new Io];function _p(t,e,r){if(t.length==0)return yi;for(var n=r?yi[0]:new Io,i=[n],s=0;s<t.length;s++){var a=t[s].type.attrs;if(a){a.nodeName&&i.push(n=new Io(a.nodeName));for(var o in a){var l=a[o];l!=null&&(r&&i.length==1&&i.push(n=new Io(e.isInline?"span":"div")),o=="class"?n.class=(n.class?n.class+" ":"")+l:o=="style"?n.style=(n.style?n.style+";":"")+l:o!="nodeName"&&(n[o]=l))}}}return i}function fN(t,e,r,n){if(r==yi&&n==yi)return e;for(var i=e,s=0;s<n.length;s++){var a=n[s],o=r[s];if(s){var l=void 0;o&&o.nodeName==a.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),o=yi[0]),i=l}dB(i,o||yi[0],a)}return i}function dB(t,e,r){for(var n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(var i in r)i!="class"&&i!="style"&&i!="nodeName"&&r[i]!=e[i]&&t.setAttribute(i,r[i]);if(e.class!=r.class){for(var s=e.class?e.class.split(" ").filter(Boolean):[],a=r.class?r.class.split(" ").filter(Boolean):[],o=0;o<s.length;o++)a.indexOf(s[o])==-1&&t.classList.remove(s[o]);for(var l=0;l<a.length;l++)s.indexOf(a[l])==-1&&t.classList.add(a[l]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style)for(var u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,c;c=u.exec(e.style);)t.style.removeProperty(c[1]);r.style&&(t.style.cssText+=r.style)}}function hN(t,e,r){return fN(t,t,yi,_p(e,r,t.nodeType!=1))}function su(t,e){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function kO(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var pB=(function(){function t(e,r,n){nt(this,t),this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=mB(e.node.content,e)}return it(t,[{key:"destroyBetween",value:function(r,n){if(r!=n){for(var i=r;i<n;i++)this.top.children[i].destroy();this.top.children.splice(r,n-r),this.changed=!0}}},{key:"destroyRest",value:function(){this.destroyBetween(this.index,this.top.children.length)}},{key:"syncToMarks",value:function(r,n,i){for(var s=0,a=this.stack.length>>1,o=Math.min(a,r.length);s<o&&(s==a-1?this.top:this.stack[s+1<<1]).matchesMark(r[s])&&r[s].type.spec.spanning!==!1;)s++;for(;s<a;)this.destroyRest(),this.top.dirty=ir,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<r.length;){this.stack.push(this.top,this.index+1);for(var l=-1,u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){var c=this.top.children[u];if(c.matchesMark(r[a])&&!this.isLocked(c.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{var f=iu.create(this.top,r[a],n,i);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,a++}}},{key:"findNodeMatch",value:function(r,n,i,s){var a=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(r,n,i))a=this.top.children.indexOf(o,this.index);else for(var l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){var c=this.top.children[l];if(c.matchesNode(r,n,i)&&!this.preMatch.matched.has(c)){a=l;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}},{key:"updateNodeAt",value:function(r,n,i,s,a){var o=this.top.children[s];return o.dirty==Ir&&o.dom==o.contentDOM&&(o.dirty=vi),o.update(r,n,i,a)?(this.destroyBetween(this.index,s),this.index++,!0):!1}},{key:"findIndexWithChild",value:function(r){for(;;){var n=r.parentNode;if(!n)return-1;if(n==this.top.contentDOM){var i=r.pmViewDesc;if(i){for(var s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==i)return s}return-1}r=n}}},{key:"updateNextNode",value:function(r,n,i,s,a,o){for(var l=this.index;l<this.top.children.length;l++){var u=this.top.children[l];if(u instanceof ms){var c=this.preMatch.matched.get(u);if(c!=null&&c!=a)return!1;var f=u.dom,d=void 0,h=this.isLocked(f)&&!(r.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==r.text&&u.dirty!=Ir&&su(n,u.outerDeco));if(!h&&u.update(r,n,i,s))return this.destroyBetween(this.index,l),u.dom!=f&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(u,r,n,i,s,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=vi,d.updateChildren(s,o+1),d.dirty=ir),this.changed=!0,this.index++,!0;break}}return!1}},{key:"recreateWrapper",value:function(r,n,i,s,a,o){if(r.dirty||n.isAtom||!r.children.length||!r.node.content.eq(n.content)||!su(i,r.outerDeco)||!s.eq(r.innerDeco))return null;var l=ms.create(this.top,n,i,s,a,o);if(l.contentDOM){l.children=r.children,r.children=[];var u=mp(l.children),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;f.parent=l}}catch(d){u.e(d)}finally{u.f()}}return r.destroy(),l}},{key:"addNode",value:function(r,n,i,s,a){var o=ms.create(this.top,r,n,i,s,a);o.contentDOM&&o.updateChildren(s,a+1),this.top.children.splice(this.index++,0,o),this.changed=!0}},{key:"placeWidget",value:function(r,n,i){var s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(r)&&(r==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{var a=new aN(this.top,r,n,i);this.top.children.splice(this.index++,0,a),this.changed=!0}}},{key:"addTextblockHacks",value:function(){for(var r=this.top.children[this.index-1],n=this.top;r instanceof iu;)n=r,r=n.children[n.children.length-1];(!r||!(r instanceof lN)||/\n$/.test(r.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(r.node.text))&&((Mt||Rt)&&r&&r.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}},{key:"addHackNode",value:function(r,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(r))this.index++;else{var i=document.createElement(r);r=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),r=="BR"&&(i.className="ProseMirror-trailingBreak");var s=new uN(this.top,[],i,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}},{key:"isLocked",value:function(r){return this.lock&&(r==this.lock||r.nodeType==1&&r.contains(this.lock.parentNode))}}]),t})();function mB(t,e){var r=e,n=r.children.length,i=t.childCount,s=new Map,a=[];e:for(;i>0;){for(var o=void 0;;)if(n){var l=r.children[n-1];if(l instanceof iu)r=l,n=l.children.length;else{o=l,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}var u=o.node;if(u){if(u!=t.child(i-1))break;--i,s.set(o,i),a.push(o)}}return{index:i,matched:s,matches:a.reverse()}}function gB(t,e){return t.type.side-e.type.side}function vB(t,e,r,n){var i=e.locals(t),s=0;if(i.length==0){for(var a=0;a<t.childCount;a++){var o=t.child(a);n(o,i,e.forChild(s,o),a),s+=o.nodeSize}return}for(var l=0,u=[],c=null,f=0;;){for(var d=void 0,h=void 0;l<i.length&&i[l].to==s;){var y=i[l++];y.widget&&(d?(h||(h=[d])).push(y):d=y)}if(d)if(h){h.sort(gB);for(var v=0;v<h.length;v++)r(h[v],f,!!c)}else r(d,f,!!c);var x=void 0,m=void 0;if(c)m=-1,x=c,c=null;else if(f<t.childCount)m=f,x=t.child(f++);else break;for(var _=0;_<u.length;_++)u[_].to<=s&&u.splice(_--,1);for(;l<i.length&&i[l].from<=s&&i[l].to>s;)u.push(i[l++]);var b=s+x.nodeSize;if(x.isText){var w=b;l<i.length&&i[l].from<w&&(w=i[l].from);for(var T=0;T<u.length;T++)u[T].to<w&&(w=u[T].to);w<b&&(c=x.cut(w-s),x=x.cut(0,w-s),b=w,m=-1)}else for(;l<i.length&&i[l].to<b;)l++;var P=x.isInline&&!x.isLeaf?u.filter(function(M){return!M.inline}):u.slice();n(x,P,e.forChild(s,x),m),s=b}}function yB(t){if(t.nodeName=="UL"||t.nodeName=="OL"){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function wB(t,e,r,n){for(var i=0,s=0;i<t.childCount&&s<=n;){var a=t.child(i++),o=s;if(s+=a.nodeSize,!!a.isText){for(var l=a.text;i<t.childCount;){var u=t.child(i++);if(s+=u.nodeSize,!u.isText)break;l+=u.text}if(s>=r){if(s>=n&&l.slice(n-e.length-o,n-o)==e)return n-e.length;var c=o<n?l.lastIndexOf(e,n-o-1):-1;if(c>=0&&c+e.length+o>=r)return o+c;if(r==n&&l.length>=n+e.length-o&&l.slice(n-o,n-o+e.length)==e)return n}}}return-1}function xp(t,e,r,n,i){for(var s=[],a=0,o=0;a<t.length;a++){var l=t[a],u=o,c=o+=l.size;u>=r||c<=e?s.push(l):(u<e&&s.push(l.slice(0,e-u,n)),i&&(s.push(i),i=void 0),c>r&&s.push(l.slice(r-u,l.size,n)))}return s}function Op(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;var i=t.docView.nearestDesc(r.focusNode),s=i&&i.size==0,a=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(a<0)return null;var o=n.resolve(a),l,u;if(lu(r)){for(l=a;i&&!i.node;)i=i.parent;var c=i.node;if(i&&c.isAtom&&Ae.NodeSelection.isSelectable(c)&&i.parent&&!(c.isInline&&VF(r.focusNode,r.focusOffset,i.dom))){var f=i.posBefore;u=new Ae.NodeSelection(a==f?o:n.resolve(f))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){for(var d=a,h=a,y=0;y<r.rangeCount;y++){var v=r.getRangeAt(y);d=Math.min(d,t.docView.posFromDOM(v.startContainer,v.startOffset,1)),h=Math.max(h,t.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(d<0)return null;var x=h==t.state.selection.anchor?[h,d]:[d,h],m=XO(x,2);l=m[0],a=m[1],o=n.resolve(a)}else l=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}var _=n.resolve(l);if(!u){var b=e=="pointer"||t.state.selection.head<o.pos&&!s?1:-1;u=Np(t,_,o,b)}return u}function dN(t){return t.editable?t.hasFocus():mN(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function yn(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=t.state.selection;if(pN(t,r),!!dN(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Rt){var n=t.domSelectionRange(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&_i(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)_B(t);else{var s=r.anchor,a=r.head,o,l;TO&&!(r instanceof Ae.TextSelection)&&(r.$from.parent.inlineContent||(o=AO(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(l=AO(t,r.to))),t.docView.setSelection(s,a,t,e),TO&&(o&&OO(o),l&&OO(l)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&bB(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}var TO=Mt||Rt&&eN<63;function AO(t,e){var r=t.docView.domFromPos(e,0),n=r.node,i=r.offset,s=i<n.childNodes.length?n.childNodes[i]:null,a=i?n.childNodes[i-1]:null;if(Mt&&s&&s.contentEditable=="false")return cp(s);if((!s||s.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(s)return cp(s);if(a)return cp(a)}}function cp(t){return t.contentEditable="true",Mt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function OO(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function bB(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);var r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=function(){(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(function(){(!dN(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function _B(t){var e=t.domSelection();if(e){var r=t.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,xt(r)+1):e.collapse(r,0),!n&&!t.state.selection.visible&&qt&&Wn<=11&&(r.disabled=!0,r.disabled=!1)}}function pN(t,e){if(e instanceof Ae.NodeSelection){var r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(NO(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else NO(t)}function NO(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Np(t,e,r,n){return t.someProp("createSelectionBetween",function(i){return i(t,e,r)})||Ae.TextSelection.between(e,r,n)}function RO(t){return t.editable&&!t.hasFocus()?!1:mN(t)}function mN(t){var e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function xB(t){var e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return _i(e.node,e.offset,r.anchorNode,r.anchorOffset)}function Ep(t,e){var r=t.selection,n=r.$anchor,i=r.$head,s=e>0?n.max(i):n.min(i),a=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return a&&Ae.Selection.findFrom(a,e)}function zn(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function CO(t,e,r){var n=t.state.selection;if(n instanceof Ae.TextSelection)if(r.indexOf("s")>-1){var i=n.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;var a=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return zn(t,new Ae.TextSelection(n.$anchor,a))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){var o=Ep(t.state,e);return o&&o instanceof Ae.NodeSelection?zn(t,o):!1}else if(!(tr&&r.indexOf("m")>-1)){var l=n.$head,u=l.textOffset?null:e<0?l.nodeBefore:l.nodeAfter,c;if(!u||u.isText)return!1;var f=e<0?l.pos-u.nodeSize:l.pos;return u.isAtom||(c=t.docView.descAt(f))&&!c.contentDOM?Ae.NodeSelection.isSelectable(u)?zn(t,new Ae.NodeSelection(e<0?t.state.doc.resolve(l.pos-u.nodeSize):l)):Ho?zn(t,new Ae.TextSelection(t.state.doc.resolve(e<0?f:f+u.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Ae.NodeSelection&&n.node.isInline)return zn(t,new Ae.TextSelection(e>0?n.$to:n.$from));var d=Ep(t.state,e);return d?zn(t,d):!1}}function ou(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Po(t,e){var r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ds(t,e){return e<0?EB(t):SB(t)}function EB(t){var e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(r){var i,s,a=!1;for(nr&&r.nodeType==1&&n<ou(r)&&Po(r.childNodes[n],-1)&&(a=!0);;)if(n>0){if(r.nodeType!=1)break;var o=r.childNodes[n-1];if(Po(o,-1))i=r,s=--n;else if(o.nodeType==3)r=o,n=r.nodeValue.length;else break}else{if(gN(r))break;for(var l=r.previousSibling;l&&Po(l,-1);)i=r.parentNode,s=xt(l),l=l.previousSibling;if(l)r=l,n=ou(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}a?Sp(t,r,n):i&&Sp(t,i,s)}}function SB(t){var e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(r){for(var i=ou(r),s,a;;)if(n<i){if(r.nodeType!=1)break;var o=r.childNodes[n];if(Po(o,1))s=r,a=++n;else break}else{if(gN(r))break;for(var l=r.nextSibling;l&&Po(l,1);)s=l.parentNode,a=xt(l)+1,l=l.nextSibling;if(l)r=l,n=0,i=ou(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}s&&Sp(t,s,a)}}function gN(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function kB(t,e){for(;t&&e==t.childNodes.length&&!Uo(t);)e=xt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){var r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function TB(t,e){for(;t&&!e&&!Uo(t);)e=xt(t),t=t.parentNode;for(;t&&e;){var r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function Sp(t,e,r){if(e.nodeType!=3){var n,i;(i=kB(e,r))?(e=i,r=0):(n=TB(e,r))&&(e=n,r=n.nodeValue.length)}var s=t.domSelection();if(s){if(lu(s)){var a=document.createRange();a.setEnd(e,r),a.setStart(e,r),s.removeAllRanges(),s.addRange(a)}else s.extend&&s.extend(e,r);t.domObserver.setCurSelection();var o=t.state;setTimeout(function(){t.state==o&&yn(t)},50)}}function IO(t,e){var r=t.state.doc.resolve(e);if(!(Rt||$F)&&r.parent.inlineContent){var n=t.coordsAtPos(e);if(e>r.start()){var i=t.coordsAtPos(e-1),s=(i.top+i.bottom)/2;if(s>n.top&&s<n.bottom&&Math.abs(i.left-n.left)>1)return i.left<n.left?"ltr":"rtl"}if(e<r.end()){var a=t.coordsAtPos(e+1),o=(a.top+a.bottom)/2;if(o>n.top&&o<n.bottom&&Math.abs(a.left-n.left)>1)return a.left>n.left?"ltr":"rtl"}}var l=getComputedStyle(t.dom).direction;return l=="rtl"?"rtl":"ltr"}function PO(t,e,r){var n=t.state.selection;if(n instanceof Ae.TextSelection&&!n.empty||r.indexOf("s")>-1||tr&&r.indexOf("m")>-1)return!1;var i=n.$from,s=n.$to;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var a=Ep(t.state,e);if(a&&a instanceof Ae.NodeSelection)return zn(t,a)}if(!i.parent.inlineContent){var o=e<0?i:s,l=n instanceof Ae.AllSelection?Ae.Selection.near(o,e):Ae.Selection.findFrom(o,e);return l?zn(t,l):!1}return!1}function DO(t,e){if(!(t.state.selection instanceof Ae.TextSelection))return!0;var r=t.state.selection,n=r.$head,i=r.$anchor,s=r.empty;if(!n.sameParent(i))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var a=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){var o=t.state.tr;return e<0?o.delete(n.pos-a.nodeSize,n.pos):o.delete(n.pos,n.pos+a.nodeSize),t.dispatch(o),!0}return!1}function MO(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function AB(t){if(!Mt||t.state.selection.$head.parentOffset>0)return!1;var e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(r&&r.nodeType==1&&n==0&&r.firstChild&&r.firstChild.contentEditable=="false"){var i=r.firstChild;MO(t,i,"true"),setTimeout(function(){return MO(t,i,"false")},20)}return!1}function OB(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function NB(t,e){var r=e.keyCode,n=OB(e);if(r==8||tr&&r==72&&n=="c")return DO(t,-1)||ds(t,-1);if(r==46&&!e.shiftKey||tr&&r==68&&n=="c")return DO(t,1)||ds(t,1);if(r==13||r==27)return!0;if(r==37||tr&&r==66&&n=="c"){var i=r==37?IO(t,t.state.selection.from)=="ltr"?-1:1:-1;return CO(t,i,n)||ds(t,i)}else if(r==39||tr&&r==70&&n=="c"){var s=r==39?IO(t,t.state.selection.from)=="ltr"?1:-1:1;return CO(t,s,n)||ds(t,s)}else{if(r==38||tr&&r==80&&n=="c")return PO(t,-1,n)||ds(t,-1);if(r==40||tr&&r==78&&n=="c")return AB(t)||PO(t,1,n)||ds(t,1);if(n==(tr?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function Rp(t,e){t.someProp("transformCopied",function(m){e=m(e,t)});for(var r=[],n=e,i=n.content,s=n.openStart,a=n.openEnd;s>1&&a>1&&i.childCount==1&&i.firstChild.childCount==1;){s--,a--;var o=i.firstChild;r.push(o.type.name,o.attrs!=o.type.defaultAttrs?o.attrs:null),i=o.content}var l=t.someProp("clipboardSerializer")||Xe.DOMSerializer.fromSchema(t.state.schema),u=_N(),c=u.createElement("div");c.appendChild(l.serializeFragment(i,{document:u}));for(var f=c.firstChild,d,h=0;f&&f.nodeType==1&&(d=bN[f.nodeName.toLowerCase()]);){for(var y=d.length-1;y>=0;y--){for(var v=u.createElement(d[y]);c.firstChild;)v.appendChild(c.firstChild);c.appendChild(v),h++}f=c.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice","".concat(s," ").concat(a).concat(h?" -".concat(h):""," ").concat(JSON.stringify(r)));var x=t.someProp("clipboardTextSerializer",function(m){return m(e,t)})||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:x,slice:e}}function Cp(t,e,r,n,i){var s=i.parent.type.spec.code,a,o;if(!r&&!e)return null;var l=!!e&&(n||s||!r);if(l){if(t.someProp("transformPastedText",function(P){e=P(e,s||n,t)}),s)return o=new Xe.Slice(Xe.Fragment.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",function(P){o=P(o,t,!0)}),o;var u=t.someProp("clipboardTextParser",function(P){return P(e,i,n,t)});if(u)o=u;else{var c=i.marks(),f=t.state.schema,d=Xe.DOMSerializer.fromSchema(f);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(function(P){var M=a.appendChild(document.createElement("p"));P&&M.appendChild(d.serializeNode(f.text(P,c)))})}}else t.someProp("transformPastedHTML",function(P){r=P(r,t)}),a=PB(r),Ho&&DB(a);var h=a&&a.querySelector("[data-pm-slice]"),y=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(y&&y[3])for(var v=+y[3];v>0;v--){for(var x=a.firstChild;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;a=x}if(!o){var m=t.someProp("clipboardParser")||t.someProp("domParser")||Xe.DOMParser.fromSchema(t.state.schema);o=m.parseSlice(a,{preserveWhitespace:!!(l||y),context:i,ruleFromNode:function(M){return M.nodeName=="BR"&&!M.nextSibling&&M.parentNode&&!RB.test(M.parentNode.nodeName)?{ignore:!0}:null}})}if(y)o=MB(LO(o,+y[1],+y[2]),y[4]);else if(o=Xe.Slice.maxOpen(CB(o.content,i),!0),o.openStart||o.openEnd){for(var _=0,b=0,w=o.content.firstChild;_<o.openStart&&!w.type.spec.isolating;_++,w=w.firstChild);for(var T=o.content.lastChild;b<o.openEnd&&!T.type.spec.isolating;b++,T=T.lastChild);o=LO(o,_,b)}return t.someProp("transformPasted",function(P){o=P(o,t,l)}),o}var RB=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function CB(t,e){if(t.childCount<2)return t;for(var r=function(){var a=e.node(i),o=a.contentMatchAt(e.index(i)),l,u=[];if(t.forEach(function(c){if(u){var f=o.findWrapping(c.type),d;if(!f)return u=null;if(d=u.length&&l.length&&yN(f,l,c,u[u.length-1],0))u[u.length-1]=d;else{u.length&&(u[u.length-1]=wN(u[u.length-1],l.length));var h=vN(c,f);u.push(h),o=o.matchType(h.type),l=f}}}),u)return{v:Xe.Fragment.from(u)}},n,i=e.depth;i>=0;i--)if(n=r(),n)return n.v;return t}function vN(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=e.length-1;n>=r;n--)t=e[n].create(null,Xe.Fragment.from(t));return t}function yN(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){var s=yN(t,e,r,n.lastChild,i+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));var a=n.contentMatchAt(n.childCount);if(a.matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(Xe.Fragment.from(vN(r,t,i+1))))}}function wN(t,e){if(e==0)return t;var r=t.content.replaceChild(t.childCount-1,wN(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(Xe.Fragment.empty,!0);return t.copy(r.append(n))}function kp(t,e,r,n,i,s){var a=e<0?t.firstChild:t.lastChild,o=a.content;return t.childCount>1&&(s=0),i<n-1&&(o=kp(o,e,r,n,i+1,s)),i>=r&&(o=e<0?a.contentMatchAt(0).fillBefore(o,s<=i).append(o):o.append(a.contentMatchAt(a.childCount).fillBefore(Xe.Fragment.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(o))}function LO(t,e,r){return e<t.openStart&&(t=new Xe.Slice(kp(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new Xe.Slice(kp(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}var bN={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},FO=null;function _N(){return FO||(FO=document.implementation.createHTMLDocument("title"))}var fp=null;function IB(t){var e=window.trustedTypes;return e?(fp||(fp=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:function(n){return n}})),fp.createHTML(t)):t}function PB(t){var e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var r=_N().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&bN[n[1].toLowerCase()])&&(t=i.map(function(a){return"<"+a+">"}).join("")+t+i.map(function(a){return"</"+a+">"}).reverse().join("")),r.innerHTML=IB(t),i)for(var s=0;s<i.length;s++)r=r.querySelector(i[s])||r;return r}function DB(t){for(var e=t.querySelectorAll(Rt?"span:not([class]):not([style])":"span.Apple-converted-space"),r=0;r<e.length;r++){var n=e[r];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function MB(t,e){if(!t.size)return t;var r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}for(var i=t.content,s=t.openStart,a=t.openEnd,o=n.length-2;o>=0;o-=2){var l=r.nodes[n[o]];if(!l||l.hasRequiredAttrs())break;i=Xe.Fragment.from(l.create(n[o+1],i)),s++,a++}return new Xe.Slice(i,s,a)}var Lt={},Ft={},LB={touchstart:!0,touchmove:!0},FB=it(function t(){nt(this,t),this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null});function BB(t){var e=function(){var i=Lt[r];t.dom.addEventListener(r,t.input.eventHandlers[r]=function(s){HB(t,s)&&!Ip(t,s)&&(t.editable||!(s.type in Ft))&&i(t,s)},LB[r]?{passive:!0}:void 0)};for(var r in Lt)e();Mt&&t.dom.addEventListener("input",function(){return null}),Tp(t)}function jn(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function UB(t){t.domObserver.stop();for(var e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Tp(t){t.someProp("handleDOMEvents",function(e){for(var r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=function(n){return Ip(t,n)})})}function Ip(t,e){return t.someProp("handleDOMEvents",function(r){var n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function HB(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function zB(t,e){!Ip(t,e)&&Lt[e.type]&&(t.editable||!(e.type in Ft))&&Lt[e.type](t,e)}Ft.keydown=function(t,e){var r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!EN(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(vn&&Rt&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),ws&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){var n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(function(){t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",function(i){return i(t,gi(13,"Enter"))}),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",function(i){return i(t,r)})||NB(t,r)?r.preventDefault():jn(t,"key")};Ft.keyup=function(t,e){e.keyCode==16&&(t.input.shiftKey=!1)};Ft.keypress=function(t,e){var r=e;if(!(EN(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||tr&&r.metaKey)){if(t.someProp("handleKeyPress",function(a){return a(t,r)})){r.preventDefault();return}var n=t.state.selection;if(!(n instanceof Ae.TextSelection)||!n.$from.sameParent(n.$to)){var i=String.fromCharCode(r.charCode),s=function(){return t.state.tr.insertText(i).scrollIntoView()};!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",function(a){return a(t,n.$from.pos,n.$to.pos,i,s)})&&t.dispatch(s()),r.preventDefault()}}};function uu(t){return{left:t.clientX,top:t.clientY}}function jB(t,e){var r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function Pp(t,e,r,n,i){if(n==-1)return!1;for(var s=t.state.doc.resolve(n),a=function(c){if(t.someProp(e,function(f){return c>s.depth?f(t,r,s.nodeAfter,s.before(c),i,!0):f(t,r,s.node(c),s.before(c),i,!1)}))return{v:!0}},o,l=s.depth+1;l>0;l--)if(o=a(l),o)return o.v;return!1}function gs(t,e,r){if(t.focused||t.focus(),!t.state.selection.eq(e)){var n=t.state.tr.setSelection(e);r=="pointer"&&n.setMeta("pointer",!0),t.dispatch(n)}}function WB(t,e){if(e==-1)return!1;var r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&Ae.NodeSelection.isSelectable(n)?(gs(t,new Ae.NodeSelection(r),"pointer"),!0):!1}function qB(t,e){if(e==-1)return!1;var r=t.state.selection,n,i;r instanceof Ae.NodeSelection&&(n=r.node);for(var s=t.state.doc.resolve(e),a=s.depth+1;a>0;a--){var o=a>s.depth?s.nodeAfter:s.node(a);if(Ae.NodeSelection.isSelectable(o)){n&&r.$from.depth>0&&a>=r.$from.depth&&s.before(r.$from.depth+1)==r.$from.pos?i=s.before(r.$from.depth):i=s.before(a);break}}return i!=null?(gs(t,Ae.NodeSelection.create(t.state.doc,i),"pointer"),!0):!1}function VB(t,e,r,n,i){return Pp(t,"handleClickOn",e,r,n)||t.someProp("handleClick",function(s){return s(t,e,n)})||(i?qB(t,r):WB(t,r))}function KB(t,e,r,n){return Pp(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",function(i){return i(t,e,n)})}function GB(t,e,r,n){return Pp(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",function(i){return i(t,e,n)})||$B(t,r,n)}function $B(t,e,r){if(r.button!=0)return!1;var n=t.state.doc;if(e==-1)return n.inlineContent?(gs(t,Ae.TextSelection.create(n,0,n.content.size),"pointer"),!0):!1;for(var i=n.resolve(e),s=i.depth+1;s>0;s--){var a=s>i.depth?i.nodeAfter:i.node(s),o=i.before(s);if(a.inlineContent)gs(t,Ae.TextSelection.create(n,o+1,o+1+a.content.size),"pointer");else if(Ae.NodeSelection.isSelectable(a))gs(t,Ae.NodeSelection.create(n,o),"pointer");else continue;return!0}}function Dp(t){return Mo(t)}var xN=tr?"metaKey":"ctrlKey";Lt.mousedown=function(t,e){var r=e;t.input.shiftKey=r.shiftKey;var n=Dp(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&jB(r,t.input.lastClick)&&!r[xN]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:s,button:r.button};var a=t.posAtCoords(uu(r));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new JB(t,a,r,!!n)):(s=="doubleClick"?KB:GB)(t,a.pos,a.inside,r)?r.preventDefault():jn(t,"pointer"))};var JB=(function(){function t(e,r,n,i){var s=this;nt(this,t),this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[xN],this.allowDefault=n.shiftKey;var a,o;if(r.inside>-1)a=e.state.doc.nodeAt(r.inside),o=r.inside;else{var l=e.state.doc.resolve(r.pos);a=l.parent,o=l.depth?l.before():0}var u=i?null:n.target,c=u?e.docView.nearestDesc(u,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;var f=e.state.selection;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||f instanceof Ae.NodeSelection&&f.from<=o&&f.to>o)&&(this.mightDrag={node:a,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&nr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){s.view.input.mouseDown==s&&s.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),jn(e,"pointer")}return it(t,[{key:"done",value:function(){var r=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return yn(r.view)}),this.view.input.mouseDown=null}},{key:"up",value:function(r){if(this.done(),!!this.view.dom.contains(r.target)){var n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(uu(r))),this.updateAllowDefault(r),this.allowDefault||!n?jn(this.view,"pointer"):VB(this.view,n.pos,n.inside,r,this.selectNode)?r.preventDefault():r.button==0&&(this.flushed||Mt&&this.mightDrag&&!this.mightDrag.node.isAtom||Rt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(gs(this.view,Ae.Selection.near(this.view.state.doc.resolve(n.pos)),"pointer"),r.preventDefault()):jn(this.view,"pointer")}}},{key:"move",value:function(r){this.updateAllowDefault(r),jn(this.view,"pointer"),r.buttons==0&&this.done()}},{key:"updateAllowDefault",value:function(r){!this.allowDefault&&(Math.abs(this.event.x-r.clientX)>4||Math.abs(this.event.y-r.clientY)>4)&&(this.allowDefault=!0)}}]),t})();Lt.touchstart=function(t){t.input.lastTouch=Date.now(),Dp(t),jn(t,"pointer")};Lt.touchmove=function(t){t.input.lastTouch=Date.now(),jn(t,"pointer")};Lt.contextmenu=function(t){return Dp(t)};function EN(t,e){return t.composing?!0:Mt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}var XB=vn?5e3:-1;Ft.compositionstart=Ft.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,r=e.selection.$to;if(e.selection instanceof Ae.TextSelection&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(function(l){return l.type.spec.inclusive===!1})))t.markCursor=t.state.storedMarks||r.marks(),Mo(t,!0),t.markCursor=null;else if(Mo(t,!e.selection.empty),nr&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length)for(var n=t.domSelectionRange(),i=n.focusNode,s=n.focusOffset;i&&i.nodeType==1&&s!=0;){var a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){var o=t.domSelection();o&&o.collapse(a,a.nodeValue.length);break}else i=a,s=-1}t.input.composing=!0}SN(t,XB)};Ft.compositionend=function(t,e){t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(function(){return t.domObserver.flush()}),t.input.compositionID++,SN(t,20))};function SN(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(function(){return Mo(t)},e))}function kN(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=ZB());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function YB(t){var e=t.domSelectionRange();if(!e.focusNode)return null;var r=WF(e.focusNode,e.focusOffset),n=qF(e.focusNode,e.focusOffset);if(r&&n&&r!=n){var i=n.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(r==s||n==s)return s;if(!i||!i.isText(n.nodeValue))return n;if(t.input.compositionNode==n){var a=r.pmViewDesc;if(!(!a||!a.isText(r.nodeValue)))return n}}return r||n}function ZB(){var t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Mo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(vn&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),kN(t),e||t.docView&&t.docView.dirty){var r=Op(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function QB(t,e){if(t.dom.parentNode){var r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";var n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(function(){r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}}var Lo=qt&&Wn<15||ws&&JF<604;Lt.copy=Ft.cut=function(t,e){var r=e,n=t.state.selection,i=r.type=="cut";if(!n.empty){var s=Lo?null:r.clipboardData,a=n.content(),o=Rp(t,a),l=o.dom,u=o.text;s?(r.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",u)):QB(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function eU(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function tU(t,e){if(t.dom.parentNode){var r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();var i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(function(){t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?Fo(t,n.value,null,i,e):Fo(t,n.textContent,n.innerHTML,i,e)},50)}}function Fo(t,e,r,n,i){var s=Cp(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",function(l){return l(t,i,s||Xe.Slice.empty)}))return!0;if(!s)return!1;var a=eU(s),o=a?t.state.tr.replaceSelectionWith(a,n):t.state.tr.replaceSelection(s);return t.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function TN(t){var e=t.getData("text/plain")||t.getData("Text");if(e)return e;var r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}Ft.paste=function(t,e){var r=e;if(!(t.composing&&!vn)){var n=Lo?null:r.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&Fo(t,TN(n),n.getData("text/html"),i,r)?r.preventDefault():tU(t,r)}};var AN=it(function t(e,r,n){nt(this,t),this.slice=e,this.move=r,this.node=n}),rU=tr?"altKey":"ctrlKey";function ON(t,e){var r=t.someProp("dragCopies",function(n){return!n(e)});return r??!e[rU]}Lt.dragstart=function(t,e){var r=e,n=t.input.mouseDown;if(n&&n.done(),!!r.dataTransfer){var i=t.state.selection,s=i.empty?null:t.posAtCoords(uu(r)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Ae.NodeSelection?i.to-1:i.to))){if(n&&n.mightDrag)a=Ae.NodeSelection.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){var o=t.docView.nearestDesc(r.target,!0);o&&o.node.type.spec.draggable&&o!=t.docView&&(a=Ae.NodeSelection.create(t.state.doc,o.posBefore))}}var l=(a||t.state.selection).content(),u=Rp(t,l),c=u.dom,f=u.text,d=u.slice;(!r.dataTransfer.files.length||!Rt||eN>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(Lo?"Text":"text/html",c.innerHTML),r.dataTransfer.effectAllowed="copyMove",Lo||r.dataTransfer.setData("text/plain",f),t.dragging=new AN(d,ON(t,r),a)}};Lt.dragend=function(t){var e=t.dragging;window.setTimeout(function(){t.dragging==e&&(t.dragging=null)},50)};Ft.dragover=Ft.dragenter=function(t,e){return e.preventDefault()};Ft.drop=function(t,e){var r=e,n=t.dragging;if(t.dragging=null,!!r.dataTransfer){var i=t.posAtCoords(uu(r));if(i){var s=t.state.doc.resolve(i.pos),a=n&&n.slice;a?t.someProp("transformPasted",function(x){a=x(a,t,!1)}):a=Cp(t,TN(r.dataTransfer),Lo?null:r.dataTransfer.getData("text/html"),!1,s);var o=!!(n&&ON(t,r));if(t.someProp("handleDrop",function(x){return x(t,r,a||Xe.Slice.empty,o)})){r.preventDefault();return}if(a){r.preventDefault();var l=a?HF.dropPoint(t.state.doc,s.pos,a):s.pos;l==null&&(l=s.pos);var u=t.state.tr;if(o){var c=n.node;c?c.replace(u):u.deleteSelection()}var f=u.mapping.map(l),d=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,h=u.doc;if(d?u.replaceRangeWith(f,f,a.content.firstChild):u.replaceRange(f,f,a),!u.doc.eq(h)){var y=u.doc.resolve(f);if(d&&Ae.NodeSelection.isSelectable(a.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new Ae.NodeSelection(y));else{var v=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach(function(x,m,_,b){return v=b}),u.setSelection(Np(t,y,u.doc.resolve(v)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))}}}}};Lt.focus=function(t){t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&yn(t)},20))};Lt.blur=function(t,e){var r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Lt.beforeinput=function(t,e){var r=e;if(Rt&&vn&&r.inputType=="deleteContentBackward"){t.domObserver.flushSoon();var n=t.input.domChangeCount;setTimeout(function(){if(t.input.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",function(s){return s(t,gi(8,"Backspace"))}))){var i=t.state.selection.$cursor;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())}},50)}};for(hp in Ft)Lt[hp]=Ft[hp];var hp;function Bo(t,e){if(t==e)return!0;for(var r in t)if(t[r]!==e[r])return!1;for(var n in e)if(!(n in t))return!1;return!0}var BO=(function(){function t(e,r){nt(this,t),this.toDOM=e,this.spec=r||wi,this.side=this.spec.side||0}return it(t,[{key:"map",value:function(r,n,i,s){var a=r.mapResult(n.from+s,this.side<0?-1:1),o=a.pos,l=a.deleted;return l?null:new Si(o-i,o-i,this)}},{key:"valid",value:function(){return!0}},{key:"eq",value:function(r){return this==r||r instanceof t&&(this.spec.key&&this.spec.key==r.spec.key||this.toDOM==r.toDOM&&Bo(this.spec,r.spec))}},{key:"destroy",value:function(r){this.spec.destroy&&this.spec.destroy(r)}}]),t})(),Do=(function(){function t(e,r){nt(this,t),this.attrs=e,this.spec=r||wi}return it(t,[{key:"map",value:function(r,n,i,s){var a=r.map(n.from+s,this.spec.inclusiveStart?-1:1)-i,o=r.map(n.to+s,this.spec.inclusiveEnd?1:-1)-i;return a>=o?null:new Si(a,o,this)}},{key:"valid",value:function(r,n){return n.from<n.to}},{key:"eq",value:function(r){return this==r||r instanceof t&&Bo(this.attrs,r.attrs)&&Bo(this.spec,r.spec)}},{key:"destroy",value:function(){}}],[{key:"is",value:function(r){return r.type instanceof t}}]),t})(),nU=(function(){function t(e,r){nt(this,t),this.attrs=e,this.spec=r||wi}return it(t,[{key:"map",value:function(r,n,i,s){var a=r.mapResult(n.from+s,1);if(a.deleted)return null;var o=r.mapResult(n.to+s,-1);return o.deleted||o.pos<=a.pos?null:new Si(a.pos-i,o.pos-i,this)}},{key:"valid",value:function(r,n){var i=r.content.findIndex(n.from),s=i.index,a=i.offset,o;return a==n.from&&!(o=r.child(s)).isText&&a+o.nodeSize==n.to}},{key:"eq",value:function(r){return this==r||r instanceof t&&Bo(this.attrs,r.attrs)&&Bo(this.spec,r.spec)}},{key:"destroy",value:function(){}}]),t})(),Si=(function(){function t(e,r,n){nt(this,t),this.from=e,this.to=r,this.type=n}return it(t,[{key:"copy",value:function(r,n){return new t(r,n,this.type)}},{key:"eq",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.type.eq(r.type)&&this.from+n==r.from&&this.to+n==r.to}},{key:"map",value:function(r,n,i){return this.type.map(r,this,n,i)}},{key:"spec",get:function(){return this.type.spec}},{key:"inline",get:function(){return this.type instanceof Do}},{key:"widget",get:function(){return this.type instanceof BO}}],[{key:"widget",value:function(r,n,i){return new t(r,r,new BO(n,i))}},{key:"inline",value:function(r,n,i,s){return new t(r,n,new Do(i,s))}},{key:"node",value:function(r,n,i,s){return new t(r,n,new nU(i,s))}}]),t})(),ps=[],wi={},yr=(function(){function t(e,r){nt(this,t),this.local=e.length?e:ps,this.children=r.length?r:ps}return it(t,[{key:"find",value:function(r,n,i){var s=[];return this.findInner(r??0,n??1e9,s,0,i),s}},{key:"findInner",value:function(r,n,i,s,a){for(var o=0;o<this.local.length;o++){var l=this.local[o];l.from<=n&&l.to>=r&&(!a||a(l.spec))&&i.push(l.copy(l.from+s,l.to+s))}for(var u=0;u<this.children.length;u+=3)if(this.children[u]<n&&this.children[u+1]>r){var c=this.children[u]+1;this.children[u+2].findInner(r-c,n-c,i,s+c,a)}}},{key:"map",value:function(r,n,i){return this==Nt||r.maps.length==0?this:this.mapInner(r,n,0,0,i||wi)}},{key:"mapInner",value:function(r,n,i,s,a){for(var o,l=0;l<this.local.length;l++){var u=this.local[l].map(r,i,s);u&&u.type.valid(n,u)?(o||(o=[])).push(u):a.onRemove&&a.onRemove(this.local[l].spec)}return this.children.length?iU(this.children,o||[],r,n,i,s,a):o?new t(o.sort(bi),ps):Nt}},{key:"add",value:function(r,n){return n.length?this==Nt?t.create(r,n):this.addInner(r,n,0):this}},{key:"addInner",value:function(r,n,i){var s=this,a,o=0;r.forEach(function(c,f){var d=f+i,h;if(h=CN(n,c,d)){for(a||(a=s.children.slice());o<a.length&&a[o]<f;)o+=3;a[o]==f?a[o+2]=a[o+2].addInner(c,h,d+1):a.splice(o,0,f,f+c.nodeSize,au(h,c,d+1,wi)),o+=3}});for(var l=RN(o?IN(n):n,-i),u=0;u<l.length;u++)l[u].type.valid(r,l[u])||l.splice(u--,1);return new t(l.length?this.local.concat(l).sort(bi):this.local,a||this.children)}},{key:"remove",value:function(r){return r.length==0||this==Nt?this:this.removeInner(r,0)}},{key:"removeInner",value:function(r,n){for(var i=this.children,s=this.local,a=0;a<i.length;a+=3){for(var o=void 0,l=i[a]+n,u=i[a+1]+n,c=0,f;c<r.length;c++)(f=r[c])&&f.from>l&&f.to<u&&(r[c]=null,(o||(o=[])).push(f));if(o){i==this.children&&(i=this.children.slice());var d=i[a+2].removeInner(o,l+1);d!=Nt?i[a+2]=d:(i.splice(a,3),a-=3)}}if(s.length){for(var h=0,y;h<r.length;h++)if(y=r[h])for(var v=0;v<s.length;v++)s[v].eq(y,n)&&(s==this.local&&(s=this.local.slice()),s.splice(v--,1))}return i==this.children&&s==this.local?this:s.length||i.length?new t(s,i):Nt}},{key:"forChild",value:function(r,n){if(this==Nt)return this;if(n.isLeaf)return t.empty;for(var i,s,a=0;a<this.children.length;a+=3)if(this.children[a]>=r){this.children[a]==r&&(i=this.children[a+2]);break}for(var o=r+1,l=o+n.content.size,u=0;u<this.local.length;u++){var c=this.local[u];if(c.from<l&&c.to>o&&c.type instanceof Do){var f=Math.max(o,c.from)-o,d=Math.min(l,c.to)-o;f<d&&(s||(s=[])).push(c.copy(f,d))}}if(s){var h=new t(s.sort(bi),ps);return i?new NN([h,i]):h}return i||Nt}},{key:"eq",value:function(r){if(this==r)return!0;if(!(r instanceof t)||this.local.length!=r.local.length||this.children.length!=r.children.length)return!1;for(var n=0;n<this.local.length;n++)if(!this.local[n].eq(r.local[n]))return!1;for(var i=0;i<this.children.length;i+=3)if(this.children[i]!=r.children[i]||this.children[i+1]!=r.children[i+1]||!this.children[i+2].eq(r.children[i+2]))return!1;return!0}},{key:"locals",value:function(r){return Mp(this.localsInner(r))}},{key:"localsInner",value:function(r){if(this==Nt)return ps;if(r.inlineContent||!this.local.some(Do.is))return this.local;for(var n=[],i=0;i<this.local.length;i++)this.local[i].type instanceof Do||n.push(this.local[i]);return n}},{key:"forEachSet",value:function(r){r(this)}}],[{key:"create",value:function(r,n){return n.length?au(n,r,0,wi):Nt}}]),t})();yr.empty=new yr([],[]);yr.removeOverlap=Mp;var Nt=yr.empty,NN=(function(){function t(e){nt(this,t),this.members=e}return it(t,[{key:"map",value:function(r,n){var i=this.members.map(function(s){return s.map(r,n,wi)});return t.from(i)}},{key:"forChild",value:function(r,n){if(n.isLeaf)return yr.empty;for(var i=[],s=0;s<this.members.length;s++){var a=this.members[s].forChild(r,n);a!=Nt&&(a instanceof t?i=i.concat(a.members):i.push(a))}return t.from(i)}},{key:"eq",value:function(r){if(!(r instanceof t)||r.members.length!=this.members.length)return!1;for(var n=0;n<this.members.length;n++)if(!this.members[n].eq(r.members[n]))return!1;return!0}},{key:"locals",value:function(r){for(var n,i=!0,s=0;s<this.members.length;s++){var a=this.members[s].localsInner(r);if(a.length)if(!n)n=a;else{i&&(n=n.slice(),i=!1);for(var o=0;o<a.length;o++)n.push(a[o])}}return n?Mp(i?n:n.sort(bi)):ps}},{key:"forEachSet",value:function(r){for(var n=0;n<this.members.length;n++)this.members[n].forEachSet(r)}}],[{key:"from",value:function(r){switch(r.length){case 0:return Nt;case 1:return r[0];default:return new t(r.every(function(n){return n instanceof yr})?r:r.reduce(function(n,i){return n.concat(i instanceof yr?i:i.members)},[]))}}}]),t})();function iU(t,e,r,n,i,s,a){for(var o=t.slice(),l=function(H){var k=0;r.maps[u].forEach(function(V,Q,j,ie){for(var ee=ie-j-(Q-V),le=0;le<o.length;le+=3){var G=o[le+1];if(!(G<0||V>G+H-k)){var D=o[le]+H-k;Q>=D?o[le+1]=V<=D?-2:-1:V>=H&&ee&&(o[le]+=ee,o[le+1]+=ee)}}k+=ee}),H=r.maps[u].map(H,-1),c=H},u=0,c=s;u<r.maps.length;u++)l(c);for(var f=!1,d=0;d<o.length;d+=3)if(o[d+1]<0){if(o[d+1]==-2){f=!0,o[d+1]=-1;continue}var h=r.map(t[d]+s),y=h-i;if(y<0||y>=n.content.size){f=!0;continue}var v=r.map(t[d+1]+s,-1),x=v-i,m=n.content.findIndex(y),_=m.index,b=m.offset,w=n.maybeChild(_);if(w&&b==y&&b+w.nodeSize==x){var T=o[d+2].mapInner(r,w,h+1,t[d]+s+1,a);T!=Nt?(o[d]=y,o[d+1]=x,o[d+2]=T):(o[d+1]=-2,f=!0)}else f=!0}if(f){var P=sU(o,t,e,r,i,s,a),M=au(P,n,0,a);e=M.local;for(var U=0;U<o.length;U+=3)o[U+1]<0&&(o.splice(U,3),U-=3);for(var R=0,J=0;R<M.children.length;R+=3){for(var oe=M.children[R];J<o.length&&o[J]<oe;)J+=3;o.splice(J,0,M.children[R],M.children[R+1],M.children[R+2])}}return new yr(e.sort(bi),o)}function RN(t,e){if(!e||!t.length)return t;for(var r=[],n=0;n<t.length;n++){var i=t[n];r.push(new Si(i.from+e,i.to+e,i.type))}return r}function sU(t,e,r,n,i,s,a){function o(u,c){for(var f=0;f<u.local.length;f++){var d=u.local[f].map(n,i,c);d?r.push(d):a.onRemove&&a.onRemove(u.local[f].spec)}for(var h=0;h<u.children.length;h+=3)o(u.children[h+2],u.children[h]+c+1)}for(var l=0;l<t.length;l+=3)t[l+1]==-1&&o(t[l+2],e[l]+s+1);return r}function CN(t,e,r){if(e.isLeaf)return null;for(var n=r+e.nodeSize,i=null,s=0,a;s<t.length;s++)(a=t[s])&&a.from>r&&a.to<n&&((i||(i=[])).push(a),t[s]=null);return i}function IN(t){for(var e=[],r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function au(t,e,r,n){var i=[],s=!1;e.forEach(function(l,u){var c=CN(t,l,u+r);if(c){s=!0;var f=au(c,l,r+u+1,n);f!=Nt&&i.push(u,u+l.nodeSize,f)}});for(var a=RN(s?IN(t):t,-r).sort(bi),o=0;o<a.length;o++)a[o].type.valid(e,a[o])||(n.onRemove&&n.onRemove(a[o].spec),a.splice(o--,1));return a.length||i.length?new yr(a,i):Nt}function bi(t,e){return t.from-e.from||t.to-e.to}function Mp(t){for(var e=t,r=0;r<e.length-1;r++){var n=e[r];if(n.from!=n.to)for(var i=r+1;i<e.length;i++){var s=e[i];if(s.from==n.from){s.to!=n.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,n.to),UO(e,i+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,s.from),UO(e,i,n.copy(s.from,n.to)));break}}}return e}function UO(t,e,r){for(;e<t.length&&bi(r,t[e])>0;)e++;t.splice(e,0,r)}function dp(t){var e=[];return t.someProp("decorations",function(r){var n=r(t.state);n&&n!=Nt&&e.push(n)}),t.cursorWrapper&&e.push(yr.create(t.state.doc,[t.cursorWrapper.deco])),NN.from(e)}var oU={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},aU=qt&&Wn<=11,lU=(function(){function t(){nt(this,t),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return it(t,[{key:"set",value:function(r){this.anchorNode=r.anchorNode,this.anchorOffset=r.anchorOffset,this.focusNode=r.focusNode,this.focusOffset=r.focusOffset}},{key:"clear",value:function(){this.anchorNode=this.focusNode=null}},{key:"eq",value:function(r){return r.anchorNode==this.anchorNode&&r.anchorOffset==this.anchorOffset&&r.focusNode==this.focusNode&&r.focusOffset==this.focusOffset}}]),t})(),uU=(function(){function t(e,r){var n=this;nt(this,t),this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new lU,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(function(i){for(var s=0;s<i.length;s++)n.queue.push(i[s]);qt&&Wn<=11&&i.some(function(a){return a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length})?n.flushSoon():n.flush()}),aU&&(this.onCharData=function(i){n.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}return it(t,[{key:"flushSoon",value:function(){var r=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){r.flushingSoon=-1,r.flush()},20))}},{key:"forceFlush",value:function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}},{key:"start",value:function(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,oU)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}},{key:"stop",value:function(){var r=this;if(this.observer){var n=this.observer.takeRecords();if(n.length){for(var i=0;i<n.length;i++)this.queue.push(n[i]);window.setTimeout(function(){return r.flush()},20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}},{key:"connectSelection",value:function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}},{key:"disconnectSelection",value:function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"suppressSelectionUpdates",value:function(){var r=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return r.suppressingSelectionUpdates=!1},50)}},{key:"onSelectionChange",value:function(){if(RO(this.view)){if(this.suppressingSelectionUpdates)return yn(this.view);if(qt&&Wn<=11&&!this.view.state.selection.empty){var r=this.view.domSelectionRange();if(r.focusNode&&_i(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset))return this.flushSoon()}this.flush()}}},{key:"setCurSelection",value:function(){this.currentSelection.set(this.view.domSelectionRange())}},{key:"ignoreSelectionChange",value:function(r){if(!r.focusNode)return!0;for(var n=new Set,i,s=r.focusNode;s;s=ys(s))n.add(s);for(var a=r.anchorNode;a;a=ys(a))if(n.has(a)){i=a;break}var o=i&&this.view.docView.nearestDesc(i);if(o&&o.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}},{key:"pendingRecords",value:function(){if(this.observer){var r=mp(this.observer.takeRecords()),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;this.queue.push(i)}}catch(s){r.e(s)}finally{r.f()}}return this.queue}},{key:"flush",value:function(){var r=this.view;if(!(!r.docView||this.flushingSoon>-1)){var n=this.pendingRecords();n.length&&(this.queue=[]);var i=r.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&RO(r)&&!this.ignoreSelectionChange(i),a=-1,o=-1,l=!1,u=[];if(r.editable)for(var c=0;c<n.length;c++){var f=this.registerMutation(n[c],u);f&&(a=a<0?f.from:Math.min(f.from,a),o=o<0?f.to:Math.max(f.to,o),f.typeOver&&(l=!0))}if(nr&&u.length){var d=u.filter(function(P){return P.nodeName=="BR"});if(d.length==2){var h=XO(d,2),y=h[0],v=h[1];y.parentNode&&y.parentNode.parentNode==v.parentNode?v.remove():y.remove()}else{var x=this.currentSelection.focusNode,m=mp(d),_;try{for(m.s();!(_=m.n()).done;){var b=_.value,w=b.parentNode;w&&w.nodeName=="LI"&&(!x||hU(r,x)!=w)&&b.remove()}}catch(P){m.e(P)}finally{m.f()}}}var T=null;a<0&&s&&r.input.lastFocus>Date.now()-200&&Math.max(r.input.lastTouch,r.input.lastClick.time)<Date.now()-300&&lu(i)&&(T=Op(r))&&T.eq(Ae.Selection.near(r.state.doc.resolve(0),1))?(r.input.lastFocus=0,yn(r),this.currentSelection.set(i),r.scrollToSelection()):(a>-1||s)&&(a>-1&&(r.docView.markDirty(a,o),cU(r)),this.handleDOMChange(a,o,l,u),r.docView&&r.docView.dirty?r.updateState(r.state):this.currentSelection.eq(i)||yn(r),this.currentSelection.set(i))}}},{key:"registerMutation",value:function(r,n){if(n.indexOf(r.target)>-1)return null;var i=this.view.docView.nearestDesc(r.target);if(r.type=="attributes"&&(i==this.view.docView||r.attributeName=="contenteditable"||r.attributeName=="style"&&!r.oldValue&&!r.target.getAttribute("style"))||!i||i.ignoreMutation(r))return null;if(r.type=="childList"){for(var s=0;s<r.addedNodes.length;s++){var a=r.addedNodes[s];n.push(a),a.nodeType==3&&(this.lastChangedTextNode=a)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(r.target))return{from:i.posBefore,to:i.posAfter};var o=r.previousSibling,l=r.nextSibling;if(qt&&Wn<=11&&r.addedNodes.length)for(var u=0;u<r.addedNodes.length;u++){var c=r.addedNodes[u],f=c.previousSibling,d=c.nextSibling;(!f||Array.prototype.indexOf.call(r.addedNodes,f)<0)&&(o=f),(!d||Array.prototype.indexOf.call(r.addedNodes,d)<0)&&(l=d)}var h=o&&o.parentNode==r.target?xt(o)+1:0,y=i.localPosFromDOM(r.target,h,-1),v=l&&l.parentNode==r.target?xt(l):r.target.childNodes.length,x=i.localPosFromDOM(r.target,v,1);return{from:y,to:x}}else return r.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=r.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:r.target.nodeValue==r.oldValue})}}]),t})(),HO=new WeakMap,zO=!1;function cU(t){if(!HO.has(t)&&(HO.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=nr,zO)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),zO=!0}}function jO(t,e){var r=e.startContainer,n=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);if(_i(a.node,a.offset,i,s)){var o=[i,s,r,n];r=o[0],n=o[1],i=o[2],s=o[3]}return{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:s}}function fU(t,e){if(e.getComposedRanges){var r=e.getComposedRanges(t.root)[0];if(r)return jO(t,r)}var n;function i(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",i,!0),n?jO(t,n):null}function hU(t,e){for(var r=e.parentNode;r&&r!=t.dom;r=r.parentNode){var n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function dU(t,e,r){var n=t.docView.parseRange(e,r),i=n.node,s=n.fromOffset,a=n.toOffset,o=n.from,l=n.to,u=t.domSelectionRange(),c,f=u.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(c=[{node:f,offset:u.anchorOffset}],lu(u)||c.push({node:u.focusNode,offset:u.focusOffset})),Rt&&t.input.lastKeyCode===8)for(var d=a;d>s;d--){var h=i.childNodes[d-1],y=h.pmViewDesc;if(h.nodeName=="BR"&&!y){a=d;break}if(!y||y.size)break}var v=t.state.doc,x=t.someProp("domParser")||Xe.DOMParser.fromSchema(t.state.schema),m=v.resolve(o),_=null,b=x.parse(i,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:s,to:a,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:pU,context:m});if(c&&c[0].pos!=null){var w=c[0].pos,T=c[1]&&c[1].pos;T==null&&(T=w),_={anchor:w+o,head:T+o}}return{doc:b,sel:_,from:o,to:l}}function pU(t){var e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Mt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||Mt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}var mU=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function gU(t,e,r,n,i){var s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){var a=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,o=Op(t,a);if(o&&!t.state.selection.eq(o)){if(Rt&&vn&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",function(j){return j(t,gi(13,"Enter"))}))return;var l=t.state.tr.setSelection(o);a=="pointer"?l.setMeta("pointer",!0):a=="key"&&l.scrollIntoView(),s&&l.setMeta("composition",s),t.dispatch(l)}return}var u=t.state.doc.resolve(e),c=u.sharedDepth(r);e=u.before(c+1),r=t.state.doc.resolve(r).after(c+1);var f=t.state.selection,d=dU(t,e,r),h=t.state.doc,y=h.slice(d.from,d.to),v,x;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(v=t.state.selection.to,x="end"):(v=t.state.selection.from,x="start"),t.input.lastKeyCode=null;var m=wU(y.content,d.doc.content,d.from,v,x);if(m&&t.input.domChangeCount++,(ws&&t.input.lastIOSEnter>Date.now()-225||vn)&&i.some(function(j){return j.nodeType==1&&!mU.test(j.nodeName)})&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",function(j){return j(t,gi(13,"Enter"))})){t.input.lastIOSEnter=0;return}if(!m)if(n&&f instanceof Ae.TextSelection&&!f.empty&&f.$head.sameParent(f.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))m={start:f.from,endA:f.to,endB:f.to};else{if(d.sel){var _=WO(t,t.state.doc,d.sel);if(_&&!_.eq(t.state.selection)){var b=t.state.tr.setSelection(_);s&&b.setMeta("composition",s),t.dispatch(b)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof Ae.TextSelection&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),qt&&Wn<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>d.from&&d.doc.textBetween(m.start-d.from-1,m.start-d.from+1)==" \xA0"&&(m.start--,m.endA--,m.endB--);var w=d.doc.resolveNoCache(m.start-d.from),T=d.doc.resolveNoCache(m.endB-d.from),P=h.resolve(m.start),M=w.sameParent(T)&&w.parent.inlineContent&&P.end()>=m.endA;if((ws&&t.input.lastIOSEnter>Date.now()-225&&(!M||i.some(function(j){return j.nodeName=="DIV"||j.nodeName=="P"}))||!M&&w.pos<d.doc.content.size&&(!w.sameParent(T)||!w.parent.inlineContent)&&w.pos<T.pos&&!/\S/.test(d.doc.textBetween(w.pos,T.pos,"","")))&&t.someProp("handleKeyDown",function(j){return j(t,gi(13,"Enter"))})){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&yU(h,m.start,m.endA,w,T)&&t.someProp("handleKeyDown",function(j){return j(t,gi(8,"Backspace"))})){vn&&Rt&&t.domObserver.suppressSelectionUpdates();return}Rt&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),vn&&!M&&w.start()!=T.start()&&T.parentOffset==0&&w.depth==T.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==m.endA&&(m.endB-=2,T=d.doc.resolveNoCache(m.endB-d.from),setTimeout(function(){t.someProp("handleKeyDown",function(j){return j(t,gi(13,"Enter"))})},20));var U=m.start,R=m.endA,J=function(ie){var ee=ie||t.state.tr.replace(U,R,d.doc.slice(m.start-d.from,m.endB-d.from));if(d.sel){var le=WO(t,ee.doc,d.sel);le&&!(Rt&&t.composing&&le.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&(le.head==U||le.head==ee.mapping.map(R)-1)||qt&&le.empty&&le.head==U)&&ee.setSelection(le)}return s&&ee.setMeta("composition",s),ee.scrollIntoView()},oe;if(M)if(w.pos==T.pos){qt&&Wn<=11&&w.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(function(){return yn(t)},20));var C=J(t.state.tr.delete(U,R)),H=h.resolve(m.start).marksAcross(h.resolve(m.endA));H&&C.ensureMarks(H),t.dispatch(C)}else if(m.endA==m.endB&&(oe=vU(w.parent.content.cut(w.parentOffset,T.parentOffset),P.parent.content.cut(P.parentOffset,m.endA-P.start())))){var k=J(t.state.tr);oe.type=="add"?k.addMark(U,R,oe.mark):k.removeMark(U,R,oe.mark),t.dispatch(k)}else if(w.parent.child(w.index()).isText&&w.index()==T.index()-(T.textOffset?0:1)){var V=w.parent.textBetween(w.parentOffset,T.parentOffset),Q=function(){return J(t.state.tr.insertText(V,U,R))};t.someProp("handleTextInput",function(j){return j(t,U,R,V,Q)})||t.dispatch(Q())}else t.dispatch(J());else t.dispatch(J())}function WO(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:Np(t,e.resolve(r.anchor),e.resolve(r.head))}function vU(t,e){for(var r=t.firstChild.marks,n=e.firstChild.marks,i=r,s=n,a,o,l,u=0;u<n.length;u++)i=n[u].removeFromSet(i);for(var c=0;c<r.length;c++)s=r[c].removeFromSet(s);if(i.length==1&&s.length==0)o=i[0],a="add",l=function(y){return y.mark(o.addToSet(y.marks))};else if(i.length==0&&s.length==1)o=s[0],a="remove",l=function(y){return y.mark(o.removeFromSet(y.marks))};else return null;for(var f=[],d=0;d<e.childCount;d++)f.push(l(e.child(d)));if(Xe.Fragment.from(f).eq(t))return{mark:o,type:a}}function yU(t,e,r,n,i){if(r-e<=i.pos-n.pos||pp(n,!0,!1)<i.pos)return!1;var s=t.resolve(e);if(!n.parent.isTextblock){var a=s.nodeAfter;return a!=null&&r==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;var o=t.resolve(pp(s,!0,!0));return!o.parent.isTextblock||o.pos>r||pp(o,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function pp(t,e,r){for(var n=t.depth,i=e?t.end():t.pos;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r)for(var s=t.node(n).maybeChild(t.indexAfter(n));s&&!s.isLeaf;)s=s.firstChild,i++;return i}function wU(t,e,r,n,i){var s=t.findDiffStart(e,r);if(s==null)return null;var a=t.findDiffEnd(e,r+t.size,r+e.size),o=a.a,l=a.b;if(i=="end"){var u=Math.max(0,s-Math.min(o,l));n-=o+u-s}if(o<s&&t.size<e.size){var c=n<=s&&n>=o?s-n:0;s-=c,s&&s<e.size&&qO(e.textBetween(s-1,s+1))&&(s+=c?1:-1),l=s+(l-o),o=s}else if(l<s){var f=n<=s&&n>=l?s-n:0;s-=f,s&&s<t.size&&qO(t.textBetween(s-1,s+1))&&(s+=f?1:-1),o=s+(o-l),l=s}return{start:s,endA:o,endB:l}}function qO(t){if(t.length!=2)return!1;var e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}var bU=Cp,_U=Mo,PN=(function(){function t(e,r){var n=this;nt(this,t),this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new FB,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(JO),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=GO(this),KO(this),this.nodeViews=$O(this),this.docView=SO(this.state.doc,VO(this),dp(this),this.dom,this),this.domObserver=new uU(this,function(i,s,a,o){return gU(n,i,s,a,o)}),this.domObserver.start(),BB(this),this.updatePluginViews()}return it(t,[{key:"composing",get:function(){return this.input.composing}},{key:"props",get:function(){if(this._props.state!=this.state){var r=this._props;this._props={};for(var n in r)this._props[n]=r[n];this._props.state=this.state}return this._props}},{key:"update",value:function(r){r.handleDOMEvents!=this._props.handleDOMEvents&&Tp(this);var n=this._props;this._props=r,r.plugins&&(r.plugins.forEach(JO),this.directPlugins=r.plugins),this.updateStateInner(r.state,n)}},{key:"setProps",value:function(r){var n={};for(var i in this._props)n[i]=this._props[i];n.state=this.state;for(var s in r)n[s]=r[s];this.update(n)}},{key:"updateState",value:function(r){this.updateStateInner(r,this._props)}},{key:"updateStateInner",value:function(r,n){var i,s=this.state,a=!1,o=!1;r.storedMarks&&this.composing&&(kN(this),o=!0),this.state=r;var l=s.plugins!=r.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){var u=$O(this);EU(u,this.nodeViews)&&(this.nodeViews=u,a=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&Tp(this),this.editable=GO(this),KO(this);var c=dp(this),f=VO(this),d=s.plugins!=r.plugins&&!s.doc.eq(r.doc)?"reset":r.scrollToSelection>s.scrollToSelection?"to selection":"preserve",h=a||!this.docView.matchesNode(r.doc,f,c);(h||!r.selection.eq(s.selection))&&(o=!0);var y=d=="preserve"&&o&&this.dom.style.overflowAnchor==null&&ZF(this);if(o){this.domObserver.stop();var v=h&&(qt||Rt)&&!this.composing&&!s.selection.empty&&!r.selection.empty&&xU(s.selection,r.selection);if(h){var x=Rt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=YB(this)),(a||!this.docView.update(r.doc,f,c,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=SO(r.doc,f,c,this.dom,this)),x&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&xB(this))?yn(this,v):(pN(this,r.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((i=this.dragging)===null||i===void 0)&&i.node&&!s.doc.eq(r.doc)&&this.updateDraggedNode(this.dragging,s),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():y&&QF(y)}},{key:"scrollToSelection",value:function(){var r=this,n=this.domSelectionRange().focusNode;if(!(!n||!this.dom.contains(n.nodeType==1?n:n.parentNode))){if(!this.someProp("handleScrollToSelection",function(s){return s(r)}))if(this.state.selection instanceof Ae.NodeSelection){var i=this.docView.domAfterPos(this.state.selection.from);i.nodeType==1&&yO(this,i.getBoundingClientRect(),n)}else yO(this,this.coordsAtPos(this.state.selection.head,1),n)}}},{key:"destroyPluginViews",value:function(){for(var r;r=this.pluginViews.pop();)r.destroy&&r.destroy()}},{key:"updatePluginViews",value:function(r){if(!r||r.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var n=0;n<this.directPlugins.length;n++){var i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(var s=0;s<this.state.plugins.length;s++){var a=this.state.plugins[s];a.spec.view&&this.pluginViews.push(a.spec.view(this))}}else for(var o=0;o<this.pluginViews.length;o++){var l=this.pluginViews[o];l.update&&l.update(this,r)}}},{key:"updateDraggedNode",value:function(r,n){var i=r.node,s=-1;if(this.state.doc.nodeAt(i.from)==i.node)s=i.from;else{var a=i.from+(this.state.doc.content.size-n.doc.content.size),o=a>0&&this.state.doc.nodeAt(a);o==i.node&&(s=a)}this.dragging=new AN(r.slice,r.move,s<0?void 0:Ae.NodeSelection.create(this.state.doc,s))}},{key:"someProp",value:function(r,n){var i=this._props&&this._props[r],s;if(i!=null&&(s=n?n(i):i))return s;for(var a=0;a<this.directPlugins.length;a++){var o=this.directPlugins[a].props[r];if(o!=null&&(s=n?n(o):o))return s}var l=this.state.plugins;if(l)for(var u=0;u<l.length;u++){var c=l[u].props[r];if(c!=null&&(s=n?n(c):c))return s}}},{key:"hasFocus",value:function(){if(qt){var r=this.root.activeElement;if(r==this.dom)return!0;if(!r||!this.dom.contains(r))return!1;for(;r&&this.dom!=r&&this.dom.contains(r);){if(r.contentEditable=="false")return!1;r=r.parentElement}return!0}return this.root.activeElement==this.dom}},{key:"focus",value:function(){this.domObserver.stop(),this.editable&&eB(this.dom),yn(this),this.domObserver.start()}},{key:"root",get:function(){var r=this,n=this._root;if(n==null){for(var i=function(l){if(l.nodeType==9||l.nodeType==11&&l.host)return l.getSelection||(Object.getPrototypeOf(l).getSelection=function(){return l.ownerDocument.getSelection()}),{v:r._root=l}},s,a=this.dom.parentNode;a;a=a.parentNode)if(s=i(a),s)return s.v}return n||document}},{key:"updateRoot",value:function(){this._root=null}},{key:"posAtCoords",value:function(r){return sB(this,r)}},{key:"coordsAtPos",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return sN(this,r,n)}},{key:"domAtPos",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.docView.domFromPos(r,n)}},{key:"nodeDOM",value:function(r){var n=this.docView.descAt(r);return n?n.nodeDOM:null}},{key:"posAtDOM",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=this.docView.posFromDOM(r,n,i);if(s==null)throw new RangeError("DOM position not inside the editor");return s}},{key:"endOfTextblock",value:function(r,n){return cB(this,n||this.state,r)}},{key:"pasteHTML",value:function(r,n){return Fo(this,"",r,!1,n||new ClipboardEvent("paste"))}},{key:"pasteText",value:function(r,n){return Fo(this,r,null,!0,n||new ClipboardEvent("paste"))}},{key:"serializeForClipboard",value:function(r){return Rp(this,r)}},{key:"destroy",value:function(){this.docView&&(UB(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],dp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,zF())}},{key:"isDestroyed",get:function(){return this.docView==null}},{key:"dispatchEvent",value:function(r){return zB(this,r)}},{key:"domSelectionRange",value:function(){var r=this.domSelection();return r?Mt&&this.root.nodeType===11&&KF(this.dom.ownerDocument)==this.dom&&fU(this,r)||r:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}},{key:"domSelection",value:function(){return this.root.getSelection()}}]),t})();PN.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function VO(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",function(r){if(typeof r=="function"&&(r=r(t.state)),r)for(var n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[Si.node(0,t.state.doc.content.size,e)]}function KO(t){if(t.markCursor){var e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Si.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function GO(t){return!t.someProp("editable",function(e){return e(t.state)===!1})}function xU(t,e){var r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function $O(t){var e=Object.create(null);function r(n){for(var i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function EU(t,e){var r=0,n=0;for(var i in t){if(t[i]!=e[i])return!0;r++}for(var s in e)n++;return r!=n}function JO(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}bs.Decoration=Si;bs.DecorationSet=yr;bs.EditorView=PN;bs.__endComposition=_U;bs.__parseFromClipboard=bU});var jo=xe(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});function SU(t){Object.keys(t).filter(e=>e!=="default"&&e!=="__esModule").forEach(e=>{cu.hasOwnProperty(e)||Object.defineProperty(cu,e,{enumerable:!0,configurable:!0,get:()=>t[e]})})}var kU=Lp();SU(kU)});var DN=xe(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});var Vn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Wo={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},TU=typeof navigator<"u"&&/Mac/.test(navigator.platform),AU=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(at=0;at<10;at++)Vn[48+at]=Vn[96+at]=String(at);var at;for(at=1;at<=24;at++)Vn[at+111]="F"+at;var at;for(at=65;at<=90;at++)Vn[at]=String.fromCharCode(at+32),Wo[at]=String.fromCharCode(at);var at;for(fu in Vn)Wo.hasOwnProperty(fu)||(Wo[fu]=Vn[fu]);var fu;function OU(t){var e=TU&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||AU&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Wo:Vn)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}qo.base=Vn;qo.keyName=OU;qo.shift=Wo});var Up=xe(Bp=>{"use strict";var MN=DN(),NU=dn(),RU=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),CU=typeof navigator<"u"&&/Win/.test(navigator.platform);function IU(t){var e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");for(var n,i,s,a,o=0;o<e.length-1;o++){var l=e[o];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))RU?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),a&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function PU(t){var e=Object.create(null);for(var r in t)e[IU(r)]=t[r];return e}function Fp(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function DU(t){return new NU.Plugin({props:{handleKeyDown:LN(t)}})}function LN(t){var e=PU(t);return function(r,n){var i=MN.keyName(n),s,a=e[Fp(i,n)];if(a&&a(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){var o=e[Fp(i,n,!1)];if(o&&o(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(CU&&n.ctrlKey&&n.altKey)&&(s=MN.base[n.keyCode])&&s!=i){var l=e[Fp(s,n)];if(l&&l(r.state,r.dispatch,r))return!0}}return!1}}Bp.keydownHandler=LN;Bp.keymap=DU});var FN=xe(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});function MU(t){Object.keys(t).filter(e=>e!=="default"&&e!=="__esModule").forEach(e=>{hu.hasOwnProperty(e)||Object.defineProperty(hu,e,{enumerable:!0,configurable:!0,get:()=>t[e]})})}var LU=Up();MU(LU)});var Se=xe((kQ,JR)=>{"use strict";var $p=Object.defineProperty,FU=Object.getOwnPropertyDescriptor,BU=Object.getOwnPropertyNames,UU=Object.prototype.hasOwnProperty,bu=(t,e)=>{for(var r in e)$p(t,r,{get:e[r],enumerable:!0})},HU=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of BU(e))!UU.call(t,i)&&i!==r&&$p(t,i,{get:()=>e[i],enumerable:!(n=FU(e,i))||n.enumerable});return t},zU=t=>HU($p({},"__esModule",{value:!0}),t),eR={};bu(eR,{CommandManager:()=>Yo,Editor:()=>oz,Extendable:()=>Cu,Extension:()=>wr,Fragment:()=>hz,InputRule:()=>Ts,Mark:()=>_R,MarkView:()=>_z,Node:()=>xz,NodePos:()=>UR,NodeView:()=>Ez,PasteRule:()=>Iu,ResizableNodeView:()=>zR,ResizableNodeview:()=>pz,Tracker:()=>Az,callOrReturn:()=>Le,canInsertNode:()=>gz,combineTransactionSteps:()=>iR,commands:()=>Jp,createAtomBlockMarkdownSpec:()=>WR,createBlockMarkdownSpec:()=>qR,createChainableState:()=>Xo,createDocument:()=>yu,createElement:()=>ZN,createInlineMarkdownSpec:()=>VR,createNodeFromContent:()=>Es,createStyleTag:()=>HR,defaultBlockAt:()=>sR,deleteProps:()=>qp,elementFromString:()=>xs,escapeForRegEx:()=>vz,extensions:()=>kR,findChildren:()=>e9,findChildrenInRange:()=>t9,findDuplicates:()=>cR,findParentNode:()=>Qo,findParentNodeClosestToPos:()=>oR,flattenExtensions:()=>ku,fromString:()=>uR,generateHTML:()=>s9,generateJSON:()=>a9,generateText:()=>u9,getAttributes:()=>hR,getAttributesFromExtensions:()=>tm,getChangedRanges:()=>pR,getDebugJSON:()=>mR,getExtensionField:()=>Ee,getHTMLFromFragment:()=>ea,getMarkAttributes:()=>Qp,getMarkRange:()=>xu,getMarkType:()=>Dr,getMarksBetween:()=>sm,getNodeAtPosition:()=>f9,getNodeAttributes:()=>fR,getNodeType:()=>pt,getRenderedAttributes:()=>Jo,getSchema:()=>Ou,getSchemaByResolvedExtensions:()=>rm,getSchemaTypeByName:()=>vu,getSchemaTypeNameByName:()=>Zo,getSplittedAttributes:()=>Go,getText:()=>im,getTextBetween:()=>nm,getTextContentFromNodes:()=>gR,getTextSerializersFromSchema:()=>Nu,h:()=>ZN,injectExtensionAttributesToParseRule:()=>Vp,inputRulesPlugin:()=>bR,isActive:()=>vR,isAndroid:()=>Eu,isAtEndOfNode:()=>h9,isAtStartOfNode:()=>d9,isEmptyObject:()=>aR,isExtensionRulesEnabled:()=>Kp,isFunction:()=>em,isList:()=>Gp,isMacOS:()=>Zp,isMarkActive:()=>wu,isNodeActive:()=>Ss,isNodeEmpty:()=>Ru,isNodeSelection:()=>m9,isNumber:()=>ER,isPlainObject:()=>Ko,isRegExp:()=>_u,isString:()=>yz,isTextSelection:()=>Xp,isiOS:()=>ks,markInputRule:()=>az,markPasteRule:()=>Sz,markdown:()=>jR,mergeAttributes:()=>lR,mergeDeep:()=>om,minMax:()=>Pr,nodeInputRule:()=>lz,nodePasteRule:()=>kz,objectIncludes:()=>$o,parseAttributes:()=>Du,parseIndentedBlocks:()=>KR,pasteRulesPlugin:()=>SR,posToDOMRect:()=>g9,removeDuplicates:()=>dR,renderNestedMarkdownContent:()=>GR,resolveExtensions:()=>Au,resolveFocusPosition:()=>Yp,rewriteUnknownContent:()=>v9,selectionToInsertionEnd:()=>nR,serializeAttributes:()=>Mu,sortExtensions:()=>Tu,splitExtensions:()=>Ti,textInputRule:()=>cz,textPasteRule:()=>Tz,textblockTypeInputRule:()=>uz,updateMarkViewAttributes:()=>am,wrappingInputRule:()=>fz});JR.exports=zU(eR);function Xo(t){let{state:e,transaction:r}=t,{selection:n}=r,{doc:i}=r,{storedMarks:s}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return n},get doc(){return i},get tr(){return n=r.selection,i=r.doc,s=r.storedMarks,r}}}var Yo=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:t,editor:e,state:r}=this,{view:n}=e,{tr:i}=r,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([a,o])=>[a,(...u)=>{let c=o(...u)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(i),c}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){let{rawCommands:r,editor:n,state:i}=this,{view:s}=n,a=[],o=!!t,l=t||i.tr,u=()=>(!o&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),a.every(f=>f===!0)),c={...Object.fromEntries(Object.entries(r).map(([f,d])=>[f,(...y)=>{let v=this.buildProps(l,e),x=d(...y)(v);return a.push(x),c}])),run:u};return c}createCan(t){let{rawCommands:e,state:r}=this,n=!1,i=t||r.tr,s=this.buildProps(i,n);return{...Object.fromEntries(Object.entries(e).map(([o,l])=>[o,(...u)=>l(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,n)}}buildProps(t,e=!0){let{rawCommands:r,editor:n,state:i}=this,{view:s}=n,a={tr:t,editor:n,view:s,state:Xo({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([o,l])=>[o,(...u)=>l(...u)(a)]))}};return a}},Jp={};bu(Jp,{blur:()=>jU,clearContent:()=>WU,clearNodes:()=>VU,command:()=>KU,createParagraphNear:()=>$U,cut:()=>XU,deleteCurrentNode:()=>YU,deleteNode:()=>ZU,deleteRange:()=>QU,deleteSelection:()=>tH,enter:()=>rH,exitCode:()=>iH,extendMarkRange:()=>oH,first:()=>aH,focus:()=>uH,forEach:()=>cH,insertContent:()=>fH,insertContentAt:()=>mH,joinBackward:()=>yH,joinDown:()=>vH,joinForward:()=>wH,joinItemBackward:()=>_H,joinItemForward:()=>EH,joinTextblockBackward:()=>kH,joinTextblockForward:()=>AH,joinUp:()=>gH,keyboardShortcut:()=>NH,lift:()=>CH,liftEmptyBlock:()=>PH,liftListItem:()=>MH,newlineInCode:()=>FH,resetAttributes:()=>BH,scrollIntoView:()=>UH,selectAll:()=>zH,selectNodeBackward:()=>WH,selectNodeForward:()=>VH,selectParentNode:()=>GH,selectTextblockEnd:()=>JH,selectTextblockStart:()=>YH,setContent:()=>ZH,setMark:()=>w9,setMeta:()=>b9,setNode:()=>_9,setNodeSelection:()=>E9,setTextDirection:()=>S9,setTextSelection:()=>k9,sinkListItem:()=>A9,splitBlock:()=>O9,splitListItem:()=>C9,toggleList:()=>I9,toggleMark:()=>P9,toggleNode:()=>D9,toggleWrap:()=>M9,undoInputRule:()=>L9,unsetAllMarks:()=>F9,unsetMark:()=>B9,unsetTextDirection:()=>U9,updateAttributes:()=>H9,wrapIn:()=>j9,wrapInList:()=>q9});var jU=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window?.getSelection())==null||r.removeAllRanges())}),!0),WU=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),qU=pr(),VU=()=>({state:t,tr:e,dispatch:r})=>{let{selection:n}=e,{ranges:i}=n;return r&&i.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(o,l)=>{if(o.type.isText)return;let{doc:u,mapping:c}=e,f=u.resolve(c.map(l)),d=u.resolve(c.map(l+o.nodeSize)),h=f.blockRange(d);if(!h)return;let y=(0,qU.liftTarget)(h);if(o.type.isTextblock){let{defaultType:v}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(h.start,v)}(y||y===0)&&e.lift(h,y)})}),!0},KU=t=>e=>t(e),GU=bt(),$U=()=>({state:t,dispatch:e})=>(0,GU.createParagraphNear)(t,e),JU=Pe(),XU=(t,e)=>({editor:r,tr:n})=>{let{state:i}=r,s=i.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);let a=n.mapping.map(e);return n.insert(a,s.content),n.setSelection(new JU.TextSelection(n.doc.resolve(Math.max(a-1,0)))),!0},YU=()=>({tr:t,dispatch:e})=>{let{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;let i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===n.type){if(e){let o=i.before(s),l=i.after(s);t.delete(o,l).scrollIntoView()}return!0}return!1};function pt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var ZU=t=>({tr:e,state:r,dispatch:n})=>{let i=pt(t,r.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(n){let l=s.before(a),u=s.after(a);e.delete(l,u).scrollIntoView()}return!0}return!1},QU=t=>({tr:e,dispatch:r})=>{let{from:n,to:i}=t;return r&&e.delete(n,i),!0},eH=bt(),tH=()=>({state:t,dispatch:e})=>(0,eH.deleteSelection)(t,e),rH=()=>({commands:t})=>t.keyboardShortcut("Enter"),nH=bt(),iH=()=>({state:t,dispatch:e})=>(0,nH.exitCode)(t,e),sH=Pe();function _u(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function $o(t,e,r={strict:!0}){let n=Object.keys(e);return n.length?n.every(i=>r.strict?e[i]===t[i]:_u(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function tR(t,e,r={}){return t.find(n=>n.type===e&&$o(Object.fromEntries(Object.keys(r).map(i=>[i,n.attrs[i]])),r))}function BN(t,e,r={}){return!!tR(t,e,r)}function xu(t,e,r){var n;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(c=>c.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(c=>c.type===e)||(r=r||((n=i.node.marks[0])==null?void 0:n.attrs),!tR([...i.node.marks],e,r)))return;let a=i.index,o=t.start()+i.offset,l=a+1,u=o+i.node.nodeSize;for(;a>0&&BN([...t.parent.child(a-1).marks],e,r);)a-=1,o-=t.parent.child(a).nodeSize;for(;l<t.parent.childCount&&BN([...t.parent.child(l).marks],e,r);)u+=t.parent.child(l).nodeSize,l+=1;return{from:o,to:u}}function Dr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var oH=(t,e={})=>({tr:r,state:n,dispatch:i})=>{let s=Dr(t,n.schema),{doc:a,selection:o}=r,{$from:l,from:u,to:c}=o;if(i){let f=xu(l,s,e);if(f&&f.from<=u&&f.to>=c){let d=sH.TextSelection.create(a,f.from,f.to);r.setSelection(d)}}return!0},aH=t=>e=>{let r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1},lH=Pe();function Xp(t){return t instanceof lH.TextSelection}var du=Pe();function Pr(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function Yp(t,e=null){if(!e)return null;let r=du.Selection.atStart(t),n=du.Selection.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;let i=r.from,s=n.to;return e==="all"?du.TextSelection.create(t,Pr(0,i,s),Pr(t.content.size,i,s)):du.TextSelection.create(t,Pr(e,i,s),Pr(e,i,s))}function Eu(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ks(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var uH=(t=null,e={})=>({editor:r,view:n,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};let a=()=>{(ks()||Eu())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e?.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!Xp(r.state.selection))return a(),!0;let o=Yp(i.doc,t)||r.state.selection,l=r.state.selection.eq(o);return s&&(l||i.setSelection(o),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},cH=(t,e)=>r=>t.every((n,i)=>e(n,{...r,index:i})),fH=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),hH=gr(),ki=gr(),rR=t=>{let e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){let n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&rR(n)}return t};function xs(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");let e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return rR(r)}function Es(t,e,r){if(t instanceof ki.Node||t instanceof ki.Fragment)return t;r={slice:!0,parseOptions:{},...r};let n=typeof t=="object"&&t!==null,i=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return ki.Fragment.fromArray(t.map(o=>e.nodeFromJSON(o)));let a=e.nodeFromJSON(t);return r.errorOnInvalidContent&&a.check(),a}catch(s){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Es("",e,r)}if(i){if(r.errorOnInvalidContent){let a=!1,o="",l=new ki.Schema({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(a=!0,o=typeof u=="string"?u:u.outerHTML,null)}]}})});if(r.slice?ki.DOMParser.fromSchema(l).parseSlice(xs(t),r.parseOptions):ki.DOMParser.fromSchema(l).parse(xs(t),r.parseOptions),r.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}let s=ki.DOMParser.fromSchema(e);return r.slice?s.parseSlice(xs(t),r.parseOptions).content:s.parse(xs(t),r.parseOptions)}return Es("",e,r)}var dH=Pe(),UN=pr();function nR(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof UN.ReplaceStep||i instanceof UN.ReplaceAroundStep))return;let s=t.mapping.maps[n],a=0;s.forEach((o,l,u,c)=>{a===0&&(a=c)}),t.setSelection(dH.Selection.near(t.doc.resolve(a),r))}var pH=t=>!("type"in t),mH=(t,e,r)=>({tr:n,dispatch:i,editor:s})=>{var a;if(i){r={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let o,l=x=>{s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Es(e,s.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(x){l(x)}try{o=Es(e,s.schema,{parseOptions:u,errorOnInvalidContent:(a=r.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(x){return l(x),!1}let{from:c,to:f}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},d=!0,h=!0;if((pH(o)?o:[o]).forEach(x=>{x.check(),d=d?x.isText&&x.marks.length===0:!1,h=h?x.isBlock:!1}),c===f&&h){let{parent:x}=n.doc.resolve(c);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(c-=1,f+=1)}let v;if(d){if(Array.isArray(e))v=e.map(x=>x.text||"").join("");else if(e instanceof hH.Fragment){let x="";e.forEach(m=>{m.text&&(x+=m.text)}),v=x}else typeof e=="object"&&e&&e.text?v=e.text:v=e;n.insertText(v,c,f)}else{v=o;let x=n.doc.resolve(c),m=x.node(),_=x.parentOffset===0,b=m.isText||m.isTextblock,w=m.content.size>0;_&&b&&w&&(c=Math.max(0,c-1)),n.replaceWith(c,f,v)}r.updateSelection&&nR(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:c,text:v}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:c,text:v})}return!0},Su=bt(),gH=()=>({state:t,dispatch:e})=>(0,Su.joinUp)(t,e),vH=()=>({state:t,dispatch:e})=>(0,Su.joinDown)(t,e),yH=()=>({state:t,dispatch:e})=>(0,Su.joinBackward)(t,e),wH=()=>({state:t,dispatch:e})=>(0,Su.joinForward)(t,e),bH=pr(),_H=()=>({state:t,dispatch:e,tr:r})=>{try{let n=(0,bH.joinPoint)(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},xH=pr(),EH=()=>({state:t,dispatch:e,tr:r})=>{try{let n=(0,xH.joinPoint)(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},SH=bt(),kH=()=>({state:t,dispatch:e})=>(0,SH.joinTextblockBackward)(t,e),TH=bt(),AH=()=>({state:t,dispatch:e})=>(0,TH.joinTextblockForward)(t,e);function Zp(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function OH(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r==="Space"&&(r=" ");let n,i,s,a;for(let o=0;o<e.length-1;o+=1){let l=e[o];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))ks()||Zp()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(r=`Alt-${r}`),i&&(r=`Ctrl-${r}`),a&&(r=`Meta-${r}`),s&&(r=`Shift-${r}`),r}var NH=t=>({editor:e,view:r,tr:n,dispatch:i})=>{let s=OH(t).split(/-(?!$)/),a=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),o=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{r.someProp("handleKeyDown",u=>u(r,o))});return l?.steps.forEach(u=>{let c=u.map(n.mapping);c&&i&&n.maybeStep(c)}),!0},RH=bt();function Ss(t,e,r={}){let{from:n,to:i,empty:s}=t.selection,a=e?pt(e,t.schema):null,o=[];t.doc.nodesBetween(n,i,(f,d)=>{if(f.isText)return;let h=Math.max(n,d),y=Math.min(i,d+f.nodeSize);o.push({node:f,from:h,to:y})});let l=i-n,u=o.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>$o(f.node.attrs,r,{strict:!1}));return s?!!u.length:u.reduce((f,d)=>f+d.to-d.from,0)>=l}var CH=(t,e={})=>({state:r,dispatch:n})=>{let i=pt(t,r.schema);return Ss(r,i,e)?(0,RH.lift)(r,n):!1},IH=bt(),PH=()=>({state:t,dispatch:e})=>(0,IH.liftEmptyBlock)(t,e),DH=nu(),MH=t=>({state:e,dispatch:r})=>{let n=pt(t,e.schema);return(0,DH.liftListItem)(n)(e,r)},LH=bt(),FH=()=>({state:t,dispatch:e})=>(0,LH.newlineInCode)(t,e);function Zo(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function qp(t,e){let r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,i)=>(r.includes(i)||(n[i]=t[i]),n),{})}var BH=(t,e)=>({tr:r,state:n,dispatch:i})=>{let s=null,a=null,o=Zo(typeof t=="string"?t:t.name,n.schema);if(!o)return!1;o==="node"&&(s=pt(t,n.schema)),o==="mark"&&(a=Dr(t,n.schema));let l=!1;return r.selection.ranges.forEach(u=>{n.doc.nodesBetween(u.$from.pos,u.$to.pos,(c,f)=>{s&&s===c.type&&(l=!0,i&&r.setNodeMarkup(f,void 0,qp(c.attrs,e))),a&&c.marks.length&&c.marks.forEach(d=>{a===d.type&&(l=!0,i&&r.addMark(f,f+c.nodeSize,a.create(qp(d.attrs,e))))})})}),l},UH=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),HH=Pe(),zH=()=>({tr:t,dispatch:e})=>{if(e){let r=new HH.AllSelection(t.doc);t.setSelection(r)}return!0},jH=bt(),WH=()=>({state:t,dispatch:e})=>(0,jH.selectNodeBackward)(t,e),qH=bt(),VH=()=>({state:t,dispatch:e})=>(0,qH.selectNodeForward)(t,e),KH=bt(),GH=()=>({state:t,dispatch:e})=>(0,KH.selectParentNode)(t,e),$H=bt(),JH=()=>({state:t,dispatch:e})=>(0,$H.selectTextblockEnd)(t,e),XH=bt(),YH=()=>({state:t,dispatch:e})=>(0,XH.selectTextblockStart)(t,e);function yu(t,e,r={},n={}){return Es(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}var ZH=(t,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:i,tr:s,dispatch:a,commands:o})=>{let{doc:l}=s;if(n.preserveWhitespace!=="full"){let u=yu(t,i.schema,n,{errorOnInvalidContent:e??i.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,u).setMeta("preventUpdate",!r),!0}return a&&s.setMeta("preventUpdate",!r),o.insertContentAt({from:0,to:l.content.size},t,{parseOptions:n,errorOnInvalidContent:e??i.options.enableContentCheck})};function Qp(t,e){let r=Dr(e,t.schema),{from:n,to:i,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,i,l=>{a.push(...l.marks)});let o=a.find(l=>l.type.name===r.name);return o?{...o.attrs}:{}}var QH=pr();function iR(t,e){let r=new QH.Transform(t);return e.forEach(n=>{n.steps.forEach(i=>{r.step(i)})}),r}function sR(t){for(let e=0;e<t.edgeCount;e+=1){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function e9(t,e){let r=[];return t.descendants((n,i)=>{e(n)&&r.push({node:n,pos:i})}),r}function t9(t,e,r){let n=[];return t.nodesBetween(e.from,e.to,(i,s)=>{r(i)&&n.push({node:i,pos:s})}),n}function oR(t,e){for(let r=t.depth;r>0;r-=1){let n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function Qo(t){return e=>oR(e.$from,t)}function Ee(t,e,r){return t.config[e]===void 0&&t.parent?Ee(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?Ee(t.parent,e,r):null}):t.config[e]}function ku(t){return t.map(e=>{let r={name:e.name,options:e.options,storage:e.storage},n=Ee(e,"addExtensions",r);return n?[e,...ku(n())]:e}).flat(10)}var r9=gr(),n9=gr();function ea(t,e){let r=n9.DOMSerializer.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}var i9=gr();function em(t){return typeof t=="function"}function Le(t,e=void 0,...r){return em(t)?e?t.bind(e)(...r):t(...r):t}function aR(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Ti(t){let e=t.filter(i=>i.type==="extension"),r=t.filter(i=>i.type==="node"),n=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function tm(t){let e=[],{nodeExtensions:r,markExtensions:n}=Ti(t),i=[...r,...n],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{let o={name:a.name,options:a.options,storage:a.storage,extensions:i},l=Ee(a,"addGlobalAttributes",o);if(!l)return;l().forEach(c=>{c.types.forEach(f=>{Object.entries(c.attributes).forEach(([d,h])=>{e.push({type:f,name:d,attribute:{...s,...h}})})})})}),i.forEach(a=>{let o={name:a.name,options:a.options,storage:a.storage},l=Ee(a,"addAttributes",o);if(!l)return;let u=l();Object.entries(u).forEach(([c,f])=>{let d={...s,...f};typeof d?.default=="function"&&(d.default=d.default()),d?.isRequired&&d?.default===void 0&&delete d.default,e.push({type:a.name,name:c,attribute:d})})}),e}function lR(...t){return t.filter(e=>!!e).reduce((e,r)=>{let n={...e};return Object.entries(r).forEach(([i,s])=>{if(!n[i]){n[i]=s;return}if(i==="class"){let o=s?String(s).split(" "):[],l=n[i]?n[i].split(" "):[],u=o.filter(c=>!l.includes(c));n[i]=[...l,...u].join(" ")}else if(i==="style"){let o=s?s.split(";").map(c=>c.trim()).filter(Boolean):[],l=n[i]?n[i].split(";").map(c=>c.trim()).filter(Boolean):[],u=new Map;l.forEach(c=>{let[f,d]=c.split(":").map(h=>h.trim());u.set(f,d)}),o.forEach(c=>{let[f,d]=c.split(":").map(h=>h.trim());u.set(f,d)}),n[i]=Array.from(u.entries()).map(([c,f])=>`${c}: ${f}`).join("; ")}else n[i]=s}),n},{})}function Jo(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>lR(r,n),{})}function uR(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Vp(t,e){return"style"in t?t:{...t,getAttrs:r=>{let n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;let i=e.reduce((s,a)=>{let o=a.attribute.parseHTML?a.attribute.parseHTML(r):uR(r.getAttribute(a.name));return o==null?s:{...s,[a.name]:o}},{});return{...n,...i}}}}function HN(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&aR(r)?!1:r!=null))}function zN(t){var e,r;let n={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(n.default=t.attribute.default),((r=t?.attribute)==null?void 0:r.validate)!==void 0&&(n.validate=t.attribute.validate),[t.name,n]}function rm(t,e){var r;let n=tm(t),{nodeExtensions:i,markExtensions:s}=Ti(t),a=(r=i.find(u=>Ee(u,"topNode")))==null?void 0:r.name,o=Object.fromEntries(i.map(u=>{let c=n.filter(m=>m.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((m,_)=>{let b=Ee(_,"extendNodeSchema",f);return{...m,...b?b(u):{}}},{}),h=HN({...d,content:Le(Ee(u,"content",f)),marks:Le(Ee(u,"marks",f)),group:Le(Ee(u,"group",f)),inline:Le(Ee(u,"inline",f)),atom:Le(Ee(u,"atom",f)),selectable:Le(Ee(u,"selectable",f)),draggable:Le(Ee(u,"draggable",f)),code:Le(Ee(u,"code",f)),whitespace:Le(Ee(u,"whitespace",f)),linebreakReplacement:Le(Ee(u,"linebreakReplacement",f)),defining:Le(Ee(u,"defining",f)),isolating:Le(Ee(u,"isolating",f)),attrs:Object.fromEntries(c.map(zN))}),y=Le(Ee(u,"parseHTML",f));y&&(h.parseDOM=y.map(m=>Vp(m,c)));let v=Ee(u,"renderHTML",f);v&&(h.toDOM=m=>v({node:m,HTMLAttributes:Jo(m,c)}));let x=Ee(u,"renderText",f);return x&&(h.toText=x),[u.name,h]})),l=Object.fromEntries(s.map(u=>{let c=n.filter(x=>x.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((x,m)=>{let _=Ee(m,"extendMarkSchema",f);return{...x,..._?_(u):{}}},{}),h=HN({...d,inclusive:Le(Ee(u,"inclusive",f)),excludes:Le(Ee(u,"excludes",f)),group:Le(Ee(u,"group",f)),spanning:Le(Ee(u,"spanning",f)),code:Le(Ee(u,"code",f)),attrs:Object.fromEntries(c.map(zN))}),y=Le(Ee(u,"parseHTML",f));y&&(h.parseDOM=y.map(x=>Vp(x,c)));let v=Ee(u,"renderHTML",f);return v&&(h.toDOM=x=>v({mark:x,HTMLAttributes:Jo(x,c)})),[u.name,h]}));return new i9.Schema({topNode:a,nodes:o,marks:l})}function cR(t){let e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}function Tu(t){return t.sort((r,n)=>{let i=Ee(r,"priority")||100,s=Ee(n,"priority")||100;return i>s?-1:i<s?1:0})}function Au(t){let e=Tu(ku(t)),r=cR(e.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function Ou(t,e){let r=Au(t);return rm(r,e)}function s9(t,e){let r=Ou(e),n=r9.Node.fromJSON(r,t);return ea(n.content,r)}var o9=gr();function a9(t,e){let r=Ou(e),n=xs(t);return o9.DOMParser.fromSchema(r).parse(n).toJSON()}var l9=gr();function nm(t,e,r){let{from:n,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=r||{},o="";return t.nodesBetween(n,i,(l,u,c,f)=>{var d;l.isBlock&&u>n&&(o+=s);let h=a?.[l.type.name];if(h)return c&&(o+=h({node:l,pos:u,parent:c,index:f,range:e})),!1;l.isText&&(o+=(d=l?.text)==null?void 0:d.slice(Math.max(n,u)-u,i-u))}),o}function im(t,e){let r={from:0,to:t.content.size};return nm(t,r,e)}function Nu(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function u9(t,e,r){let{blockSeparator:n=`

`,textSerializers:i={}}=r||{},s=Ou(e),a=l9.Node.fromJSON(s,t);return im(a,{blockSeparator:n,textSerializers:{...Nu(s),...i}})}function fR(t,e){let r=pt(e,t.schema),{from:n,to:i}=t.selection,s=[];t.doc.nodesBetween(n,i,o=>{s.push(o)});let a=s.reverse().find(o=>o.type.name===r.name);return a?{...a.attrs}:{}}function hR(t,e){let r=Zo(typeof e=="string"?e:e.name,t.schema);return r==="node"?fR(t,e):r==="mark"?Qp(t,e):{}}function dR(t,e=JSON.stringify){let r={};return t.filter(n=>{let i=e(n);return Object.prototype.hasOwnProperty.call(r,i)?!1:r[i]=!0})}function c9(t){let e=dR(t);return e.length===1?e:e.filter((r,n)=>!e.filter((s,a)=>a!==n).some(s=>r.oldRange.from>=s.oldRange.from&&r.oldRange.to<=s.oldRange.to&&r.newRange.from>=s.newRange.from&&r.newRange.to<=s.newRange.to))}function pR(t){let{mapping:e,steps:r}=t,n=[];return e.maps.forEach((i,s)=>{let a=[];if(i.ranges.length)i.forEach((o,l)=>{a.push({from:o,to:l})});else{let{from:o,to:l}=r[s];if(o===void 0||l===void 0)return;a.push({from:o,to:l})}a.forEach(({from:o,to:l})=>{let u=e.slice(s).map(o,-1),c=e.slice(s).map(l),f=e.invert().map(u,-1),d=e.invert().map(c);n.push({oldRange:{from:f,to:d},newRange:{from:u,to:c}})})}),c9(n)}function mR(t,e=0){let n=t.type===t.type.schema.topNodeType?0:1,i=e,s=i+t.nodeSize,a=t.marks.map(u=>{let c={type:u.type.name};return Object.keys(u.attrs).length&&(c.attrs={...u.attrs}),c}),o={...t.attrs},l={type:t.type.name,from:i,to:s};return Object.keys(o).length&&(l.attrs=o),a.length&&(l.marks=a),t.content.childCount&&(l.content=[],t.forEach((u,c)=>{var f;(f=l.content)==null||f.push(mR(u,e+c+n))})),t.text&&(l.text=t.text),l}function sm(t,e,r){let n=[];return t===e?r.resolve(t).marks().forEach(i=>{let s=r.resolve(t),a=xu(s,i.type);a&&n.push({mark:i,...a})}):r.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||n.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),n}var f9=(t,e,r,n=20)=>{let i=t.doc.resolve(r),s=n,a=null;for(;s>0&&a===null;){let o=i.node(s);o?.type.name===e?a=o:s-=1}return[a,s]};function vu(t,e){return e.nodes[t]||e.marks[t]||null}function Go(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{let i=t.find(s=>s.type===e&&s.name===n);return i?i.attribute.keepOnSplit:!1}))}var gR=(t,e=500)=>{let r="",n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(i,s,a,o)=>{var l,u;let c=((u=(l=i.type.spec).toText)==null?void 0:u.call(l,{node:i,pos:s,parent:a,index:o}))||i.textContent||"%leaf%";r+=i.isAtom&&!i.isText?c:c.slice(0,Math.max(0,n-s))}),r};function wu(t,e,r={}){let{empty:n,ranges:i}=t.selection,s=e?Dr(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>$o(f.attrs,r,{strict:!1}));let a=0,o=[];if(i.forEach(({$from:f,$to:d})=>{let h=f.pos,y=d.pos;t.doc.nodesBetween(h,y,(v,x)=>{if(!v.isText&&!v.marks.length)return;let m=Math.max(h,x),_=Math.min(y,x+v.nodeSize),b=_-m;a+=b,o.push(...v.marks.map(w=>({mark:w,from:m,to:_})))})}),a===0)return!1;let l=o.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>$o(f.mark.attrs,r,{strict:!1})).reduce((f,d)=>f+d.to-d.from,0),u=o.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,d)=>f+d.to-d.from,0);return(l>0?l+u:l)>=a}function vR(t,e,r={}){if(!e)return Ss(t,null,r)||wu(t,null,r);let n=Zo(e,t.schema);return n==="node"?Ss(t,e,r):n==="mark"?wu(t,e,r):!1}var h9=(t,e)=>{let{$from:r,$to:n,$anchor:i}=t.selection;if(e){let s=Qo(o=>o.type.name===e)(t.selection);if(!s)return!1;let a=t.doc.resolve(s.pos+1);return i.pos+1===a.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},d9=t=>{let{$from:e,$to:r}=t.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function Kp(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}function Gp(t,e){let{nodeExtensions:r}=Ti(e),n=r.find(a=>a.name===t);if(!n)return!1;let i={name:n.name,options:n.options,storage:n.storage},s=Le(Ee(n,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Ru(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!=null?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(Ru(s,{ignoreWhitespace:r,checkChildren:e})||(i=!1))}),i}return!1}var p9=Pe();function m9(t){return t instanceof p9.NodeSelection}function g9(t,e,r){let i=t.state.doc.content.size,s=Pr(e,0,i),a=Pr(r,0,i),o=t.coordsAtPos(s),l=t.coordsAtPos(a,-1),u=Math.min(o.top,l.top),c=Math.max(o.bottom,l.bottom),f=Math.min(o.left,l.left),d=Math.max(o.right,l.right),h=d-f,y=c-u,m={top:u,bottom:c,left:f,right:d,width:h,height:y,x:f,y:u};return{...m,toJSON:()=>m}}function yR({json:t,validMarks:e,validNodes:r,options:n,rewrittenContent:i=[]}){return t.marks&&Array.isArray(t.marks)&&(t.marks=t.marks.filter(s=>{let a=typeof s=="string"?s:s.type;return e.has(a)?!0:(i.push({original:JSON.parse(JSON.stringify(s)),unsupported:a}),!1)})),t.content&&Array.isArray(t.content)&&(t.content=t.content.map(s=>yR({json:s,validMarks:e,validNodes:r,options:n,rewrittenContent:i}).json).filter(s=>s!=null)),t.type&&!r.has(t.type)?(i.push({original:JSON.parse(JSON.stringify(t)),unsupported:t.type}),t.content&&Array.isArray(t.content)&&n?.fallbackToParagraph!==!1?(t.type="paragraph",{json:t,rewrittenContent:i}):{json:null,rewrittenContent:i}):{json:t,rewrittenContent:i}}function v9(t,e,r){return yR({json:t,validNodes:new Set(Object.keys(e.nodes)),validMarks:new Set(Object.keys(e.marks)),options:r})}function y9(t,e,r){var n;let{selection:i}=e,s=null;if(Xp(i)&&(s=i.$cursor),s){let o=(n=t.storedMarks)!=null?n:s.marks();return s.parent.type.allowsMarkType(r)&&(!!r.isInSet(o)||!o.some(u=>u.type.excludes(r)))}let{ranges:a}=i;return a.some(({$from:o,$to:l})=>{let u=o.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(o.pos,l.pos,(c,f,d)=>{if(u)return!1;if(c.isInline){let h=!d||d.type.allowsMarkType(r),y=!!r.isInSet(c.marks)||!c.marks.some(v=>v.type.excludes(r));u=h&&y}return!u}),u})}var w9=(t,e={})=>({tr:r,state:n,dispatch:i})=>{let{selection:s}=r,{empty:a,ranges:o}=s,l=Dr(t,n.schema);if(i)if(a){let u=Qp(n,l);r.addStoredMark(l.create({...u,...e}))}else o.forEach(u=>{let c=u.$from.pos,f=u.$to.pos;n.doc.nodesBetween(c,f,(d,h)=>{let y=Math.max(h,c),v=Math.min(h+d.nodeSize,f);d.marks.find(m=>m.type===l)?d.marks.forEach(m=>{l===m.type&&r.addMark(y,v,l.create({...m.attrs,...e}))}):r.addMark(y,v,l.create(e))})});return y9(n,r,l)},b9=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),jN=bt(),_9=(t,e={})=>({state:r,dispatch:n,chain:i})=>{let s=pt(t,r.schema),a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:o})=>(0,jN.setBlockType)(s,{...a,...e})(r)?!0:o.clearNodes()).command(({state:o})=>(0,jN.setBlockType)(s,{...a,...e})(o,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},x9=Pe(),E9=t=>({tr:e,dispatch:r})=>{if(r){let{doc:n}=e,i=Pr(t,0,n.content.size),s=x9.NodeSelection.create(n,i);e.setSelection(s)}return!0},S9=(t,e)=>({tr:r,state:n,dispatch:i})=>{let{selection:s}=n,a,o;return typeof e=="number"?(a=e,o=e):e&&"from"in e&&"to"in e?(a=e.from,o=e.to):(a=s.from,o=s.to),i&&r.doc.nodesBetween(a,o,(l,u)=>{l.isText||r.setNodeMarkup(u,void 0,{...l.attrs,dir:t})}),!0},Hp=Pe(),k9=t=>({tr:e,dispatch:r})=>{if(r){let{doc:n}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,a=Hp.TextSelection.atStart(n).from,o=Hp.TextSelection.atEnd(n).to,l=Pr(i,a,o),u=Pr(s,a,o),c=Hp.TextSelection.create(n,l,u);e.setSelection(c)}return!0},T9=nu(),A9=t=>({state:e,dispatch:r})=>{let n=pt(t,e.schema);return(0,T9.sinkListItem)(n)(e,r)},WN=Pe(),zp=pr();function qN(t,e){let r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){let n=r.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(n)}}var O9=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:i})=>{let{selection:s,doc:a}=e,{$from:o,$to:l}=s,u=i.extensionManager.attributes,c=Go(u,o.node().type.name,o.node().attrs);if(s instanceof WN.NodeSelection&&s.node.isBlock)return!o.parentOffset||!(0,zp.canSplit)(a,o.pos)?!1:(n&&(t&&qN(r,i.extensionManager.splittableMarks),e.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;let f=l.parentOffset===l.parent.content.size,d=o.depth===0?void 0:sR(o.node(-1).contentMatchAt(o.indexAfter(-1))),h=f&&d?[{type:d,attrs:c}]:void 0,y=(0,zp.canSplit)(e.doc,e.mapping.map(o.pos),1,h);if(!h&&!y&&(0,zp.canSplit)(e.doc,e.mapping.map(o.pos),1,d?[{type:d}]:void 0)&&(y=!0,h=d?[{type:d,attrs:c}]:void 0),n){if(y&&(s instanceof WN.TextSelection&&e.deleteSelection(),e.split(e.mapping.map(o.pos),1,h),d&&!f&&!o.parentOffset&&o.parent.type!==d)){let v=e.mapping.map(o.before()),x=e.doc.resolve(v);o.node(-1).canReplaceWith(x.index(),x.index()+1,d)&&e.setNodeMarkup(e.mapping.map(o.before()),d)}t&&qN(r,i.extensionManager.splittableMarks),e.scrollIntoView()}return y},pu=gr(),N9=Pe(),R9=pr(),C9=(t,e={})=>({tr:r,state:n,dispatch:i,editor:s})=>{var a;let o=pt(t,n.schema),{$from:l,$to:u}=n.selection,c=n.selection.node;if(c&&c.isBlock||l.depth<2||!l.sameParent(u))return!1;let f=l.node(-1);if(f.type!==o)return!1;let d=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==o||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let m=pu.Fragment.empty,_=l.index(-1)?1:l.index(-2)?2:3;for(let U=l.depth-_;U>=l.depth-3;U-=1)m=pu.Fragment.from(l.node(U).copy(m));let b=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,w={...Go(d,l.node().type.name,l.node().attrs),...e},T=((a=o.contentMatch.defaultType)==null?void 0:a.createAndFill(w))||void 0;m=m.append(pu.Fragment.from(o.createAndFill(null,T)||void 0));let P=l.before(l.depth-(_-1));r.replace(P,l.after(-b),new pu.Slice(m,4-_,0));let M=-1;r.doc.nodesBetween(P,r.doc.content.size,(U,R)=>{if(M>-1)return!1;U.isTextblock&&U.content.size===0&&(M=R+1)}),M>-1&&r.setSelection(N9.TextSelection.near(r.doc.resolve(M))),r.scrollIntoView()}return!0}let h=u.pos===l.end()?f.contentMatchAt(0).defaultType:null,y={...Go(d,f.type.name,f.attrs),...e},v={...Go(d,l.node().type.name,l.node().attrs),...e};r.delete(l.pos,u.pos);let x=h?[{type:o,attrs:y},{type:h,attrs:v}]:[{type:o,attrs:y}];if(!(0,R9.canSplit)(r.doc,l.pos,2))return!1;if(i){let{selection:m,storedMarks:_}=n,{splittableMarks:b}=s.extensionManager,w=_||m.$to.parentOffset&&m.$from.marks();if(r.split(l.pos,2,x).scrollIntoView(),!w||!i)return!0;let T=w.filter(P=>b.includes(P.type.name));r.ensureMarks(T)}return!0},wR=pr(),jp=(t,e)=>{let r=Qo(a=>a.type===e)(t.selection);if(!r)return!0;let n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;let i=t.doc.nodeAt(n);return r.node.type===i?.type&&(0,wR.canJoin)(t.doc,r.pos)&&t.join(r.pos),!0},Wp=(t,e)=>{let r=Qo(a=>a.type===e)(t.selection);if(!r)return!0;let n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;let i=t.doc.nodeAt(n);return r.node.type===i?.type&&(0,wR.canJoin)(t.doc,n)&&t.join(n),!0},I9=(t,e,r,n={})=>({editor:i,tr:s,state:a,dispatch:o,chain:l,commands:u,can:c})=>{let{extensions:f,splittableMarks:d}=i.extensionManager,h=pt(t,a.schema),y=pt(e,a.schema),{selection:v,storedMarks:x}=a,{$from:m,$to:_}=v,b=m.blockRange(_),w=x||v.$to.parentOffset&&v.$from.marks();if(!b)return!1;let T=Qo(P=>Gp(P.type.name,f))(v);if(b.depth>=1&&T&&b.depth-T.depth<=1){if(T.node.type===h)return u.liftListItem(y);if(Gp(T.node.type.name,f)&&h.validContent(T.node.content)&&o)return l().command(()=>(s.setNodeMarkup(T.pos,h),!0)).command(()=>jp(s,h)).command(()=>Wp(s,h)).run()}return!r||!w||!o?l().command(()=>c().wrapInList(h,n)?!0:u.clearNodes()).wrapInList(h,n).command(()=>jp(s,h)).command(()=>Wp(s,h)).run():l().command(()=>{let P=c().wrapInList(h,n),M=w.filter(U=>d.includes(U.type.name));return s.ensureMarks(M),P?!0:u.clearNodes()}).wrapInList(h,n).command(()=>jp(s,h)).command(()=>Wp(s,h)).run()},P9=(t,e={},r={})=>({state:n,commands:i})=>{let{extendEmptyMarkRange:s=!1}=r,a=Dr(t,n.schema);return wu(n,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},D9=(t,e,r={})=>({state:n,commands:i})=>{let s=pt(t,n.schema),a=pt(e,n.schema),o=Ss(n,s,r),l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),o?i.setNode(a,l):i.setNode(s,{...l,...r})},M9=(t,e={})=>({state:r,commands:n})=>{let i=pt(t,r.schema);return Ss(r,i,e)?n.lift(i):n.wrapIn(i,e)},L9=()=>({state:t,dispatch:e})=>{let r=t.plugins;for(let n=0;n<r.length;n+=1){let i=r[n],s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){let a=t.tr,o=s.transform;for(let l=o.steps.length-1;l>=0;l-=1)a.step(o.steps[l].invert(o.docs[l]));if(s.text){let l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},F9=()=>({tr:t,dispatch:e})=>{let{selection:r}=t,{empty:n,ranges:i}=r;return n||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},B9=(t,e={})=>({tr:r,state:n,dispatch:i})=>{var s;let{extendEmptyMarkRange:a=!1}=e,{selection:o}=r,l=Dr(t,n.schema),{$from:u,empty:c,ranges:f}=o;if(!i)return!0;if(c&&a){let{from:d,to:h}=o,y=(s=u.marks().find(x=>x.type===l))==null?void 0:s.attrs,v=xu(u,l,y);v&&(d=v.from,h=v.to),r.removeMark(d,h,l)}else f.forEach(d=>{r.removeMark(d.$from.pos,d.$to.pos,l)});return r.removeStoredMark(l),!0},U9=t=>({tr:e,state:r,dispatch:n})=>{let{selection:i}=r,s,a;return typeof t=="number"?(s=t,a=t):t&&"from"in t&&"to"in t?(s=t.from,a=t.to):(s=i.from,a=i.to),n&&e.doc.nodesBetween(s,a,(o,l)=>{if(o.isText)return;let u={...o.attrs};delete u.dir,e.setNodeMarkup(l,void 0,u)}),!0},H9=(t,e={})=>({tr:r,state:n,dispatch:i})=>{let s=null,a=null,o=Zo(typeof t=="string"?t:t.name,n.schema);if(!o)return!1;o==="node"&&(s=pt(t,n.schema)),o==="mark"&&(a=Dr(t,n.schema));let l=!1;return r.selection.ranges.forEach(u=>{let c=u.$from.pos,f=u.$to.pos,d,h,y,v;r.selection.empty?n.doc.nodesBetween(c,f,(x,m)=>{s&&s===x.type&&(l=!0,y=Math.max(m,c),v=Math.min(m+x.nodeSize,f),d=m,h=x)}):n.doc.nodesBetween(c,f,(x,m)=>{m<c&&s&&s===x.type&&(l=!0,y=Math.max(m,c),v=Math.min(m+x.nodeSize,f),d=m,h=x),m>=c&&m<=f&&(s&&s===x.type&&(l=!0,i&&r.setNodeMarkup(m,void 0,{...x.attrs,...e})),a&&x.marks.length&&x.marks.forEach(_=>{if(a===_.type&&(l=!0,i)){let b=Math.max(m,c),w=Math.min(m+x.nodeSize,f);r.addMark(b,w,a.create({..._.attrs,...e}))}}))}),h&&(d!==void 0&&i&&r.setNodeMarkup(d,void 0,{...h.attrs,...e}),a&&h.marks.length&&h.marks.forEach(x=>{a===x.type&&i&&r.addMark(y,v,a.create({...x.attrs,...e}))}))}),l},z9=bt(),j9=(t,e={})=>({state:r,dispatch:n})=>{let i=pt(t,r.schema);return(0,z9.wrapIn)(i,e)(r,n)},W9=nu(),q9=(t,e={})=>({state:r,dispatch:n})=>{let i=pt(t,r.schema);return(0,W9.wrapInList)(i,e)(r,n)},V9=Pe(),K9=jo(),G9=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){let r=this.callbacks[t];return r&&r.forEach(n=>n.apply(this,e)),this}off(t,e){let r=this.callbacks[t];return r&&(e?this.callbacks[t]=r.filter(n=>n!==e):delete this.callbacks[t]),this}once(t,e){let r=(...n)=>{this.off(t,r),e.apply(this,n)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}},$9=FN(),J9=gr(),X9=Pe(),Ts=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},Y9=(t,e)=>{if(_u(e))return e.exec(t);let r=e(t);if(!r)return null;let n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function mu(t){var e;let{editor:r,from:n,to:i,text:s,rules:a,plugin:o}=t,{view:l}=r;if(l.composing)return!1;let u=l.state.doc.resolve(n);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(d=>d.type.spec.code))return!1;let c=!1,f=gR(u)+s;return a.forEach(d=>{if(c)return;let h=Y9(f,d.find);if(!h)return;let y=l.state.tr,v=Xo({state:l.state,transaction:y}),x={from:n-(h[0].length-s.length),to:i},{commands:m,chain:_,can:b}=new Yo({editor:r,state:v});d.handler({state:v,range:x,match:h,commands:m,chain:_,can:b})===null||!y.steps.length||(d.undoable&&y.setMeta(o,{transform:y,from:n,to:i,text:s}),l.dispatch(y),c=!0)}),c}function bR(t){let{editor:e,rules:r}=t,n=new X9.Plugin({state:{init(){return null},apply(i,s,a){let o=i.getMeta(n);if(o)return o;let l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:c}=l;typeof c=="string"?c=c:c=ea(J9.Fragment.from(c),a.schema);let{from:f}=l,d=f+c.length;mu({editor:e,from:f,to:d,text:c,rules:r,plugin:n})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,o){return mu({editor:e,from:s,to:a,text:o,rules:r,plugin:n})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{let{$cursor:s}=i.state.selection;s&&mu({editor:e,from:s.pos,to:s.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;let{$cursor:a}=i.state.selection;return a?mu({editor:e,from:a.pos,to:a.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function Z9(t){return Object.prototype.toString.call(t).slice(8,-1)}function Ko(t){return Z9(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function om(t,e){let r={...t};return Ko(t)&&Ko(e)&&Object.keys(e).forEach(n=>{Ko(e[n])&&Ko(t[n])?r[n]=om(t[n],e[n]):r[n]=e[n]}),r}var Cu=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Le(Ee(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Le(Ee(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){let e=this.extend({...this.config,addOptions:()=>om(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){let e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},_R=class xR extends Cu{constructor(){super(...arguments),this.type="mark"}static create(e={}){let r=typeof e=="function"?e():e;return new xR(r)}static handleExit({editor:e,mark:r}){let{tr:n}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){let a=i.marks();if(!!!a.find(u=>u?.type.name===r.name))return!1;let l=a.find(u=>u?.type.name===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",i.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){let r=typeof e=="function"?e():e;return super.extend(r)}},Q9=gr(),ez=Pe();function ER(t){return typeof t=="number"}var Iu=class{constructor(t){this.find=t.find,this.handler=t.handler}},tz=(t,e,r)=>{if(_u(e))return[...t.matchAll(e)];let n=e(t,r);return n?n.map(i=>{let s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function rz(t){let{editor:e,state:r,from:n,to:i,rule:s,pasteEvent:a,dropEvent:o}=t,{commands:l,chain:u,can:c}=new Yo({editor:e,state:r}),f=[];return r.doc.nodesBetween(n,i,(h,y)=>{var v,x,m,_,b;if((x=(v=h.type)==null?void 0:v.spec)!=null&&x.code||!(h.isText||h.isTextblock||h.isInline))return;let w=(b=(_=(m=h.content)==null?void 0:m.size)!=null?_:h.nodeSize)!=null?b:0,T=Math.max(n,y),P=Math.min(i,y+w);if(T>=P)return;let M=h.isText?h.text||"":h.textBetween(T-y,P-y,void 0,"\uFFFC");tz(M,s.find,a).forEach(R=>{if(R.index===void 0)return;let J=T+R.index+1,oe=J+R[0].length,C={from:r.tr.mapping.map(J),to:r.tr.mapping.map(oe)},H=s.handler({state:r,range:C,match:R,commands:l,chain:u,can:c,pasteEvent:a,dropEvent:o});f.push(H)})}),f.every(h=>h!==null)}var gu=null,nz=t=>{var e;let r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",t),r};function SR(t){let{editor:e,rules:r}=t,n=null,i=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}let l=({state:c,from:f,to:d,rule:h,pasteEvt:y})=>{let v=c.tr,x=Xo({state:c,transaction:v});if(!(!rz({editor:e,state:x,from:Math.max(f-1,0),to:d.b-1,rule:h,pasteEvent:y,dropEvent:o})||!v.steps.length)){try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return r.map(c=>new ez.Plugin({view(f){let d=y=>{var v;n=(v=f.dom.parentElement)!=null&&v.contains(y.target)?f.dom.parentElement:null,n&&(gu=e)},h=()=>{gu&&(gu=null)};return window.addEventListener("dragstart",d),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",d),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(f,d)=>{if(s=n===f.dom.parentElement,o=d,!s){let h=gu;h?.isEditable&&setTimeout(()=>{let y=h.state.selection;y&&h.commands.deleteRange({from:y.from,to:y.to})},10)}return!1},paste:(f,d)=>{var h;let y=(h=d.clipboardData)==null?void 0:h.getData("text/html");return a=d,i=!!y?.includes("data-pm-slice"),!1}}},appendTransaction:(f,d,h)=>{let y=f[0],v=y.getMeta("uiEvent")==="paste"&&!i,x=y.getMeta("uiEvent")==="drop"&&!s,m=y.getMeta("applyPasteRules"),_=!!m;if(!v&&!x&&!_)return;if(_){let{text:T}=m;typeof T=="string"?T=T:T=ea(Q9.Fragment.from(T),h.schema);let{from:P}=m,M=P+T.length,U=nz(T);return l({rule:c,state:h,from:P,to:{b:M},pasteEvt:U})}let b=d.doc.content.findDiffStart(h.doc.content),w=d.doc.content.findDiffEnd(h.doc.content);if(!(!ER(b)||!w||b===w.b))return l({rule:c,state:h,from:b,to:w,pasteEvt:a})}}))}var Pu=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=Au(t),this.schema=rm(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{let r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:vu(e.name,this.schema)},n=Ee(e,"addCommands",r);return n?{...t,...n()}:t},{})}get plugins(){let{editor:t}=this;return Tu([...this.extensions].reverse()).flatMap(n=>{let i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:vu(n.name,this.schema)},s=[],a=Ee(n,"addKeyboardShortcuts",i),o={};if(n.type==="mark"&&Ee(n,"exitable",i)&&(o.ArrowRight=()=>_R.handleExit({editor:t,mark:n})),a){let d=Object.fromEntries(Object.entries(a()).map(([h,y])=>[h,()=>y({editor:t})]));o={...o,...d}}let l=(0,$9.keymap)(o);s.push(l);let u=Ee(n,"addInputRules",i);if(Kp(n,t.options.enableInputRules)&&u){let d=u();if(d&&d.length){let h=bR({editor:t,rules:d}),y=Array.isArray(h)?h:[h];s.push(...y)}}let c=Ee(n,"addPasteRules",i);if(Kp(n,t.options.enablePasteRules)&&c){let d=c();if(d&&d.length){let h=SR({editor:t,rules:d});s.push(...h)}}let f=Ee(n,"addProseMirrorPlugins",i);if(f){let d=f();s.push(...d)}return s})}get attributes(){return tm(this.extensions)}get nodeViews(){let{editor:t}=this,{nodeExtensions:e}=Ti(this.extensions);return Object.fromEntries(e.filter(r=>!!Ee(r,"addNodeView")).map(r=>{let n=this.attributes.filter(l=>l.type===r.name),i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:pt(r.name,this.schema)},s=Ee(r,"addNodeView",i);if(!s)return[];let a=s();if(!a)return[];let o=(l,u,c,f,d)=>{let h=Jo(l,n);return a({node:l,view:u,getPos:c,decorations:f,innerDecorations:d,editor:t,extension:r,HTMLAttributes:h})};return[r.name,o]}))}get markViews(){let{editor:t}=this,{markExtensions:e}=Ti(this.extensions);return Object.fromEntries(e.filter(r=>!!Ee(r,"addMarkView")).map(r=>{let n=this.attributes.filter(o=>o.type===r.name),i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Dr(r.name,this.schema)},s=Ee(r,"addMarkView",i);if(!s)return[];let a=(o,l,u)=>{let c=Jo(o,n);return s()({mark:o,view:l,inline:u,editor:t,extension:r,HTMLAttributes:c,updateAttributes:f=>{am(o,t,f)}})};return[r.name,a]}))}setupExtensions(){let t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var r;let n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:vu(e.name,this.schema)};e.type==="mark"&&((r=Le(Ee(e,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(e.name);let i=Ee(e,"onBeforeCreate",n),s=Ee(e,"onCreate",n),a=Ee(e,"onUpdate",n),o=Ee(e,"onSelectionUpdate",n),l=Ee(e,"onTransaction",n),u=Ee(e,"onFocus",n),c=Ee(e,"onBlur",n),f=Ee(e,"onDestroy",n);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),o&&this.editor.on("selectionUpdate",o),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),f&&this.editor.on("destroy",f)})}};Pu.resolve=Au;Pu.sort=Tu;Pu.flatten=ku;var kR={};bu(kR,{ClipboardTextSerializer:()=>AR,Commands:()=>OR,Delete:()=>NR,Drop:()=>RR,Editable:()=>CR,FocusEvents:()=>DR,Keymap:()=>MR,Paste:()=>LR,Tabindex:()=>FR,TextDirection:()=>BR,focusEventsPluginKey:()=>PR});var VN=Pe(),wr=class TR extends Cu{constructor(){super(...arguments),this.type="extension"}static create(e={}){let r=typeof e=="function"?e():e;return new TR(r)}configure(e){return super.configure(e)}extend(e){let r=typeof e=="function"?e():e;return super.extend(r)}},AR=wr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new VN.Plugin({key:new VN.PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{let{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(c=>c.$from.pos)),o=Math.max(...s.map(c=>c.$to.pos)),l=Nu(r);return nm(n,{from:a,to:o},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),OR=wr.create({name:"commands",addCommands(){return{...Jp}}}),iz=pr(),NR=wr.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var r,n,i;let s=()=>{var a,o,l,u;if((u=(l=(o=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:o.filterTransaction)==null?void 0:l.call(o,t))!=null?u:t.getMeta("y-sync$"))return;let c=iR(t.before,[t,...e]);pR(c).forEach(h=>{c.mapping.mapResult(h.oldRange.from).deletedAfter&&c.mapping.mapResult(h.oldRange.to).deletedBefore&&c.before.nodesBetween(h.oldRange.from,h.oldRange.to,(y,v)=>{let x=v+y.nodeSize-2,m=h.oldRange.from<=v&&x<=h.oldRange.to;this.editor.emit("delete",{type:"node",node:y,from:v,to:x,newFrom:c.mapping.map(v),newTo:c.mapping.map(x),deletedRange:h.oldRange,newRange:h.newRange,partial:!m,editor:this.editor,transaction:t,combinedTransform:c})})});let d=c.mapping;c.steps.forEach((h,y)=>{var v,x;if(h instanceof iz.RemoveMarkStep){let m=d.slice(y).map(h.from,-1),_=d.slice(y).map(h.to),b=d.invert().map(m,-1),w=d.invert().map(_),T=(v=c.doc.nodeAt(m-1))==null?void 0:v.marks.some(M=>M.eq(h.mark)),P=(x=c.doc.nodeAt(_))==null?void 0:x.marks.some(M=>M.eq(h.mark));this.editor.emit("delete",{type:"mark",mark:h.mark,from:h.from,to:h.to,deletedRange:{from:b,to:w},newRange:{from:m,to:_},partial:!!(P||T),editor:this.editor,transaction:t,combinedTransform:c})}})};(i=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||i?setTimeout(s,0):s()}}),KN=Pe(),RR=wr.create({name:"drop",addProseMirrorPlugins(){return[new KN.Plugin({key:new KN.PluginKey("tiptapDrop"),props:{handleDrop:(t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),GN=Pe(),CR=wr.create({name:"editable",addProseMirrorPlugins(){return[new GN.Plugin({key:new GN.PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),IR=Pe(),PR=new IR.PluginKey("focusEvents"),DR=wr.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:t}=this;return[new IR.Plugin({key:PR,props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;let n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;let n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),Vo=Pe(),MR=wr.create({name:"keymap",addKeyboardShortcuts(){let t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:o})=>{let{selection:l,doc:u}=o,{empty:c,$anchor:f}=l,{pos:d,parent:h}=f,y=f.parent.isTextblock&&d>0?o.doc.resolve(d-1):f,v=y.parent.type.spec.isolating,x=f.pos-f.parentOffset,m=v&&y.parent.childCount===1?x===f.pos:Vo.Selection.atStart(u).from===d;return!c||!h.type.isTextblock||h.textContent.length||!m||m&&f.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},s={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ks()||Zp()?s:i},addProseMirrorPlugins(){return[new Vo.Plugin({key:new Vo.PluginKey("clearDocument"),appendTransaction:(t,e,r)=>{if(t.some(v=>v.getMeta("composition")))return;let n=t.some(v=>v.docChanged)&&!e.doc.eq(r.doc),i=t.some(v=>v.getMeta("preventClearDocument"));if(!n||i)return;let{empty:s,from:a,to:o}=e.selection,l=Vo.Selection.atStart(e.doc).from,u=Vo.Selection.atEnd(e.doc).to;if(s||!(a===l&&o===u)||!Ru(r.doc))return;let d=r.tr,h=Xo({state:r,transaction:d}),{commands:y}=new Yo({editor:this.editor,state:h});if(y.clearNodes(),!!d.steps.length)return d}})]}}),$N=Pe(),LR=wr.create({name:"paste",addProseMirrorPlugins(){return[new $N.Plugin({key:new $N.PluginKey("tiptapPaste"),props:{handlePaste:(t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),JN=Pe(),FR=wr.create({name:"tabindex",addProseMirrorPlugins(){return[new JN.Plugin({key:new JN.PluginKey("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),XN=Pe(),BR=wr.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];let{nodeExtensions:t}=Ti(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{let r=e.getAttribute("dir");return r&&(r==="ltr"||r==="rtl"||r==="auto")?r:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new XN.Plugin({key:new XN.PluginKey("textDirection"),props:{attributes:()=>{let t=this.options.direction;return t?{dir:t}:{}}}})]}}),UR=class _s{constructor(e,r,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can\u2019t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;let e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new _s(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new _s(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new _s(e,this.editor)}get children(){let e=[];return this.node.content.forEach((r,n)=>{let i=r.isBlock&&!r.isTextblock,s=r.isAtom&&!r.isText,a=this.pos+n+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;let o=this.resolvedPos.doc.resolve(a);if(!i&&o.depth<=this.depth)return;let l=new _s(o,this.editor,i,i?r:null);i&&(l.actualDepth=this.depth+1),e.push(new _s(o,this.editor,i,i?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){let e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===e)if(Object.keys(r).length>0){let s=i.node.attrs,a=Object.keys(r);for(let o=0;o<a.length;o+=1){let l=a[o];if(s[l]!==r[l])break}}else n=i;i=i.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let i=[];if(!this.children||this.children.length===0)return i;let s=Object.keys(r);return this.children.forEach(a=>{n&&i.length>0||(a.node.type.name===e&&s.every(l=>r[l]===a.node.attrs[l])&&i.push(a),!(n&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,r,n))))}),i}setAttribute(e){let{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},sz=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function HR(t,e,r){let n=document.querySelector(`style[data-tiptap-style${r?`-${r}`:""}]`);if(n!==null)return n;let i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute(`data-tiptap-style${r?`-${r}`:""}`,""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var oz=class extends G9{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:i,moved:s})=>this.options.onDrop(n,i,s)),this.on("paste",({event:n,slice:i})=>this.options.onPaste(n,i)),this.on("delete",this.options.onDelete);let e=this.createDoc(),r=Yp(e,this.options.autofocus);this.editorState=V9.EditorState.create({doc:e,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){let t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=HR(sz,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){let r=em(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(t){if(this.isDestroyed)return;let e=this.state.plugins,r=e;if([].concat(t).forEach(i=>{let s=typeof i=="string"?`${i}$`:i.key;r=r.filter(a=>!a.key.startsWith(s))}),e.length===r.length)return;let n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var t,e;let n=[...this.options.enableCoreExtensions?[CR,AR.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),OR,DR,MR,FR,RR,LR,NR,BR.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new Pu(n,this)}createCommandManager(){this.commandManager=new Yo({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=yu(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),t=yu(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new K9.EditorView(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});let r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();let n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;let e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var c;return(c=this.capturedTransaction)==null?void 0:c.step(u)});return}let{state:e,transactions:r}=this.state.applyTransaction(t),n=!this.state.selection.eq(e.selection),i=r.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});let a=r.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),o=a?.getMeta("focus"),l=a?.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:a}),l&&this.emit("blur",{editor:this,event:l.event,transaction:a}),!(t.getMeta("preventUpdate")||!r.some(u=>u.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:r.slice(1)})}getAttributes(t){return hR(this.state,t)}isActive(t,e){let r=typeof t=="string"?t:null,n=typeof t=="string"?e:t;return vR(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ea(this.state.doc.content,this.schema)}getText(t){let{blockSeparator:e=`

`,textSerializers:r={}}=t||{};return im(this.state.doc,{blockSeparator:e,textSerializers:{...Nu(this.schema),...r}})}get isEmpty(){return Ru(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelector(t,e))||null}$nodes(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(t,e))||null}$pos(t){let e=this.state.doc.resolve(t);return new UR(e,this)}get $doc(){return this.$pos(0)}};function az(t){return new Ts({find:t.find,handler:({state:e,range:r,match:n})=>{let i=Le(t.getAttributes,void 0,n);if(i===!1||i===null)return null;let{tr:s}=e,a=n[n.length-1],o=n[0];if(a){let l=o.search(/\S/),u=r.from+o.indexOf(a),c=u+a.length;if(sm(r.from,r.to,e.doc).filter(h=>h.mark.type.excluded.find(v=>v===t.type&&v!==h.mark.type)).filter(h=>h.to>u).length)return null;c<r.to&&s.delete(c,r.to),u>r.from&&s.delete(r.from+l,u);let d=r.from+l+a.length;s.addMark(r.from+l,d,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function lz(t){return new Ts({find:t.find,handler:({state:e,range:r,match:n})=>{let i=Le(t.getAttributes,void 0,n)||{},{tr:s}=e,a=r.from,o=r.to,l=t.type.create(i);if(n[1]){let u=n[0].lastIndexOf(n[1]),c=a+u;c>o?c=o:o=c+n[1].length;let f=n[0][n[0].length-1];s.insertText(f,a+n[0].length-1),s.replaceWith(c,o,l)}else if(n[0]){let u=t.type.isInline?a:a-1;s.insert(u,t.type.create(i)).delete(s.mapping.map(a),s.mapping.map(o))}s.scrollIntoView()},undoable:t.undoable})}function uz(t){return new Ts({find:t.find,handler:({state:e,range:r,match:n})=>{let i=e.doc.resolve(r.from),s=Le(t.getAttributes,void 0,n)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,s)},undoable:t.undoable})}function cz(t){return new Ts({find:t.find,handler:({state:e,range:r,match:n})=>{let i=t.replace,s=r.from,a=r.to;if(n[1]){let o=n[0].lastIndexOf(n[1]);i+=n[0].slice(o+n[1].length),s+=o;let l=s-a;l>0&&(i=n[0].slice(o-l,o)+i,s=a)}e.tr.insertText(i,s,a)},undoable:t.undoable})}var YN=pr();function fz(t){return new Ts({find:t.find,handler:({state:e,range:r,match:n,chain:i})=>{let s=Le(t.getAttributes,void 0,n)||{},a=e.tr.delete(r.from,r.to),l=a.doc.resolve(r.from).blockRange(),u=l&&(0,YN.findWrapping)(l,t.type,s);if(!u)return null;if(a.wrap(l,u),t.keepMarks&&t.editor){let{selection:f,storedMarks:d}=e,{splittableMarks:h}=t.editor.extensionManager,y=d||f.$to.parentOffset&&f.$from.marks();if(y){let v=y.filter(x=>h.includes(x.type.name));a.ensureMarks(v)}}if(t.keepAttributes){let f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,s).run()}let c=a.doc.resolve(r.from-1).nodeBefore;c&&c.type===t.type&&(0,YN.canJoin)(a.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,c))&&a.join(r.from-1)},undoable:t.undoable})}function hz(t){return t.children}var ZN=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);let{children:r,...n}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,n,r]},dz=t=>"touches"in t,zR=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.handleMouseMove=a=>{if(!this.isResizing||!this.activeHandle)return;let o=a.clientX-this.startX,l=a.clientY-this.startY;this.handleResize(o,l)},this.handleTouchMove=a=>{if(!this.isResizing||!this.activeHandle)return;let o=a.touches[0];if(!o)return;let l=o.clientX-this.startX,u=o.clientY-this.startY;this.handleResize(l,u)},this.handleMouseUp=()=>{if(!this.isResizing)return;let a=this.element.offsetWidth,o=this.element.offsetHeight;this.onCommit(a,o),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,r,n,i,s;this.node=t.node,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(r=t.options)!=null&&r.max&&(this.maxSize=t.options.max),(n=t?.options)!=null&&n.directions&&(this.directions=t.options.directions),(i=t.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(s=t.options)!=null&&s.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles()}get dom(){return this.container}get contentDOM(){return this.contentElement}update(t,e,r){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,r):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.container.remove()}createContainer(){let t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",t.style.justifyContent="flex-start",t.style.alignItems="flex-start",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){let t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){let e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){let r=e.includes("top"),n=e.includes("bottom"),i=e.includes("left"),s=e.includes("right");r&&(t.style.top="0"),n&&(t.style.bottom="0"),i&&(t.style.left="0"),s&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e=this.createHandle(t);this.positionHandle(e,t),e.addEventListener("mousedown",r=>this.handleResizeStart(r,t)),e.addEventListener("touchstart",r=>this.handleResizeStart(r,t)),this.wrapper.appendChild(e)})}applyInitialSize(){let t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,dz(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight);let r=this.getPos();this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;let r=this.preserveAspectRatio||this.isShiftKeyPressed,{width:n,height:i}=this.calculateNewDimensions(this.activeHandle,t,e),s=this.applyConstraints(n,i,r);this.element.style.width=`${s.width}px`,this.element.style.height=`${s.height}px`,this.onResize&&this.onResize(s.width,s.height)}calculateNewDimensions(t,e,r){let n=this.startWidth,i=this.startHeight,s=t.includes("right"),a=t.includes("left"),o=t.includes("bottom"),l=t.includes("top");return s?n=this.startWidth+e:a&&(n=this.startWidth-e),o?i=this.startHeight+r:l&&(i=this.startHeight-r),(t==="right"||t==="left")&&(n=this.startWidth+(s?e:-e)),(t==="top"||t==="bottom")&&(i=this.startHeight+(o?r:-r)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(n,i,t):{width:n,height:i}}applyConstraints(t,e,r){var n,i,s,a;if(!r){let u=Math.max(this.minSize.width,t),c=Math.max(this.minSize.height,e);return(n=this.maxSize)!=null&&n.width&&(u=Math.min(this.maxSize.width,u)),(i=this.maxSize)!=null&&i.height&&(c=Math.min(this.maxSize.height,c)),{width:u,height:c}}let o=t,l=e;return o<this.minSize.width&&(o=this.minSize.width,l=o/this.aspectRatio),l<this.minSize.height&&(l=this.minSize.height,o=l*this.aspectRatio),(s=this.maxSize)!=null&&s.width&&o>this.maxSize.width&&(o=this.maxSize.width,l=o/this.aspectRatio),(a=this.maxSize)!=null&&a.height&&l>this.maxSize.height&&(l=this.maxSize.height,o=l*this.aspectRatio),{width:o,height:l}}applyAspectRatio(t,e,r){let n=r==="left"||r==="right",i=r==="top"||r==="bottom";return n?{width:t,height:t/this.aspectRatio}:i?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}},pz=zR,mz=Pe();function gz(t,e){let{selection:r}=t,{$from:n}=r;if(r instanceof mz.NodeSelection){let s=n.index();return n.parent.canReplaceWith(s,s+1,e)}let i=n.depth;for(;i>=0;){let s=n.index(i);if(n.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}function vz(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function yz(t){return typeof t=="string"}var jR={};bu(jR,{createAtomBlockMarkdownSpec:()=>WR,createBlockMarkdownSpec:()=>qR,createInlineMarkdownSpec:()=>VR,parseAttributes:()=>Du,parseIndentedBlocks:()=>KR,renderNestedMarkdownContent:()=>GR,serializeAttributes:()=>Mu});function Du(t){if(!t?.trim())return{};let e={},r=[],n=t.replace(/["']([^"']*)["']/g,u=>(r.push(u),`__QUOTED_${r.length-1}__`)),i=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){let u=i.map(c=>c.trim().slice(1));e.class=u.join(" ")}let s=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);let a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(a)).forEach(([,u,c])=>{var f;let d=parseInt(((f=c.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),h=r[d];h&&(e[u]=h.slice(1,-1))});let l=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(c=>{c.match(/^[a-zA-Z][\w-]*$/)&&(e[c]=!0)}),e}function Mu(t){if(!t||Object.keys(t).length===0)return"";let e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(n=>e.push(`.${n}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([r,n])=>{r==="class"||r==="id"||(n===!0?e.push(r):n!==!1&&n!=null&&e.push(`${r}="${String(n)}"`))}),e.join(" ")}function WR(t){let{nodeName:e,name:r,parseAttributes:n=Du,serializeAttributes:i=Mu,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:o}=t,l=r||e,u=c=>{if(!o)return c;let f={};return o.forEach(d=>{d in c&&(f[d]=c[d])}),f};return{parseMarkdown:(c,f)=>{let d={...s,...c.attributes};return f.createNode(e,d,[])},markdownTokenizer:{name:e,level:"block",start(c){var f;let d=new RegExp(`^:::${l}(?:\\s|$)`,"m"),h=(f=c.match(d))==null?void 0:f.index;return h!==void 0?h:-1},tokenize(c,f,d){let h=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),y=c.match(h);if(!y)return;let v=y[1]||"",x=n(v);if(!a.find(_=>!(_ in x)))return{type:e,raw:y[0],attributes:x}}},renderMarkdown:c=>{let f=u(c.attrs||{}),d=i(f),h=d?` {${d}}`:"";return`:::${l}${h} :::`}}}function qR(t){let{nodeName:e,name:r,getContent:n,parseAttributes:i=Du,serializeAttributes:s=Mu,defaultAttributes:a={},content:o="block",allowedAttributes:l}=t,u=r||e,c=f=>{if(!l)return f;let d={};return l.forEach(h=>{h in f&&(d[h]=f[h])}),d};return{parseMarkdown:(f,d)=>{let h;if(n){let v=n(f);h=typeof v=="string"?[{type:"text",text:v}]:v}else o==="block"?h=d.parseChildren(f.tokens||[]):h=d.parseInline(f.tokens||[]);let y={...a,...f.attributes};return d.createNode(e,y,h)},markdownTokenizer:{name:e,level:"block",start(f){var d;let h=new RegExp(`^:::${u}`,"m"),y=(d=f.match(h))==null?void 0:d.index;return y!==void 0?y:-1},tokenize(f,d,h){var y;let v=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),x=f.match(v);if(!x)return;let[m,_=""]=x,b=i(_),w=1,T=m.length,P="",M=/^:::([\w-]*)(\s.*)?/gm,U=f.slice(T);for(M.lastIndex=0;;){let R=M.exec(U);if(R===null)break;let J=R.index,oe=R[1];if(!((y=R[2])!=null&&y.endsWith(":::"))){if(oe)w+=1;else if(w-=1,w===0){let C=U.slice(0,J);P=C.trim();let H=f.slice(0,T+J+R[0].length),k=[];if(P)if(o==="block")for(k=h.blockTokens(C),k.forEach(V=>{V.text&&(!V.tokens||V.tokens.length===0)&&(V.tokens=h.inlineTokens(V.text))});k.length>0;){let V=k[k.length-1];if(V.type==="paragraph"&&(!V.text||V.text.trim()===""))k.pop();else break}else k=h.inlineTokens(P);return{type:e,raw:H,attributes:b,content:P,tokens:k}}}}}},renderMarkdown:(f,d)=>{let h=c(f.attrs||{}),y=s(h),v=y?` {${y}}`:"",x=d.renderChildren(f.content||[],`

`);return`:::${u}${v}

${x}

:::`}}}function wz(t){if(!t.trim())return{};let e={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g,n=r.exec(t);for(;n!==null;){let[,i,s,a]=n;e[i]=s||a,n=r.exec(t)}return e}function bz(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,r])=>`${e}="${r}"`).join(" ")}function VR(t){let{nodeName:e,name:r,getContent:n,parseAttributes:i=wz,serializeAttributes:s=bz,defaultAttributes:a={},selfClosing:o=!1,allowedAttributes:l}=t,u=r||e,c=d=>{if(!l)return d;let h={};return l.forEach(y=>{y in d&&(h[y]=d[y])}),h},f=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(d,h)=>{let y={...a,...d.attributes};if(o)return h.createNode(e,y);let v=n?n(d):d.content||"";return v?h.createNode(e,y,[h.createTextNode(v)]):h.createNode(e,y,[])},markdownTokenizer:{name:e,level:"inline",start(d){let h=o?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),y=d.match(h),v=y?.index;return v!==void 0?v:-1},tokenize(d,h,y){let v=o?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),x=d.match(v);if(!x)return;let m="",_="";if(o){let[,w]=x;_=w}else{let[,w,T]=x;_=w,m=T||""}let b=i(_.trim());return{type:e,raw:x[0],content:m.trim(),attributes:b}}},renderMarkdown:d=>{let h="";n?h=n(d):d.content&&d.content.length>0&&(h=d.content.filter(m=>m.type==="text").map(m=>m.text).join(""));let y=c(d.attrs||{}),v=s(y),x=v?` ${v}`:"";return o?`[${u}${x}]`:`[${u}${x}]${h}[/${u}]`}}}function KR(t,e,r){var n,i,s,a;let o=t.split(`
`),l=[],u="",c=0,f=e.baseIndentSize||2;for(;c<o.length;){let d=o[c],h=d.match(e.itemPattern);if(!h){if(l.length>0)break;if(d.trim()===""){c+=1,u=`${u}${d}
`;continue}else return}let y=e.extractItemData(h),{indentLevel:v,mainContent:x}=y;u=`${u}${d}
`;let m=[x];for(c+=1;c<o.length;){let T=o[c];if(T.trim()===""){let M=o.slice(c+1).findIndex(J=>J.trim()!=="");if(M===-1)break;if((((i=(n=o[c+1+M].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:i.length)||0)>v){m.push(T),u=`${u}${T}
`,c+=1;continue}else break}if((((a=(s=T.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>v)m.push(T),u=`${u}${T}
`,c+=1;else break}let _,b=m.slice(1);if(b.length>0){let T=b.map(P=>P.slice(v+f)).join(`
`);T.trim()&&(e.customNestedParser?_=e.customNestedParser(T):_=r.blockTokens(T))}let w=e.createToken(y,_);l.push(w)}if(l.length!==0)return{items:l,raw:u}}function GR(t,e,r,n){if(!t||!Array.isArray(t.content))return"";let i=typeof r=="function"?r(n):r,[s,...a]=t.content,o=e.renderChildren([s]),l=[`${i}${o}`];return a&&a.length>0&&a.forEach(u=>{let c=e.renderChildren([u]);if(c){let f=c.split(`
`).map(d=>d?e.indent(d):"").join(`
`);l.push(f)}}),l.join(`
`)}function am(t,e,r={}){let{state:n}=e,{doc:i,tr:s}=n,a=t;i.descendants((o,l)=>{let u=s.mapping.map(l),c=s.mapping.map(l)+o.nodeSize,f=null;if(o.marks.forEach(h=>{if(h!==a)return!1;f=h}),!f)return;let d=!1;if(Object.keys(r).forEach(h=>{r[h]!==f.attrs[h]&&(d=!0)}),d){let h=t.type.create({...t.attrs,...r});s.removeMark(u,c,t.type),s.addMark(u,c,h)}}),s.docChanged&&e.view.dispatch(s)}var _z=class{constructor(t,e,r){this.component=t,this.editor=e.editor,this.options={...r},this.mark=e.mark,this.HTMLAttributes=e.HTMLAttributes}get dom(){return this.editor.view.dom}get contentDOM(){return null}updateAttributes(t,e){am(e||this.mark,this.editor,t)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&(ks()||Eu())&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}},xz=class $R extends Cu{constructor(){super(...arguments),this.type="node"}static create(e={}){let r=typeof e=="function"?e():e;return new $R(r)}configure(e){return super.configure(e)}extend(e){let r=typeof e=="function"?e():e;return super.extend(r)}},QN=Pe(),Ez=class{constructor(t,e,r){this.isDragging=!1,this.component=t,this.editor=e.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=e.extension,this.node=e.node,this.decorations=e.decorations,this.innerDecorations=e.innerDecorations,this.view=e.view,this.HTMLAttributes=e.HTMLAttributes,this.getPos=e.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var e,r,n,i,s,a,o;let{view:l}=this.editor,u=t.target,c=u.nodeType===3?(e=u.parentElement)==null?void 0:e.closest("[data-drag-handle]"):u.closest("[data-drag-handle]");if(!this.dom||(r=this.contentDOM)!=null&&r.contains(u)||!c)return;let f=0,d=0;if(this.dom!==c){let _=this.dom.getBoundingClientRect(),b=c.getBoundingClientRect(),w=(i=t.offsetX)!=null?i:(n=t.nativeEvent)==null?void 0:n.offsetX,T=(a=t.offsetY)!=null?a:(s=t.nativeEvent)==null?void 0:s.offsetY;f=b.x-_.x+w,d=b.y-_.y+T}let h=this.dom.cloneNode(!0);try{let _=this.dom.getBoundingClientRect();h.style.width=`${Math.round(_.width)}px`,h.style.height=`${Math.round(_.height)}px`,h.style.boxSizing="border-box",h.style.pointerEvents="none"}catch{}let y=null;try{y=document.createElement("div"),y.style.position="absolute",y.style.top="-9999px",y.style.left="-9999px",y.style.pointerEvents="none",y.appendChild(h),document.body.appendChild(y),(o=t.dataTransfer)==null||o.setDragImage(h,f,d)}finally{y&&setTimeout(()=>{try{y?.remove()}catch{}},0)}let v=this.getPos();if(typeof v!="number")return;let x=QN.NodeSelection.create(l.state.doc,v),m=l.state.tr.setSelection(x);l.dispatch(m)}stopEvent(t){var e;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:t});let r=t.target;if(!(this.dom.contains(r)&&!((e=this.contentDOM)!=null&&e.contains(r))))return!1;let i=t.type.startsWith("drag"),s=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!s&&!i)return!0;let{isEditable:o}=this.editor,{isDragging:l}=this,u=!!this.node.type.spec.draggable,c=QN.NodeSelection.isSelectable(this.node),f=t.type==="copy",d=t.type==="paste",h=t.type==="cut",y=t.type==="mousedown";if(!u&&c&&i&&t.target===this.dom&&t.preventDefault(),u&&i&&!l&&t.target===this.dom)return t.preventDefault(),!1;if(u&&o&&!l&&y){let v=r.closest("[data-drag-handle]");v&&(this.dom===v||this.dom.contains(v))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(l||s||f||d||h||y&&c)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&(ks()||Eu())&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:e})=>{let r=this.getPos();return typeof r!="number"?!1:(e.setNodeMarkup(r,void 0,{...this.node.attrs,...t}),!0)})}deleteNode(){let t=this.getPos();if(typeof t!="number")return;let e=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:e})}};function Sz(t){return new Iu({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:i})=>{let s=Le(t.getAttributes,void 0,n,i);if(s===!1||s===null)return null;let{tr:a}=e,o=n[n.length-1],l=n[0],u=r.to;if(o){let c=l.search(/\S/),f=r.from+l.indexOf(o),d=f+o.length;if(sm(r.from,r.to,e.doc).filter(y=>y.mark.type.excluded.find(x=>x===t.type&&x!==y.mark.type)).filter(y=>y.to>f).length)return null;d<r.to&&a.delete(d,r.to),f>r.from&&a.delete(r.from+c,f),u=r.from+c+o.length,a.addMark(r.from+c,u,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}function kz(t){return new Iu({find:t.find,handler({match:e,chain:r,range:n,pasteEvent:i}){let s=Le(t.getAttributes,void 0,e,i),a=Le(t.getContent,void 0,s);if(s===!1||s===null)return null;let o={type:t.type.name,attrs:s};a&&(o.content=a),e.input&&r().deleteRange(n).insertContentAt(n.from,o)}})}function Tz(t){return new Iu({find:t.find,handler:({state:e,range:r,match:n})=>{let i=t.replace,s=r.from,a=r.to;if(n[1]){let o=n[0].lastIndexOf(n[1]);i+=n[0].slice(o+n[1].length),s+=o;let l=s-a;l>0&&(i=n[0].slice(o-l,o)+i,s=a)}e.tr.insertText(i,s,a)}})}var Az=class{constructor(t){this.transaction=t,this.currentStep=this.transaction.steps.length}map(t){let e=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce((n,i)=>{let s=i.getMap().mapResult(n);return s.deleted&&(e=!0),s.pos},t),deleted:e}}}});var ZR=xe((FQ,YR)=>{"use strict";var lm=Object.defineProperty,Oz=Object.getOwnPropertyDescriptor,Nz=Object.getOwnPropertyNames,Rz=Object.prototype.hasOwnProperty,Cz=(t,e)=>{for(var r in e)lm(t,r,{get:e[r],enumerable:!0})},Iz=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Nz(e))!Rz.call(t,i)&&i!==r&&lm(t,i,{get:()=>e[i],enumerable:!(n=Oz(e,i))||n.enumerable});return t},Pz=t=>Iz(lm({},"__esModule",{value:!0}),t),XR={};Cz(XR,{Fragment:()=>Dz,createElement:()=>ta,h:()=>ta,jsx:()=>ta,jsxDEV:()=>ta,jsxs:()=>ta});YR.exports=Pz(XR);function Dz(t){return t.children}var ta=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);let{children:r,...n}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,n,r]}});var um=xe((BQ,QR)=>{QR.exports=ZR()});var sC=xe((UQ,iC)=>{"use strict";var fm=Object.defineProperty,Mz=Object.getOwnPropertyDescriptor,Lz=Object.getOwnPropertyNames,Fz=Object.prototype.hasOwnProperty,Bz=(t,e)=>{for(var r in e)fm(t,r,{get:e[r],enumerable:!0})},Uz=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Lz(e))!Fz.call(t,i)&&i!==r&&fm(t,i,{get:()=>e[i],enumerable:!(n=Mz(e,i))||n.enumerable});return t},Hz=t=>Uz(fm({},"__esModule",{value:!0}),t),tC={};Bz(tC,{Blockquote:()=>nC,default:()=>zz,inputRegex:()=>rC});iC.exports=Hz(tC);var cm=Se(),eC=um(),rC=/^\s*>\s$/,nC=cm.Node.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return(0,eC.jsx)("blockquote",{...(0,cm.mergeAttributes)(this.options.HTMLAttributes,t),children:(0,eC.jsx)("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";let r=">",n=[];return t.content.forEach(i=>{let o=e.renderChildren([i]).split(`
`).map(l=>l.trim()===""?r:`${r} ${l}`);n.push(o.join(`
`))}),n.join(`
${r}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[(0,cm.wrappingInputRule)({find:rC,type:this.type})]}}),zz=nC});var pC=xe((HQ,dC)=>{"use strict";var hm=Object.defineProperty,jz=Object.getOwnPropertyDescriptor,Wz=Object.getOwnPropertyNames,qz=Object.prototype.hasOwnProperty,Vz=(t,e)=>{for(var r in e)hm(t,r,{get:e[r],enumerable:!0})},Kz=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Wz(e))!qz.call(t,i)&&i!==r&&hm(t,i,{get:()=>e[i],enumerable:!(n=jz(e,i))||n.enumerable});return t},Gz=t=>Kz(hm({},"__esModule",{value:!0}),t),aC={};Vz(aC,{Bold:()=>hC,default:()=>$z,starInputRegex:()=>lC,starPasteRegex:()=>uC,underscoreInputRegex:()=>cC,underscorePasteRegex:()=>fC});dC.exports=Gz(aC);var As=Se(),oC=um(),lC=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,uC=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,cC=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,fC=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,hC=As.Mark.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return(0,oC.jsx)("strong",{...(0,As.mergeAttributes)(this.options.HTMLAttributes,t),children:(0,oC.jsx)("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,As.markInputRule)({find:lC,type:this.type}),(0,As.markInputRule)({find:cC,type:this.type})]},addPasteRules(){return[(0,As.markPasteRule)({find:uC,type:this.type}),(0,As.markPasteRule)({find:fC,type:this.type})]}}),$z=hC});var bC=xe((zQ,wC)=>{"use strict";var dm=Object.defineProperty,Jz=Object.getOwnPropertyDescriptor,Xz=Object.getOwnPropertyNames,Yz=Object.prototype.hasOwnProperty,Zz=(t,e)=>{for(var r in e)dm(t,r,{get:e[r],enumerable:!0})},Qz=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Xz(e))!Yz.call(t,i)&&i!==r&&dm(t,i,{get:()=>e[i],enumerable:!(n=Jz(e,i))||n.enumerable});return t},e7=t=>Qz(dm({},"__esModule",{value:!0}),t),mC={};Zz(mC,{Code:()=>yC,default:()=>t7,inputRegex:()=>gC,pasteRegex:()=>vC});wC.exports=e7(mC);var Lu=Se(),gC=/(^|[^`])`([^`]+)`(?!`)$/,vC=/(^|[^`])`([^`]+)`(?!`)/g,yC=Lu.Mark.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",(0,Lu.mergeAttributes)(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[(0,Lu.markInputRule)({find:gC,type:this.type})]},addPasteRules(){return[(0,Lu.markPasteRule)({find:vC,type:this.type})]}}),t7=yC});var TC=xe((jQ,kC)=>{"use strict";var mm=Object.defineProperty,r7=Object.getOwnPropertyDescriptor,n7=Object.getOwnPropertyNames,i7=Object.prototype.hasOwnProperty,s7=(t,e)=>{for(var r in e)mm(t,r,{get:e[r],enumerable:!0})},o7=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of n7(e))!i7.call(t,i)&&i!==r&&mm(t,i,{get:()=>e[i],enumerable:!(n=r7(e,i))||n.enumerable});return t},a7=t=>o7(mm({},"__esModule",{value:!0}),t),_C={};s7(_C,{CodeBlock:()=>SC,backtickInputRegex:()=>xC,default:()=>l7,tildeInputRegex:()=>EC});kC.exports=a7(_C);var Fu=Se(),ra=Pe(),pm=4,xC=/^```([a-z]+)?[\s\n]$/,EC=/^~~~([a-z]+)?[\s\n]$/,SC=Fu.Node.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:pm,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;let{languageClassPrefix:r}=this.options;if(!r)return null;let s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(r)).map(a=>a.replace(r,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",(0,Fu.mergeAttributes)(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var r;return((r=t.raw)==null?void 0:r.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var r;let n="",i=((r=t.attrs)==null?void 0:r.language)||"";return t.content?n=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):n=`\`\`\`${i}

\`\`\``,n},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{let{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;let r=(e=this.options.tabSize)!=null?e:pm,{state:n}=t,{selection:i}=n,{$from:s,empty:a}=i;if(s.parent.type!==this.type)return!1;let o=" ".repeat(r);return a?t.commands.insertContent(o):t.commands.command(({tr:l})=>{let{from:u,to:c}=i,h=n.doc.textBetween(u,c,`
`,`
`).split(`
`).map(y=>o+y).join(`
`);return l.replaceWith(u,c,n.schema.text(h)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;let r=(e=this.options.tabSize)!=null?e:pm,{state:n}=t,{selection:i}=n,{$from:s,empty:a}=i;return s.parent.type!==this.type?!1:a?t.commands.command(({tr:o})=>{var l;let{pos:u}=s,c=s.start(),f=s.end(),h=n.doc.textBetween(c,f,`
`,`
`).split(`
`),y=0,v=0,x=u-c;for(let P=0;P<h.length;P+=1){if(v+h[P].length>=x){y=P;break}v+=h[P].length+1}let _=((l=h[y].match(/^ */))==null?void 0:l[0])||"",b=Math.min(_.length,r);if(b===0)return!0;let w=c;for(let P=0;P<y;P+=1)w+=h[P].length+1;return o.delete(w,w+b),u-w<=b&&o.setSelection(ra.TextSelection.create(o.doc,w)),!0}):t.commands.command(({tr:o})=>{let{from:l,to:u}=i,d=n.doc.textBetween(l,u,`
`,`
`).split(`
`).map(h=>{var y;let v=((y=h.match(/^ */))==null?void 0:y[0])||"",x=Math.min(v.length,r);return h.slice(x)}).join(`
`);return o.replaceWith(l,u,n.schema.text(d)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;let{state:e}=t,{selection:r}=e,{$from:n,empty:i}=r;if(!i||n.parent.type!==this.type)return!1;let s=n.parentOffset===n.parent.nodeSize-2,a=n.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:o})=>(o.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;let{state:e}=t,{selection:r,doc:n}=e,{$from:i,empty:s}=r;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;let o=i.after();return o===void 0?!1:n.nodeAt(o)?t.commands.command(({tr:u})=>(u.setSelection(ra.Selection.near(n.resolve(o))),!0)):t.commands.exitCode()}}},addInputRules(){return[(0,Fu.textblockTypeInputRule)({find:xC,type:this.type,getAttributes:t=>({language:t[1]})}),(0,Fu.textblockTypeInputRule)({find:EC,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new ra.Plugin({key:new ra.PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;let r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),i=n?JSON.parse(n):void 0,s=i?.mode;if(!r||!s)return!1;let{tr:a,schema:o}=t.state,l=o.text(r.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(ra.TextSelection.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),l7=SC});var RC=xe((WQ,NC)=>{"use strict";var gm=Object.defineProperty,u7=Object.getOwnPropertyDescriptor,c7=Object.getOwnPropertyNames,f7=Object.prototype.hasOwnProperty,h7=(t,e)=>{for(var r in e)gm(t,r,{get:e[r],enumerable:!0})},d7=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of c7(e))!f7.call(t,i)&&i!==r&&gm(t,i,{get:()=>e[i],enumerable:!(n=u7(e,i))||n.enumerable});return t},p7=t=>d7(gm({},"__esModule",{value:!0}),t),AC={};h7(AC,{Document:()=>OC,default:()=>g7});NC.exports=p7(AC);var m7=Se(),OC=m7.Node.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),g7=OC});var MC=xe((qQ,DC)=>{"use strict";var vm=Object.defineProperty,v7=Object.getOwnPropertyDescriptor,y7=Object.getOwnPropertyNames,w7=Object.prototype.hasOwnProperty,b7=(t,e)=>{for(var r in e)vm(t,r,{get:e[r],enumerable:!0})},_7=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of y7(e))!w7.call(t,i)&&i!==r&&vm(t,i,{get:()=>e[i],enumerable:!(n=v7(e,i))||n.enumerable});return t},x7=t=>_7(vm({},"__esModule",{value:!0}),t),IC={};b7(IC,{HardBreak:()=>PC,default:()=>E7});DC.exports=x7(IC);var CC=Se(),PC=CC.Node.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",(0,CC.mergeAttributes)(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{let{selection:i,storedMarks:s}=r;if(i.$from.parent.type.spec.isolating)return!1;let{keepMarks:a}=this.options,{splittableMarks:o}=n.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&a){let f=l.filter(d=>o.includes(d.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),E7=PC});var bm=xe((VQ,BC)=>{"use strict";var wm=Object.defineProperty,S7=Object.getOwnPropertyDescriptor,k7=Object.getOwnPropertyNames,T7=Object.prototype.hasOwnProperty,A7=(t,e)=>{for(var r in e)wm(t,r,{get:e[r],enumerable:!0})},O7=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of k7(e))!T7.call(t,i)&&i!==r&&wm(t,i,{get:()=>e[i],enumerable:!(n=S7(e,i))||n.enumerable});return t},N7=t=>O7(wm({},"__esModule",{value:!0}),t),LC={};A7(LC,{Heading:()=>FC,default:()=>R7});BC.exports=N7(LC);var ym=Se(),FC=ym.Node.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,(0,ym.mergeAttributes)(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var r;let n=(r=t.attrs)!=null&&r.level?parseInt(t.attrs.level,10):1,i="#".repeat(n);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>(0,ym.textblockTypeInputRule)({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),R7=FC});var jC=xe((KQ,zC)=>{"use strict";var _m=Object.defineProperty,C7=Object.getOwnPropertyDescriptor,I7=Object.getOwnPropertyNames,P7=Object.prototype.hasOwnProperty,D7=(t,e)=>{for(var r in e)_m(t,r,{get:e[r],enumerable:!0})},M7=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of I7(e))!P7.call(t,i)&&i!==r&&_m(t,i,{get:()=>e[i],enumerable:!(n=C7(e,i))||n.enumerable});return t},L7=t=>M7(_m({},"__esModule",{value:!0}),t),UC={};D7(UC,{HorizontalRule:()=>HC,default:()=>F7});zC.exports=L7(UC);var na=Se(),Bu=Pe(),HC=na.Node.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",(0,na.mergeAttributes)(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!(0,na.canInsertNode)(e,e.schema.nodes[this.name]))return!1;let{selection:r}=e,{$to:n}=r,i=t();return(0,na.isNodeSelection)(r)?i.insertContentAt(n.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:a,dispatch:o})=>{if(o){let{$to:l}=a.selection,u=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?a.setSelection(Bu.TextSelection.create(a.doc,l.pos+1)):l.nodeAfter.isBlock?a.setSelection(Bu.NodeSelection.create(a.doc,l.pos)):a.setSelection(Bu.TextSelection.create(a.doc,l.pos));else{let c=s.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,f=c?.create();f&&(a.insert(u,f),a.setSelection(Bu.TextSelection.create(a.doc,u+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[(0,na.nodeInputRule)({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),F7=HC});var XC=xe((GQ,JC)=>{"use strict";var xm=Object.defineProperty,B7=Object.getOwnPropertyDescriptor,U7=Object.getOwnPropertyNames,H7=Object.prototype.hasOwnProperty,z7=(t,e)=>{for(var r in e)xm(t,r,{get:e[r],enumerable:!0})},j7=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of U7(e))!H7.call(t,i)&&i!==r&&xm(t,i,{get:()=>e[i],enumerable:!(n=B7(e,i))||n.enumerable});return t},W7=t=>j7(xm({},"__esModule",{value:!0}),t),WC={};z7(WC,{Italic:()=>$C,default:()=>q7,starInputRegex:()=>qC,starPasteRegex:()=>VC,underscoreInputRegex:()=>KC,underscorePasteRegex:()=>GC});JC.exports=W7(WC);var Os=Se(),qC=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,VC=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,KC=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,GC=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,$C=Os.Mark.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",(0,Os.mergeAttributes)(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,Os.markInputRule)({find:qC,type:this.type}),(0,Os.markInputRule)({find:KC,type:this.type})]},addPasteRules(){return[(0,Os.markPasteRule)({find:VC,type:this.type}),(0,Os.markPasteRule)({find:GC,type:this.type})]}}),q7=$C});var yc=xe(gt=>{"use strict";var V7="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",K7="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u09240\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC0\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",Am="numeric",Om="ascii",Nm="alpha",oa="asciinumeric",ia="alphanumeric",Rm="domain",tI="emoji",G7="scheme",$7="slashscheme",Em="whitespace";function J7(t,e){return t in e||(e[t]=[]),e[t]}function Ai(t,e,r){e[Am]&&(e[oa]=!0,e[ia]=!0),e[Om]&&(e[oa]=!0,e[Nm]=!0),e[oa]&&(e[ia]=!0),e[Nm]&&(e[ia]=!0),e[ia]&&(e[Rm]=!0),e[tI]&&(e[Rm]=!0);for(let n in e){let i=J7(n,r);i.indexOf(t)<0&&i.push(t)}}function X7(t,e){let r={};for(let n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function Bt(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Bt.groups={};Bt.prototype={accepts(){return!!this.t},go(t){let e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){let i=e.jr[n][0],s=e.jr[n][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let i=0;i<t.length;i++)this.tt(t[i],e,r,n)},tr(t,e,r,n){n=n||Bt.groups;let i;return e&&e.j?i=e:(i=new Bt(e),r&&n&&Ai(e,r,n)),this.jr.push([t,i]),i},ts(t,e,r,n){let i=this,s=t.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(t[a]);return i.tt(t[s-1],e,r,n)},tt(t,e,r,n){n=n||Bt.groups;let i=this;if(e&&e.j)return i.j[t]=e,e;let s=e,a,o=i.go(t);if(o?(a=new Bt,Object.assign(a.j,o.j),a.jr.push.apply(a.jr,o.jr),a.jd=o.jd,a.t=o.t):a=new Bt,s){if(n)if(a.t&&typeof a.t=="string"){let l=Object.assign(X7(a.t,n),r);Ai(s,l,n)}else r&&Ai(s,r,n);a.t=s}return i.j[t]=a,a}};var Ne=(t,e,r,n,i)=>t.ta(e,r,n,i),Ze=(t,e,r,n,i)=>t.tr(e,r,n,i),YC=(t,e,r,n,i)=>t.ts(e,r,n,i),ye=(t,e,r,n,i)=>t.tt(e,r,n,i),wn="WORD",Cm="UWORD",rI="ASCIINUMERICAL",nI="ALPHANUMERICAL",ha="LOCALHOST",Im="TLD",Pm="UTLD",zu="SCHEME",Ns="SLASH_SCHEME",Fm="NUM",Dm="WS",Bm="NL",aa="OPENBRACE",la="CLOSEBRACE",qu="OPENBRACKET",Vu="CLOSEBRACKET",Ku="OPENPAREN",Gu="CLOSEPAREN",$u="OPENANGLEBRACKET",Ju="CLOSEANGLEBRACKET",Xu="FULLWIDTHLEFTPAREN",Yu="FULLWIDTHRIGHTPAREN",Zu="LEFTCORNERBRACKET",Qu="RIGHTCORNERBRACKET",ec="LEFTWHITECORNERBRACKET",tc="RIGHTWHITECORNERBRACKET",rc="FULLWIDTHLESSTHAN",nc="FULLWIDTHGREATERTHAN",ic="AMPERSAND",sc="APOSTROPHE",oc="ASTERISK",Gn="AT",ac="BACKSLASH",lc="BACKTICK",uc="CARET",$n="COLON",Um="COMMA",cc="DOLLAR",Fr="DOT",fc="EQUALS",Hm="EXCLAMATION",or="HYPHEN",ua="PERCENT",hc="PIPE",dc="PLUS",pc="POUND",ca="QUERY",zm="QUOTE",iI="FULLWIDTHMIDDLEDOT",jm="SEMI",Br="SLASH",fa="TILDE",mc="UNDERSCORE",sI="EMOJI",gc="SYM",oI=Object.freeze({__proto__:null,ALPHANUMERICAL:nI,AMPERSAND:ic,APOSTROPHE:sc,ASCIINUMERICAL:rI,ASTERISK:oc,AT:Gn,BACKSLASH:ac,BACKTICK:lc,CARET:uc,CLOSEANGLEBRACKET:Ju,CLOSEBRACE:la,CLOSEBRACKET:Vu,CLOSEPAREN:Gu,COLON:$n,COMMA:Um,DOLLAR:cc,DOT:Fr,EMOJI:sI,EQUALS:fc,EXCLAMATION:Hm,FULLWIDTHGREATERTHAN:nc,FULLWIDTHLEFTPAREN:Xu,FULLWIDTHLESSTHAN:rc,FULLWIDTHMIDDLEDOT:iI,FULLWIDTHRIGHTPAREN:Yu,HYPHEN:or,LEFTCORNERBRACKET:Zu,LEFTWHITECORNERBRACKET:ec,LOCALHOST:ha,NL:Bm,NUM:Fm,OPENANGLEBRACKET:$u,OPENBRACE:aa,OPENBRACKET:qu,OPENPAREN:Ku,PERCENT:ua,PIPE:hc,PLUS:dc,POUND:pc,QUERY:ca,QUOTE:zm,RIGHTCORNERBRACKET:Qu,RIGHTWHITECORNERBRACKET:tc,SCHEME:zu,SEMI:jm,SLASH:Br,SLASH_SCHEME:Ns,SYM:gc,TILDE:fa,TLD:Im,UNDERSCORE:mc,UTLD:Pm,UWORD:Cm,WORD:wn,WS:Dm}),Mr=/[a-z]/,Rs=/\p{L}/u,ju=/\p{Emoji}/u,Y7=/\ufe0f/,Lr=/\d/,Wu=/\s/,Z7=Object.freeze({__proto__:null,ASCII_LETTER:Mr,DIGIT:Lr,EMOJI:ju,EMOJI_VARIATION:Y7,LETTER:Rs,SPACE:Wu}),ZC="\r",Sm=`
`,Q7="\uFE0F",ej="\u200D",km="\uFFFC",Uu=null,Hu=null;function tj(t=[]){let e={};Bt.groups=e;let r=new Bt;Uu==null&&(Uu=QC(V7)),Hu==null&&(Hu=QC(K7)),ye(r,"'",sc),ye(r,"{",aa),ye(r,"}",la),ye(r,"[",qu),ye(r,"]",Vu),ye(r,"(",Ku),ye(r,")",Gu),ye(r,"<",$u),ye(r,">",Ju),ye(r,"\uFF08",Xu),ye(r,"\uFF09",Yu),ye(r,"\u300C",Zu),ye(r,"\u300D",Qu),ye(r,"\u300E",ec),ye(r,"\u300F",tc),ye(r,"\uFF1C",rc),ye(r,"\uFF1E",nc),ye(r,"&",ic),ye(r,"*",oc),ye(r,"@",Gn),ye(r,"`",lc),ye(r,"^",uc),ye(r,":",$n),ye(r,",",Um),ye(r,"$",cc),ye(r,".",Fr),ye(r,"=",fc),ye(r,"!",Hm),ye(r,"-",or),ye(r,"%",ua),ye(r,"|",hc),ye(r,"+",dc),ye(r,"#",pc),ye(r,"?",ca),ye(r,'"',zm),ye(r,"/",Br),ye(r,";",jm),ye(r,"~",fa),ye(r,"_",mc),ye(r,"\\",ac),ye(r,"\u30FB",iI);let n=Ze(r,Lr,Fm,{[Am]:!0});Ze(n,Lr,n);let i=Ze(n,Mr,rI,{[oa]:!0}),s=Ze(n,Rs,nI,{[ia]:!0}),a=Ze(r,Mr,wn,{[Om]:!0});Ze(a,Lr,i),Ze(a,Mr,a),Ze(i,Lr,i),Ze(i,Mr,i);let o=Ze(r,Rs,Cm,{[Nm]:!0});Ze(o,Mr),Ze(o,Lr,s),Ze(o,Rs,o),Ze(s,Lr,s),Ze(s,Mr),Ze(s,Rs,s);let l=ye(r,Sm,Bm,{[Em]:!0}),u=ye(r,ZC,Dm,{[Em]:!0}),c=Ze(r,Wu,Dm,{[Em]:!0});ye(r,km,c),ye(u,Sm,l),ye(u,km,c),Ze(u,Wu,c),ye(c,ZC),ye(c,Sm),Ze(c,Wu,c),ye(c,km,c);let f=Ze(r,ju,sI,{[tI]:!0});ye(f,"#"),Ze(f,ju,f),ye(f,Q7,f);let d=ye(f,ej);ye(d,"#"),Ze(d,ju,f);let h=[[Mr,a],[Lr,i]],y=[[Mr,null],[Rs,o],[Lr,s]];for(let v=0;v<Uu.length;v++)Kn(r,Uu[v],Im,wn,h);for(let v=0;v<Hu.length;v++)Kn(r,Hu[v],Pm,Cm,y);Ai(Im,{tld:!0,ascii:!0},e),Ai(Pm,{utld:!0,alpha:!0},e),Kn(r,"file",zu,wn,h),Kn(r,"mailto",zu,wn,h),Kn(r,"http",Ns,wn,h),Kn(r,"https",Ns,wn,h),Kn(r,"ftp",Ns,wn,h),Kn(r,"ftps",Ns,wn,h),Ai(zu,{scheme:!0,ascii:!0},e),Ai(Ns,{slashscheme:!0,ascii:!0},e),t=t.sort((v,x)=>v[0]>x[0]?1:-1);for(let v=0;v<t.length;v++){let x=t[v][0],_=t[v][1]?{[G7]:!0}:{[$7]:!0};x.indexOf("-")>=0?_[Rm]=!0:Mr.test(x)?Lr.test(x)?_[oa]=!0:_[Om]=!0:_[Am]=!0,YC(r,x,x,_)}return YC(r,"localhost",ha,{ascii:!0}),r.jd=new Bt(gc),{start:r,tokens:Object.assign({groups:e},oI)}}function aI(t,e){let r=lI(e.replace(/[A-Z]/g,o=>o.toLowerCase())),n=r.length,i=[],s=0,a=0;for(;a<n;){let o=t,l=null,u=0,c=null,f=-1,d=-1;for(;a<n&&(l=o.go(r[a]));)o=l,o.accepts()?(f=0,d=0,c=o):f>=0&&(f+=r[a].length,d++),u+=r[a].length,s+=r[a].length,a++;s-=f,a-=d,u-=f,i.push({t:c.t,v:e.slice(s-u,s),s:s-u,e:s})}return i}function lI(t){let e=[],r=t.length,n=0;for(;n<r;){let i=t.charCodeAt(n),s,a=i<55296||i>56319||n+1===r||(s=t.charCodeAt(n+1))<56320||s>57343?t[n]:t.slice(n,n+2);e.push(a),n+=a.length}return e}function Kn(t,e,r,n,i){let s,a=e.length;for(let o=0;o<a-1;o++){let l=e[o];t.j[l]?s=t.j[l]:(s=new Bt(n),s.jr=i.slice(),t.j[l]=s),t=s}return s=new Bt(r),s.jr=i.slice(),t.j[e[a-1]]=s,s}function QC(t){let e=[],r=[],n=0,i="0123456789";for(;n<t.length;){let s=0;for(;i.indexOf(t[n+s])>=0;)s++;if(s>0){e.push(r.join(""));for(let a=parseInt(t.substring(n,n+s),10);a>0;a--)r.pop();n+=s}else r.push(t[n]),n++}return e}var Cs={defaultProtocol:"http",events:null,format:eI,formatHref:eI,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ma(t,e=null){let r=Object.assign({},Cs);t&&(r=Object.assign(r,t instanceof ma?t.o:t));let n=r.ignoreTags,i=[];for(let s=0;s<n.length;s++)i.push(n[s].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=i}ma.prototype={o:Cs,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){let n=e!=null,i=this.o[t];return i&&(typeof i=="object"?(i=r.t in i?i[r.t]:Cs[t],typeof i=="function"&&n&&(i=i(e,r))):typeof i=="function"&&n&&(i=i(e,r.t,r)),i)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){let e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function eI(t){return t}var rj=Object.freeze({__proto__:null,Options:ma,defaults:Cs});function da(t,e){this.t="token",this.v=t,this.tk=e}da.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){let e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"\u2026":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Cs.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){let e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),i=t.get("tagName",r,e),s=this.toFormattedString(t),a={},o=t.get("className",r,e),l=t.get("target",r,e),u=t.get("rel",r,e),c=t.getObj("attributes",r,e),f=t.getObj("events",r,e);return a.href=n,o&&(a.class=o),l&&(a.target=l),u&&(a.rel=u),c&&Object.assign(a,c),{tagName:i,attributes:a,content:s,eventListeners:f}}};function Is(t,e){class r extends da{constructor(i,s){super(i,s),this.t=t}}for(let n in e)r.prototype[n]=e[n];return r.t=t,r}var Mm=Is("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Lm=Is("text"),uI=Is("nl"),sa=Is("url",{isLink:!0,toHref(t=Cs.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){let t=this.tk;return t.length>=2&&t[0].t!==ha&&t[1].t===$n}}),cI=Object.freeze({__proto__:null,Base:da,Email:Mm,MultiToken:da,Nl:uI,Text:Lm,Url:sa,createTokenClass:Is}),sr=t=>new Bt(t);function nj({groups:t}){let e=t.domain.concat([ic,oc,Gn,ac,lc,uc,cc,fc,or,Fm,ua,hc,dc,pc,Br,gc,fa,mc]),r=[sc,$n,Um,Fr,Hm,ua,ca,zm,jm,$u,Ju,aa,la,Vu,qu,Ku,Gu,Xu,Yu,Zu,Qu,ec,tc,rc,nc],n=[ic,sc,oc,ac,lc,uc,cc,fc,or,aa,la,ua,hc,dc,pc,ca,Br,gc,fa,mc],i=sr(),s=ye(i,fa);Ne(s,n,s),Ne(s,t.domain,s);let a=sr(),o=sr(),l=sr();Ne(i,t.domain,a),Ne(i,t.scheme,o),Ne(i,t.slashscheme,l),Ne(a,n,s),Ne(a,t.domain,a);let u=ye(a,Gn);ye(s,Gn,u),ye(o,Gn,u),ye(l,Gn,u);let c=ye(s,Fr);Ne(c,n,s),Ne(c,t.domain,s);let f=sr();Ne(u,t.domain,f),Ne(f,t.domain,f);let d=ye(f,Fr);Ne(d,t.domain,f);let h=sr(Mm);Ne(d,t.tld,h),Ne(d,t.utld,h),ye(u,ha,h);let y=ye(f,or);ye(y,or,y),Ne(y,t.domain,f),Ne(h,t.domain,f),ye(h,Fr,d),ye(h,or,y);let v=ye(h,$n);Ne(v,t.numeric,Mm);let x=ye(a,or),m=ye(a,Fr);ye(x,or,x),Ne(x,t.domain,a),Ne(m,n,s),Ne(m,t.domain,a);let _=sr(sa);Ne(m,t.tld,_),Ne(m,t.utld,_),Ne(_,t.domain,a),Ne(_,n,s),ye(_,Fr,m),ye(_,or,x),ye(_,Gn,u);let b=ye(_,$n),w=sr(sa);Ne(b,t.numeric,w);let T=sr(sa),P=sr();Ne(T,e,T),Ne(T,r,P),Ne(P,e,T),Ne(P,r,P),ye(_,Br,T),ye(w,Br,T);let M=ye(o,$n),U=ye(l,$n),R=ye(U,Br),J=ye(R,Br);Ne(o,t.domain,a),ye(o,Fr,m),ye(o,or,x),Ne(l,t.domain,a),ye(l,Fr,m),ye(l,or,x),Ne(M,t.domain,T),ye(M,Br,T),ye(M,ca,T),Ne(J,t.domain,T),Ne(J,e,T),ye(J,Br,T);let oe=[[aa,la],[qu,Vu],[Ku,Gu],[$u,Ju],[Xu,Yu],[Zu,Qu],[ec,tc],[rc,nc]];for(let C=0;C<oe.length;C++){let[H,k]=oe[C],V=ye(T,H);ye(P,H,V),ye(V,k,T);let Q=sr(sa);Ne(V,e,Q);let j=sr();Ne(V,r),Ne(Q,e,Q),Ne(Q,r,j),Ne(j,e,Q),Ne(j,r,j),ye(Q,k,T),ye(j,k,T)}return ye(i,ha,_),ye(i,Bm,uI),{start:i,tokens:oI}}function ij(t,e,r){let n=r.length,i=0,s=[],a=[];for(;i<n;){let o=t,l=null,u=null,c=0,f=null,d=-1;for(;i<n&&!(l=o.go(r[i].t));)a.push(r[i++]);for(;i<n&&(u=l||o.go(r[i].t));)l=null,o=u,o.accepts()?(d=0,f=o):d>=0&&d++,i++,c++;if(d<0)i-=c,i<n&&(a.push(r[i]),i++);else{a.length>0&&(s.push(Tm(Lm,e,a)),a=[]),i-=d,c-=d;let h=f.t,y=r.slice(i-c,i);s.push(Tm(h,e,y))}}return a.length>0&&s.push(Tm(Lm,e,a)),s}function Tm(t,e,r){let n=r[0].s,i=r[r.length-1].e,s=e.slice(n,i);return new t(s,r)}var pa=typeof console<"u"&&console&&console.warn||(()=>{}),Wm="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",De={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function sj(){return Bt.groups={},De.scanner=null,De.parser=null,De.tokenQueue=[],De.pluginQueue=[],De.customSchemes=[],De.initialized=!1,De}function oj(t,e){if(typeof e!="function")throw new Error(`linkifyjs: Invalid token plugin ${e} (expects function)`);for(let r=0;r<De.tokenQueue.length;r++)if(t===De.tokenQueue[r][0]){pa(`linkifyjs: token plugin "${t}" already registered - will be overwritten`),De.tokenQueue[r]=[t,e];return}De.tokenQueue.push([t,e]),De.initialized&&pa(`linkifyjs: already initialized - will not register token plugin "${t}" ${Wm}`)}function aj(t,e){if(typeof e!="function")throw new Error(`linkifyjs: Invalid plugin ${e} (expects function)`);for(let r=0;r<De.pluginQueue.length;r++)if(t===De.pluginQueue[r][0]){pa(`linkifyjs: plugin "${t}" already registered - will be overwritten`),De.pluginQueue[r]=[t,e];return}De.pluginQueue.push([t,e]),De.initialized&&pa(`linkifyjs: already initialized - will not register plugin "${t}" ${Wm}`)}function lj(t,e=!1){if(De.initialized&&pa(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Wm}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);De.customSchemes.push([t,e])}function fI(){De.scanner=tj(De.customSchemes);for(let t=0;t<De.tokenQueue.length;t++)De.tokenQueue[t][1]({scanner:De.scanner});De.parser=nj(De.scanner.tokens);for(let t=0;t<De.pluginQueue.length;t++)De.pluginQueue[t][1]({scanner:De.scanner,parser:De.parser});return De.initialized=!0,De}function vc(t){return De.initialized||fI(),ij(De.parser.start,t,aI(De.scanner.start,t))}vc.scan=aI;function uj(t,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}let n=new ma(r),i=vc(t),s=[];for(let a=0;a<i.length;a++){let o=i[a];o.isLink&&(!e||o.t===e)&&n.check(o)&&s.push(o.toFormattedObject(n))}return s}function cj(t,e=null){let r=vc(t);return r.length===1&&r[0].isLink&&(!e||r[0].t===e)}gt.MultiToken=da;gt.Options=ma;gt.State=Bt;gt.createTokenClass=Is;gt.find=uj;gt.init=fI;gt.multi=cI;gt.options=rj;gt.regexp=Z7;gt.registerCustomProtocol=lj;gt.registerPlugin=aj;gt.registerTokenPlugin=oj;gt.reset=sj;gt.stringToArray=lI;gt.test=cj;gt.text=cI;gt.tokenize=vc});var yI=xe((JQ,vI)=>{"use strict";var qm=Object.defineProperty,fj=Object.getOwnPropertyDescriptor,hj=Object.getOwnPropertyNames,dj=Object.prototype.hasOwnProperty,pj=(t,e)=>{for(var r in e)qm(t,r,{get:e[r],enumerable:!0})},mj=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of hj(e))!dj.call(t,i)&&i!==r&&qm(t,i,{get:()=>e[i],enumerable:!(n=fj(e,i))||n.enumerable});return t},gj=t=>mj(qm({},"__esModule",{value:!0}),t),mI={};pj(mI,{Link:()=>gI,default:()=>Oj,isAllowedUri:()=>Jn,pasteRegex:()=>Aj});vI.exports=gj(mI);var wc=Se(),bc=yc(),_c=Se(),hI=Pe(),vj=yc(),Vm="[\0- \xA0\u1680\u180E\u2000-\u2029\u205F\u3000]",yj=new RegExp(Vm),wj=new RegExp(`${Vm}$`),bj=new RegExp(Vm,"g");function _j(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function xj(t){return new hI.Plugin({key:new hI.PluginKey("autolink"),appendTransaction:(e,r,n)=>{let i=e.some(u=>u.docChanged)&&!r.doc.eq(n.doc),s=e.some(u=>u.getMeta("preventAutolink"));if(!i||s)return;let{tr:a}=n,o=(0,_c.combineTransactionSteps)(r.doc,[...e]);if((0,_c.getChangedRanges)(o).forEach(({newRange:u})=>{let c=(0,_c.findChildrenInRange)(n.doc,u,h=>h.isTextblock),f,d;if(c.length>1)f=c[0],d=n.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(c.length){let h=n.doc.textBetween(u.from,u.to," "," ");if(!wj.test(h))return;f=c[0],d=n.doc.textBetween(f.pos,u.to,void 0," ")}if(f&&d){let h=d.split(yj).filter(Boolean);if(h.length<=0)return!1;let y=h[h.length-1],v=f.pos+d.lastIndexOf(y);if(!y)return!1;let x=(0,vj.tokenize)(y).map(m=>m.toObject(t.defaultProtocol));if(!_j(x))return!1;x.filter(m=>m.isLink).map(m=>({...m,from:v+m.start+1,to:v+m.end+1})).filter(m=>n.schema.marks.code?!n.doc.rangeHasMark(m.from,m.to,n.schema.marks.code):!0).filter(m=>t.validate(m.value)).filter(m=>t.shouldAutoLink(m.value)).forEach(m=>{(0,_c.getMarksBetween)(m.from,m.to,n.doc).some(_=>_.mark.type===t.type)||a.addMark(m.from,m.to,t.type.create({href:m.href}))})}}),!!a.steps.length)return a}})}var Ej=Se(),dI=Pe();function Sj(t){return new dI.Plugin({key:new dI.PluginKey("handleClickLink"),props:{handleClick:(e,r,n)=>{var i,s;if(n.button!==0||!e.editable)return!1;let a=null;if(n.target instanceof HTMLAnchorElement)a=n.target;else{let c=n.target,f=[];for(;c.nodeName!=="DIV";)f.push(c),c=c.parentNode;a=f.find(d=>d.nodeName==="A")}if(!a)return!1;let o=(0,Ej.getAttributes)(e.state,t.type.name),l=(i=a?.href)!=null?i:o.href,u=(s=a?.target)!=null?s:o.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),a&&l?(window.open(l,u),!0):!1}}})}var pI=Pe(),kj=yc();function Tj(t){return new pI.Plugin({key:new pI.PluginKey("handlePasteLink"),props:{handlePaste:(e,r,n)=>{let{shouldAutoLink:i}=t,{state:s}=e,{selection:a}=s,{empty:o}=a;if(o)return!1;let l="";n.content.forEach(c=>{l+=c.textContent});let u=(0,kj.find)(l,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===l);return!l||!u||i!==void 0&&!i(u.href)?!1:t.editor.commands.setMark(t.type,{href:u.href})}}})}var Aj=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)/gi;function Jn(t,e){let r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{let i=typeof n=="string"?n:n.scheme;i&&r.push(i)}),!t||t.replace(bj,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var gI=wc.Mark.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){(0,bc.registerCustomProtocol)(t);return}(0,bc.registerCustomProtocol)(t.scheme,t.optionalSlashes)})},onDestroy(){(0,bc.reset)()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Jn(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{let e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!Jn(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Jn(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",(0,wc.mergeAttributes)(this.options.HTMLAttributes,t),0]:["a",(0,wc.mergeAttributes)(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var r;let n=((r=t.attrs)==null?void 0:r.href)||"";return`[${e.renderChildren(t)}](${n})`},addCommands(){return{setLink:t=>({chain:e})=>{let{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:n=>!!Jn(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{let{href:r}=t||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!Jn(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[(0,wc.markPasteRule)({find:t=>{let e=[];if(t){let{protocols:r,defaultProtocol:n}=this.options,i=(0,bc.find)(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!Jn(a,r),protocols:r,defaultProtocol:n}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){let t=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(xj({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:i=>!!Jn(i,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(Sj({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(Tj({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),Oj=gI});var Xn=xe((XQ,UI)=>{"use strict";var Zm=Object.defineProperty,Nj=Object.getOwnPropertyDescriptor,Rj=Object.getOwnPropertyNames,Cj=Object.prototype.hasOwnProperty,EI=(t,e)=>{for(var r in e)Zm(t,r,{get:e[r],enumerable:!0})},Ij=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Rj(e))!Cj.call(t,i)&&i!==r&&Zm(t,i,{get:()=>e[i],enumerable:!(n=Nj(e,i))||n.enumerable});return t},Pj=t=>Ij(Zm({},"__esModule",{value:!0}),t),SI={};EI(SI,{BulletList:()=>kI,ListItem:()=>TI,ListKeymap:()=>PI,ListKit:()=>Vj,OrderedList:()=>MI,TaskItem:()=>FI,TaskList:()=>BI,bulletListInputRegex:()=>$m,inputRegex:()=>LI,listHelpers:()=>AI,orderedListInputRegex:()=>Ym});UI.exports=Pj(SI);var xc=Se(),Dj="listItem",wI="textStyle",$m=/^\s*([-+*])\s$/,kI=xc.Node.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",(0,xc.mergeAttributes)(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Dj,this.editor.getAttributes(wI)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=(0,xc.wrappingInputRule)({find:$m,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=(0,xc.wrappingInputRule)({find:$m,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(wI),editor:this.editor})),[t]}}),Km=Se(),TI=Km.Node.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",(0,Km.mergeAttributes)(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let r=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))r=e.parseChildren(t.tokens);else{let i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(r=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){let a=t.tokens.slice(1),o=e.parseChildren(a);r.push(...o)}}else r=e.parseChildren(t.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(t,e,r)=>(0,Km.renderNestedMarkdownContent)(t,e,n=>n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${n.index+1}. `:"- ",r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Mj=Se(),AI={};EI(AI,{findListItemPos:()=>va,getNextListDepth:()=>Qm,handleBackspace:()=>Jm,handleDelete:()=>Xm,hasListBefore:()=>OI,hasListItemAfter:()=>Uj,hasListItemBefore:()=>NI,listItemHasSubList:()=>RI,nextListIsDeeper:()=>CI,nextListIsHigher:()=>II});var Lj=Se(),va=(t,e)=>{let{$from:r}=e.selection,n=(0,Lj.getNodeType)(t,e.schema),i=null,s=r.depth,a=r.pos,o=null;for(;s>0&&o===null;)i=r.node(s),i.type===n?o=s:(s-=1,a-=1);return o===null?null:{$pos:e.doc.resolve(a),depth:o}},Fj=Se(),Qm=(t,e)=>{let r=va(t,e);if(!r)return!1;let[,n]=(0,Fj.getNodeAtPosition)(e,t,r.$pos.pos+4);return n},Gm=Se(),OI=(t,e,r)=>{let{$anchor:n}=t.selection,i=Math.max(0,n.pos-2),s=t.doc.resolve(i).node();return!(!s||!r.includes(s.type.name))},NI=(t,e)=>{var r;let{$anchor:n}=e.selection,i=e.doc.resolve(n.pos-2);return!(i.index()===0||((r=i.nodeBefore)==null?void 0:r.type.name)!==t)},Bj=Se(),RI=(t,e,r)=>{if(!r)return!1;let n=(0,Bj.getNodeType)(t,e.schema),i=!1;return r.descendants(s=>{s.type===n&&(i=!0)}),i},Jm=(t,e,r)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!(0,Gm.isNodeActive)(t.state,e)&&OI(t.state,e,r)){let{$anchor:o}=t.state.selection,l=t.state.doc.resolve(o.before()-1),u=[];l.node().descendants((d,h)=>{d.type.name===e&&u.push({node:d,pos:h})});let c=u.at(-1);if(!c)return!1;let f=t.state.doc.resolve(l.start()+c.pos+1);return t.chain().cut({from:o.start()-1,to:o.end()+1},f.end()).joinForward().run()}if(!(0,Gm.isNodeActive)(t.state,e)||!(0,Gm.isAtStartOfNode)(t.state))return!1;let n=va(e,t.state);if(!n)return!1;let s=t.state.doc.resolve(n.$pos.pos-2).node(n.depth),a=RI(e,t.state,s);return NI(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},bI=Se(),CI=(t,e)=>{let r=Qm(t,e),n=va(t,e);return!n||!r?!1:r>n.depth},II=(t,e)=>{let r=Qm(t,e),n=va(t,e);return!n||!r?!1:r<n.depth},Xm=(t,e)=>{if(!(0,bI.isNodeActive)(t.state,e)||!(0,bI.isAtEndOfNode)(t.state,e))return!1;let{selection:r}=t.state,{$from:n,$to:i}=r;return!r.empty&&n.sameParent(i)?!1:CI(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():II(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},Uj=(t,e)=>{var r;let{$anchor:n}=e.selection,i=e.doc.resolve(n.pos-n.parentOffset-2);return!(i.index()===i.parent.childCount-1||((r=i.nodeAfter)==null?void 0:r.type.name)!==t)},PI=Mj.Extension.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&Xm(t,r)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&Xm(t,r)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&Jm(t,r,n)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&Jm(t,r,n)&&(e=!0)}),e}}}}),Hj=Se(),ga=Se(),_I=/^(\s*)(\d+)\.\s+(.*)$/,zj=/^\s/;function jj(t){let e=[],r=0,n=0;for(;r<t.length;){let i=t[r],s=i.match(_I);if(!s)break;let[,a,o,l]=s,u=a.length,c=l,f=r+1,d=[i];for(;f<t.length;){let h=t[f];if(h.match(_I))break;if(h.trim()==="")d.push(h),c+=`
`,f+=1;else if(h.match(zj))d.push(h),c+=`
${h.slice(u+2)}`,f+=1;else break}e.push({indent:u,number:parseInt(o,10),content:c.trim(),raw:d.join(`
`)}),n=f,r=f}return[e,n]}function DI(t,e,r){var n;let i=[],s=0;for(;s<t.length;){let a=t[s];if(a.indent===e){let o=a.content.split(`
`),l=((n=o[0])==null?void 0:n.trim())||"",u=[];l&&u.push({type:"paragraph",raw:l,tokens:r.inlineTokens(l)});let c=o.slice(1).join(`
`).trim();if(c){let h=r.blockTokens(c);u.push(...h)}let f=s+1,d=[];for(;f<t.length&&t[f].indent>e;)d.push(t[f]),f+=1;if(d.length>0){let h=Math.min(...d.map(v=>v.indent)),y=DI(d,h,r);u.push({type:"list",ordered:!0,start:d[0].number,items:y,raw:d.map(v=>v.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:u}),s=f}else s+=1}return i}function Wj(t,e){return t.map(r=>{if(r.type!=="list_item")return e.parseChildren([r])[0];let n=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")n.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){let s=e.parseChildren([i]);n.push({type:"paragraph",content:s})}else{let s=e.parseChildren([i]);s.length>0&&n.push(...s)}}),{type:"listItem",content:n}})}var qj="listItem",xI="textStyle",Ym=/^(\d+)\.\s$/,MI=ga.Node.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){let{start:e,...r}=t;return e===1?["ol",(0,ga.mergeAttributes)(this.options.HTMLAttributes,r),0]:["ol",(0,ga.mergeAttributes)(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];let r=t.start||1,n=t.items?Wj(t.items,e):[];return r!==1?{type:"orderedList",attrs:{start:r},content:n}:{type:"orderedList",content:n}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{let e=t.match(/^(\s*)(\d+)\.\s+/),r=e?.index;return r!==void 0?r:-1},tokenize:(t,e,r)=>{var n;let i=t.split(`
`),[s,a]=jj(i);if(s.length===0)return;let o=DI(s,0,r);return o.length===0?void 0:{type:"list",ordered:!0,start:((n=s[0])==null?void 0:n.number)||1,items:o,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(qj,this.editor.getAttributes(xI)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=(0,ga.wrappingInputRule)({find:Ym,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=(0,ga.wrappingInputRule)({find:Ym,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(xI)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),Ec=Se(),LI=/^\s*(\[([( |x])?\])\s$/,FI=Ec.Node.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{let e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",(0,Ec.mergeAttributes)(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{let r=[];if(t.tokens&&t.tokens.length>0?r.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?r.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):r.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){let n=e.parseChildren(t.nestedTokens);r.push(...n)}return e.createNode("taskItem",{checked:t.checked||!1},r)},renderMarkdown:(t,e)=>{var r;let i=`- [${(r=t.attrs)!=null&&r.checked?"x":" "}] `;return(0,Ec.renderNestedMarkdownContent)(t,e,i)},addKeyboardShortcuts(){let t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:r,editor:n})=>{let i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),o=document.createElement("input"),l=document.createElement("div"),u=c=>{var f,d;o.ariaLabel=((d=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:d.call(f,c,o.checked))||`Task item checkbox for ${c.textContent||"empty task item"}`};return u(t),s.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",c=>c.preventDefault()),o.addEventListener("change",c=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){o.checked=!o.checked;return}let{checked:f}=c.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:d})=>{let h=r();if(typeof h!="number")return!1;let y=d.doc.nodeAt(h);return d.setNodeMarkup(h,void 0,{...y?.attrs,checked:f}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,f)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([c,f])=>{i.setAttribute(c,f)}),i.dataset.checked=t.attrs.checked,o.checked=t.attrs.checked,s.append(o,a),i.append(s,l),Object.entries(e).forEach(([c,f])=>{i.setAttribute(c,f)}),{dom:i,contentDOM:l,update:c=>c.type!==this.type?!1:(i.dataset.checked=c.attrs.checked,o.checked=c.attrs.checked,u(c),!0)}}},addInputRules(){return[(0,Ec.wrappingInputRule)({find:LI,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),Sc=Se(),BI=Sc.Node.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",(0,Sc.mergeAttributes)(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;let r=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return r!==void 0?r:-1},tokenize(t,e,r){let n=s=>{let a=(0,Sc.parseIndentedBlocks)(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,l)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:r.inlineTokens(o.mainContent),nestedTokens:l}),customNestedParser:n},r);return a?[{type:"taskList",raw:a.raw,items:a.items}]:r.blockTokens(s)},i=(0,Sc.parseIndentedBlocks)(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,a)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:r.inlineTokens(s.mainContent),nestedTokens:a}),customNestedParser:n},r);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),Vj=Hj.Extension.create({name:"listKit",addExtensions(){let t=[];return this.options.bulletList!==!1&&t.push(kI.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(TI.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(PI.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(MI.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(FI.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(BI.configure(this.options.taskList)),t}})});var tg=xe((YQ,WI)=>{"use strict";var eg=Object.defineProperty,Kj=Object.getOwnPropertyDescriptor,Gj=Object.getOwnPropertyNames,$j=Object.prototype.hasOwnProperty,Jj=(t,e)=>{for(var r in e)eg(t,r,{get:e[r],enumerable:!0})},Xj=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Gj(e))!$j.call(t,i)&&i!==r&&eg(t,i,{get:()=>e[i],enumerable:!(n=Kj(e,i))||n.enumerable});return t},Yj=t=>Xj(eg({},"__esModule",{value:!0}),t),zI={};Jj(zI,{Paragraph:()=>jI,default:()=>Zj});WI.exports=Yj(zI);var HI=Se(),jI=HI.Node.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",(0,HI.mergeAttributes)(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{let r=t.tokens||[];return r.length===1&&r[0].type==="image"?e.parseChildren([r[0]]):e.createNode("paragraph",void 0,e.parseInline(r))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Zj=jI});var JI=xe((ZQ,$I)=>{"use strict";var rg=Object.defineProperty,Qj=Object.getOwnPropertyDescriptor,eW=Object.getOwnPropertyNames,tW=Object.prototype.hasOwnProperty,rW=(t,e)=>{for(var r in e)rg(t,r,{get:e[r],enumerable:!0})},nW=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of eW(e))!tW.call(t,i)&&i!==r&&rg(t,i,{get:()=>e[i],enumerable:!(n=Qj(e,i))||n.enumerable});return t},iW=t=>nW(rg({},"__esModule",{value:!0}),t),qI={};rW(qI,{Strike:()=>GI,default:()=>sW,inputRegex:()=>VI,pasteRegex:()=>KI});$I.exports=iW(qI);var kc=Se(),VI=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,KI=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,GI=kc.Mark.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",(0,kc.mergeAttributes)(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[(0,kc.markInputRule)({find:VI,type:this.type})]},addPasteRules(){return[(0,kc.markPasteRule)({find:KI,type:this.type})]}}),sW=GI});var QI=xe((QQ,ZI)=>{"use strict";var ng=Object.defineProperty,oW=Object.getOwnPropertyDescriptor,aW=Object.getOwnPropertyNames,lW=Object.prototype.hasOwnProperty,uW=(t,e)=>{for(var r in e)ng(t,r,{get:e[r],enumerable:!0})},cW=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of aW(e))!lW.call(t,i)&&i!==r&&ng(t,i,{get:()=>e[i],enumerable:!(n=oW(e,i))||n.enumerable});return t},fW=t=>cW(ng({},"__esModule",{value:!0}),t),XI={};uW(XI,{Text:()=>YI,default:()=>dW});ZI.exports=fW(XI);var hW=Se(),YI=hW.Node.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),dW=YI});var Tc=xe((eee,nP)=>{"use strict";var ig=Object.defineProperty,pW=Object.getOwnPropertyDescriptor,mW=Object.getOwnPropertyNames,gW=Object.prototype.hasOwnProperty,vW=(t,e)=>{for(var r in e)ig(t,r,{get:e[r],enumerable:!0})},yW=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of mW(e))!gW.call(t,i)&&i!==r&&ig(t,i,{get:()=>e[i],enumerable:!(n=pW(e,i))||n.enumerable});return t},wW=t=>yW(ig({},"__esModule",{value:!0}),t),tP={};vW(tP,{Underline:()=>rP,default:()=>bW});nP.exports=wW(tP);var eP=Se(),rP=eP.Mark.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",(0,eP.mergeAttributes)(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,r){let i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;let s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:r.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),bW=rP});var oP=xe(sP=>{"use strict";function ya(t){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ya(t)}function _W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EW(n.key),n)}}function xW(t,e,r){return e&&iP(t.prototype,e),r&&iP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function EW(t){var e=SW(t,"string");return ya(e)==="symbol"?e:String(e)}function SW(t,e){if(ya(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ya(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kW=dn(),TW=Bn();function AW(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new kW.Plugin({view:function(r){return new OW(r,t)}})}var OW=(function(){function t(e,r){var n=this;_W(this,t);var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=r.width)!==null&&i!==void 0?i:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(function(s){var a=function(l){n[s](l)};return e.dom.addEventListener(s,a),{name:s,handler:a}})}return xW(t,[{key:"destroy",value:function(){var r=this;this.handlers.forEach(function(n){var i=n.name,s=n.handler;return r.editorView.dom.removeEventListener(i,s)})}},{key:"update",value:function(r,n){this.cursorPos!=null&&n.doc!=r.state.doc&&(this.cursorPos>r.state.doc.content.size?this.setCursor(null):this.updateOverlay())}},{key:"setCursor",value:function(r){r!=this.cursorPos&&(this.cursorPos=r,r==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}},{key:"updateOverlay",value:function(){var r=this.editorView.state.doc.resolve(this.cursorPos),n=!r.parent.inlineContent,i,s=this.editorView.dom,a=s.getBoundingClientRect(),o=a.width/s.offsetWidth,l=a.height/s.offsetHeight;if(n){var u=r.nodeBefore,c=r.nodeAfter;if(u||c){var f=this.editorView.nodeDOM(this.cursorPos-(u?u.nodeSize:0));if(f){var d=f.getBoundingClientRect(),h=u?d.bottom:d.top;u&&c&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);var y=this.width/2*l;i={left:d.left,right:d.right,top:h-y,bottom:h+y}}}}if(!i){var v=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*o;i={left:v.left-x,right:v.left+x,top:v.top,bottom:v.bottom}}var m=this.editorView.dom.offsetParent;this.element||(this.element=m.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);var _,b;if(!m||m==document.body&&getComputedStyle(m).position=="static")_=-pageXOffset,b=-pageYOffset;else{var w=m.getBoundingClientRect(),T=w.width/m.offsetWidth,P=w.height/m.offsetHeight;_=w.left-m.scrollLeft*T,b=w.top-m.scrollTop*P}this.element.style.left=(i.left-_)/o+"px",this.element.style.top=(i.top-b)/l+"px",this.element.style.width=(i.right-i.left)/o+"px",this.element.style.height=(i.bottom-i.top)/l+"px"}},{key:"scheduleRemoval",value:function(r){var n=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){return n.setCursor(null)},r)}},{key:"dragover",value:function(r){if(this.editorView.editable){var n=this.editorView.posAtCoords({left:r.clientX,top:r.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=i&&i.type.spec.disableDropCursor,a=typeof s=="function"?s(this.editorView,n,r):s;if(n&&!a){var o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){var l=TW.dropPoint(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}}},{key:"dragend",value:function(){this.scheduleRemoval(20)}},{key:"drop",value:function(){this.scheduleRemoval(20)}},{key:"dragleave",value:function(r){this.editorView.dom.contains(r.relatedTarget)||this.setCursor(null)}}]),t})();sP.dropCursor=AW});var aP=xe(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});function NW(t){Object.keys(t).filter(e=>e!=="default"&&e!=="__esModule").forEach(e=>{Ac.hasOwnProperty(e)||Object.defineProperty(Ac,e,{enumerable:!0,configurable:!0,get:()=>t[e]})})}var RW=oP();NW(RW)});var dP=xe(og=>{"use strict";function Ps(t){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(t)}function cP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CW(n.key),n)}}function fP(t,e,r){return e&&lP(t.prototype,e),r&&lP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CW(t){var e=IW(t,"string");return Ps(e)==="symbol"?e:String(e)}function IW(t,e){if(Ps(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ps(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sg(t,e)}function sg(t,e){return sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sg(t,e)}function DW(t){var e=FW();return function(){var n=Rc(t),i;if(e){var s=Rc(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return MW(this,i)}}function MW(t,e){if(e&&(Ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LW(t)}function LW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FW(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rc(t){return Rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rc(t)}var BW=Up(),bn=dn(),Nc=Ln(),uP=Lp(),Ut=(function(t){PW(r,t);var e=DW(r);function r(n){return cP(this,r),e.call(this,n,n)}return fP(r,[{key:"map",value:function(i,s){var a=i.resolve(s.map(this.head));return r.valid(a)?new r(a):bn.Selection.near(a)}},{key:"content",value:function(){return Nc.Slice.empty}},{key:"eq",value:function(i){return i instanceof r&&i.head==this.head}},{key:"toJSON",value:function(){return{type:"gapcursor",pos:this.head}}},{key:"getBookmark",value:function(){return new UW(this.anchor)}}],[{key:"fromJSON",value:function(i,s){if(typeof s.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new r(i.resolve(s.pos))}},{key:"valid",value:function(i){var s=i.parent;if(s.isTextblock||!HW(i)||!zW(i))return!1;var a=s.type.spec.allowGapCursor;if(a!=null)return a;var o=s.contentMatchAt(i.index()).defaultType;return o&&o.isTextblock}},{key:"findGapCursorFrom",value:function(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e:for(;;){if(!a&&r.valid(i))return i;for(var o=i.pos,l=null,u=i.depth;;u--){var c=i.node(u);if(s>0?i.indexAfter(u)<c.childCount:i.index(u)>0){l=c.child(s>0?i.indexAfter(u):i.index(u)-1);break}else if(u==0)return null;o+=s;var f=i.doc.resolve(o);if(r.valid(f))return f}for(;;){var d=s>0?l.firstChild:l.lastChild;if(!d){if(l.isAtom&&!l.isText&&!bn.NodeSelection.isSelectable(l)){i=i.doc.resolve(o+l.nodeSize*s),a=!1;continue e}break}l=d,o+=s;var h=i.doc.resolve(o);if(r.valid(h))return h}return null}}}]),r})(bn.Selection);Ut.prototype.visible=!1;Ut.findFrom=Ut.findGapCursorFrom;bn.Selection.jsonID("gapcursor",Ut);var UW=(function(){function t(e){cP(this,t),this.pos=e}return fP(t,[{key:"map",value:function(r){return new t(r.map(this.pos))}},{key:"resolve",value:function(r){var n=r.resolve(this.pos);return Ut.valid(n)?new Ut(n):bn.Selection.near(n)}}]),t})();function hP(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function HW(t){for(var e=t.depth;e>=0;e--){var r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(var i=n.child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||hP(i.type))return!0;if(i.inlineContent)return!1}}return!0}function zW(t){for(var e=t.depth;e>=0;e--){var r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(var i=n.child(r);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||hP(i.type))return!0;if(i.inlineContent)return!1}}return!0}function jW(){return new bn.Plugin({props:{decorations:KW,createSelectionBetween:function(e,r,n){return r.pos==n.pos&&Ut.valid(n)?new Ut(n):null},handleClick:qW,handleKeyDown:WW,handleDOMEvents:{beforeinput:VW}}})}var WW=BW.keydownHandler({ArrowLeft:Oc("horiz",-1),ArrowRight:Oc("horiz",1),ArrowUp:Oc("vert",-1),ArrowDown:Oc("vert",1)});function Oc(t,e){var r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,i,s){var a=n.selection,o=e>0?a.$to:a.$from,l=a.empty;if(a instanceof bn.TextSelection){if(!s.endOfTextblock(r)||o.depth==0)return!1;l=!1,o=n.doc.resolve(e>0?o.after():o.before())}var u=Ut.findGapCursorFrom(o,e,l);return u?(i&&i(n.tr.setSelection(new Ut(u))),!0):!1}}function qW(t,e,r){if(!t||!t.editable)return!1;var n=t.state.doc.resolve(e);if(!Ut.valid(n))return!1;var i=t.posAtCoords({left:r.clientX,top:r.clientY});return i&&i.inside>-1&&bn.NodeSelection.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Ut(n))),!0)}function VW(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Ut))return!1;var r=t.state.selection.$from,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;for(var i=Nc.Fragment.empty,s=n.length-1;s>=0;s--)i=Nc.Fragment.from(n[s].createAndFill(null,i));var a=t.state.tr.replace(r.pos,r.pos,new Nc.Slice(i,0,0));return a.setSelection(bn.TextSelection.near(a.doc.resolve(r.pos+1))),t.dispatch(a),!1}function KW(t){if(!(t.selection instanceof Ut))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",uP.DecorationSet.create(t.doc,[uP.Decoration.widget(t.selection.head,e,{key:"gapcursor"})])}og.GapCursor=Ut;og.gapCursor=jW});var pP=xe(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});function GW(t){Object.keys(t).filter(e=>e!=="default"&&e!=="__esModule").forEach(e=>{Cc.hasOwnProperty(e)||Object.defineProperty(Cc,e,{enumerable:!0,configurable:!0,get:()=>t[e]})})}var $W=dP();GW($W)});var vP=xe((see,gP)=>{"use strict";var Ic=200,Et=function(){};Et.prototype.append=function(e){return e.length?(e=Et.from(e),!this.length&&e||e.length<Ic&&this.leafAppend(e)||this.length<Ic&&e.leafPrepend(this)||this.appendInner(e)):this};Et.prototype.prepend=function(e){return e.length?Et.from(e).append(this):this};Et.prototype.appendInner=function(e){return new JW(this,e)};Et.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Et.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Et.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Et.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Et.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},r,n),i};Et.from=function(e){return e instanceof Et?e:e&&e.length?new mP(e):Et.empty};var mP=(function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,o){for(var l=s;l<a;l++)if(i(this.values[l],o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,o){for(var l=s-1;l>=a;l--)if(i(this.values[l],o+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Ic)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Ic)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(Et);Et.empty=new mP([]);var JW=(function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,s,a){var o=this.left.length;if(i<o&&this.left.forEachInner(n,i,Math.min(s,o),a)===!1||s>o&&this.right.forEachInner(n,Math.max(i-o,0),Math.min(this.length,s)-o,a+o)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,s,a){var o=this.left.length;if(i>o&&this.right.forEachInvertedInner(n,i-o,Math.max(s,o)-o,a+o)===!1||s<o&&this.left.forEachInvertedInner(n,Math.min(i,o),s,a)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(n,i):n>=s?this.right.slice(n-s,i-s):this.left.slice(n,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(Et);gP.exports=Et});var kP=xe(Hr=>{"use strict";function wa(t){"@babel/helpers - typeof";return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(t)}function ug(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XW(n.key),n)}}function cg(t,e,r){return e&&yP(t.prototype,e),r&&yP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XW(t){var e=YW(t,"string");return wa(e)==="symbol"?e:String(e)}function YW(t,e){if(wa(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wa(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _P=vP(),ZW=Bn(),fg=dn(),QW=500,ba=(function(){function t(e,r){ug(this,t),this.items=e,this.eventCount=r}return cg(t,[{key:"popEvent",value:function(r,n){var i=this;if(this.eventCount==0)return null;for(var s=this.items.length;;s--){var a=this.items.get(s-1);if(a.selection){--s;break}}var o,l;n&&(o=this.remapping(s,this.items.length),l=o.maps.length);var u=r.tr,c,f,d=[],h=[];return this.items.forEach(function(y,v){if(!y.step){o||(o=i.remapping(s,v+1),l=o.maps.length),l--,h.push(y);return}if(o){h.push(new Yn(y.map));var x=y.step.map(o.slice(l)),m;x&&u.maybeStep(x).doc&&(m=u.mapping.maps[u.mapping.maps.length-1],d.push(new Yn(m,void 0,void 0,d.length+h.length))),l--,m&&o.appendMap(m,l)}else u.maybeStep(y.step);if(y.selection)return c=o?y.selection.map(o.slice(l)):y.selection,f=new t(i.items.slice(0,s).append(h.reverse().concat(d)),i.eventCount-1),!1},this.items.length,0),{remaining:f,transform:u,selection:c}}},{key:"addTransform",value:function(r,n,i,s){for(var a=[],o=this.eventCount,l=this.items,u=!s&&l.length?l.get(l.length-1):null,c=0;c<r.steps.length;c++){var f=r.steps[c].invert(r.docs[c]),d=new Yn(r.mapping.maps[c],f,n),h=void 0;(h=u&&u.merge(d))&&(d=h,c?a.pop():l=l.slice(0,l.length-1)),a.push(d),n&&(o++,n=void 0),s||(u=d)}var y=o-i.depth;return y>tq&&(l=eq(l,y),o-=y),new t(l.append(a),o)}},{key:"remapping",value:function(r,n){var i=new ZW.Mapping;return this.items.forEach(function(s,a){var o=s.mirrorOffset!=null&&a-s.mirrorOffset>=r?i.maps.length-s.mirrorOffset:void 0;i.appendMap(s.map,o)},r,n),i}},{key:"addMaps",value:function(r){return this.eventCount==0?this:new t(this.items.append(r.map(function(n){return new Yn(n)})),this.eventCount)}},{key:"rebased",value:function(r,n){if(!this.eventCount)return this;var i=[],s=Math.max(0,this.items.length-n),a=r.mapping,o=r.steps.length,l=this.eventCount;this.items.forEach(function(y){y.selection&&l--},s);var u=n;this.items.forEach(function(y){var v=a.getMirror(--u);if(v!=null){o=Math.min(o,v);var x=a.maps[v];if(y.step){var m=r.steps[v].invert(r.docs[v]),_=y.selection&&y.selection.map(a.slice(u+1,v));_&&l++,i.push(new Yn(x,m,_))}else i.push(new Yn(x))}},s);for(var c=[],f=n;f<o;f++)c.push(new Yn(a.maps[f]));var d=this.items.slice(0,s).append(c).append(i),h=new t(d,l);return h.emptyItemCount()>QW&&(h=h.compress(this.items.length-i.length)),h}},{key:"emptyItemCount",value:function(){var r=0;return this.items.forEach(function(n){n.step||r++}),r}},{key:"compress",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.items.length,n=this.remapping(0,r),i=n.maps.length,s=[],a=0;return this.items.forEach(function(o,l){if(l>=r)s.push(o),o.selection&&a++;else if(o.step){var u=o.step.map(n.slice(i)),c=u&&u.getMap();if(i--,c&&n.appendMap(c,i),u){var f=o.selection&&o.selection.map(n.slice(i));f&&a++;var d=new Yn(c.invert(),u,f),h,y=s.length-1;(h=s.length&&s[y].merge(d))?s[y]=h:s.push(d)}}else o.map&&i--},this.items.length,0),new t(_P.from(s.reverse()),a)}}]),t})();ba.empty=new ba(_P.empty,0);function eq(t,e){var r;return t.forEach(function(n,i){if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}var Yn=(function(){function t(e,r,n,i){ug(this,t),this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}return cg(t,[{key:"merge",value:function(r){if(this.step&&r.step&&!r.selection){var n=r.step.merge(this.step);if(n)return new t(n.getMap().invert(),n,this.selection)}}}]),t})(),Zn=cg(function t(e,r,n,i,s){ug(this,t),this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=s}),tq=20;function rq(t,e,r,n){var i=r.getMeta(Ur),s;if(i)return i.historyState;r.getMeta(xP)&&(t=new Zn(t.done,t.undone,null,0,-1));var a=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(a&&a.getMeta(Ur))return a.getMeta(Ur).redo?new Zn(t.done.addTransform(r,void 0,n,Pc(e)),t.undone,wP(r.mapping.maps),t.prevTime,t.prevComposition):new Zn(t.done,t.undone.addTransform(r,void 0,n,Pc(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){var o=r.getMeta("composition"),l=t.prevTime==0||!a&&t.prevComposition!=o&&(t.prevTime<(r.time||0)-n.newGroupDelay||!nq(r,t.prevRanges)),u=a?ag(t.prevRanges,r.mapping):wP(r.mapping.maps);return new Zn(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,Pc(e)),ba.empty,u,r.time,o??t.prevComposition)}else return(s=r.getMeta("rebased"))?new Zn(t.done.rebased(r,s),t.undone.rebased(r,s),ag(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new Zn(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),ag(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function nq(t,e){if(!e)return!1;if(!t.docChanged)return!0;var r=!1;return t.mapping.maps[0].forEach(function(n,i){for(var s=0;s<e.length;s+=2)n<=e[s+1]&&i>=e[s]&&(r=!0)}),r}function wP(t){for(var e=[],r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach(function(n,i,s,a){return e.push(s,a)});return e}function ag(t,e){if(!t)return null;for(var r=[],n=0;n<t.length;n+=2){var i=e.map(t[n],1),s=e.map(t[n+1],-1);i<=s&&r.push(i,s)}return r}function iq(t,e,r){var n=Pc(e),i=Ur.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,n);if(!s)return null;var a=s.selection.resolve(s.transform.doc),o=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,n),l=new Zn(r?o:s.remaining,r?s.remaining:o,null,0,-1);return s.transform.setSelection(a).setMeta(Ur,{redo:r,historyState:l})}var lg=!1,bP=null;function Pc(t){var e=t.plugins;if(bP!=e){lg=!1,bP=e;for(var r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){lg=!0;break}}return lg}function sq(t){return t.setMeta(xP,!0)}var Ur=new fg.PluginKey("history"),xP=new fg.PluginKey("closeHistory");function oq(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new fg.Plugin({key:Ur,state:{init:function(){return new Zn(ba.empty,ba.empty,null,0,-1)},apply:function(r,n,i){return rq(n,i,r,t)}},config:t,props:{handleDOMEvents:{beforeinput:function(r,n){var i=n.inputType,s=i=="historyUndo"?EP:i=="historyRedo"?SP:null;return!s||!r.editable?!1:(n.preventDefault(),s(r.state,r.dispatch))}}}})}function Dc(t,e){return function(r,n){var i=Ur.getState(r);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(n){var s=iq(i,r,t);s&&n(e?s.scrollIntoView():s)}return!0}}var EP=Dc(!1,!0),SP=Dc(!0,!0),aq=Dc(!1,!1),lq=Dc(!0,!1);function uq(t){var e=Ur.getState(t);return e?e.done.eventCount:0}function cq(t){var e=Ur.getState(t);return e?e.undone.eventCount:0}function fq(t){return t.getMeta(Ur)!=null}Hr.closeHistory=sq;Hr.history=oq;Hr.isHistoryTransaction=fq;Hr.redo=SP;Hr.redoDepth=cq;Hr.redoNoScroll=lq;Hr.undo=EP;Hr.undoDepth=uq;Hr.undoNoScroll=aq});var TP=xe(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});function hq(t){Object.keys(t).filter(e=>e!=="default"&&e!=="__esModule").forEach(e=>{Mc.hasOwnProperty(e)||Object.defineProperty(Mc,e,{enumerable:!0,configurable:!0,get:()=>t[e]})})}var dq=kP();hq(dq)});var UP=xe((lee,BP)=>{"use strict";var mg=Object.defineProperty,pq=Object.getOwnPropertyDescriptor,mq=Object.getOwnPropertyNames,gq=Object.prototype.hasOwnProperty,vq=(t,e)=>{for(var r in e)mg(t,r,{get:e[r],enumerable:!0})},yq=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of mq(e))!gq.call(t,i)&&i!==r&&mg(t,i,{get:()=>e[i],enumerable:!(n=pq(e,i))||n.enumerable});return t},wq=t=>yq(mg({},"__esModule",{value:!0}),t),FP={};vq(FP,{CharacterCount:()=>_q,Dropcursor:()=>Sq,Focus:()=>Tq,Gapcursor:()=>Oq,Placeholder:()=>Nq,Selection:()=>Rq,TrailingNode:()=>Iq,UndoRedo:()=>Dq});BP.exports=wq(FP);var bq=Se(),AP=Pe(),_q=bq.Extension.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{let e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){let n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=t=>{let e=t?.node||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let t=!1;return[new AP.Plugin({key:new AP.PluginKey("characterCount"),appendTransaction:(e,r,n)=>{if(t)return;let i=this.options.limit;if(i==null||i===0){t=!0;return}let s=this.storage.characters({node:n.doc});if(s>i){let a=s-i,o=0,l=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);let u=n.tr.deleteRange(o,l);return t=!0,u}t=!0},filterTransaction:(e,r)=>{let n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;let i=this.storage.characters({node:r.doc}),s=this.storage.characters({node:e.doc});if(s<=n||i>n&&s>n&&s<=i)return!0;if(i>n&&s>n&&s>i||!e.getMeta("paste"))return!1;let o=e.selection.$head.pos,l=s-n,u=o-l,c=o;return e.deleteRange(u,c),!(this.storage.characters({node:e.doc})>n)}})]}}),xq=Se(),Eq=aP(),Sq=xq.Extension.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[(0,Eq.dropCursor)(this.options)]}}),kq=Se(),OP=Pe(),hg=jo(),Tq=kq.Extension.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new OP.Plugin({key:new OP.PluginKey("focus"),props:{decorations:({doc:t,selection:e})=>{let{isEditable:r,isFocused:n}=this.editor,{anchor:i}=e,s=[];if(!r||!n)return hg.DecorationSet.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((l,u)=>{if(l.isText)return;if(!(i>=u&&i<=u+l.nodeSize-1))return!1;a+=1});let o=0;return t.descendants((l,u)=>{if(l.isText||!(i>=u&&i<=u+l.nodeSize-1))return!1;if(o+=1,this.options.mode==="deepest"&&a-o>0||this.options.mode==="shallowest"&&o>1)return this.options.mode==="deepest";s.push(hg.Decoration.node(u,u+l.nodeSize,{class:this.options.className}))}),hg.DecorationSet.create(t,s)}}})]}}),dg=Se(),Aq=pP(),Oq=dg.Extension.create({name:"gapCursor",addProseMirrorPlugins(){return[(0,Aq.gapCursor)()]},extendNodeSchema(t){var e;let r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=(0,dg.callOrReturn)((0,dg.getExtensionField)(t,"allowGapCursor",r)))!=null?e:null}}}),NP=Se(),RP=Pe(),CP=jo(),Nq=NP.Extension.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something \u2026",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new RP.Plugin({key:new RP.PluginKey("placeholder"),props:{decorations:({doc:t,selection:e})=>{let r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,i=[];if(!r)return null;let s=this.editor.isEmpty;return t.descendants((a,o)=>{let l=n>=o&&n<=o+a.nodeSize,u=!a.isLeaf&&(0,NP.isNodeEmpty)(a);if((l||!this.options.showOnlyCurrent)&&u){let c=[this.options.emptyNodeClass];s&&c.push(this.options.emptyEditorClass);let f=CP.Decoration.node(o,o+a.nodeSize,{class:c.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:o,hasAnchor:l}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),CP.DecorationSet.create(t,i)}}})]}}),IP=Se(),PP=Pe(),DP=jo(),Rq=IP.Extension.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){let{editor:t,options:e}=this;return[new PP.Plugin({key:new PP.PluginKey("selection"),props:{decorations(r){return r.selection.empty||t.isFocused||!t.isEditable||(0,IP.isNodeSelection)(r.selection)||t.view.dragging?null:DP.DecorationSet.create(r.doc,[DP.Decoration.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}}),Cq=Se(),MP=Pe();function LP({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var Iq=Cq.Extension.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;let e=new MP.PluginKey(this.name),r=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(r).includes(i.name));return[new MP.Plugin({key:e,appendTransaction:(i,s,a)=>{let{doc:o,tr:l,schema:u}=a,c=e.getState(a),f=o.content.size,d=u.nodes[r];if(c)return l.insert(f,d.create())},state:{init:(i,s)=>{let a=s.tr.doc.lastChild;return!LP({node:a,types:n})},apply:(i,s)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return s;let a=i.doc.lastChild;return!LP({node:a,types:n})}}})]}}),Pq=Se(),pg=TP(),Dq=Pq.Extension.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>(0,pg.undo)(t,e),redo:()=>({state:t,dispatch:e})=>(0,pg.redo)(t,e)}},addProseMirrorPlugins(){return[(0,pg.history)(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}})});var vg=xe((uee,jP)=>{"use strict";var gg=Object.defineProperty,Mq=Object.getOwnPropertyDescriptor,Lq=Object.getOwnPropertyNames,Fq=Object.prototype.hasOwnProperty,Bq=(t,e)=>{for(var r in e)gg(t,r,{get:e[r],enumerable:!0})},Uq=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Lq(e))!Fq.call(t,i)&&i!==r&&gg(t,i,{get:()=>e[i],enumerable:!(n=Mq(e,i))||n.enumerable});return t},Hq=t=>Uq(gg({},"__esModule",{value:!0}),t),HP={};Bq(HP,{StarterKit:()=>zP,default:()=>rV});jP.exports=Hq(HP);var zq=Se(),jq=sC(),Wq=pC(),qq=bC(),Vq=TC(),Kq=RC(),Gq=MC(),$q=bm(),Jq=jC(),Xq=XC(),Yq=yI(),Lc=Xn(),Zq=tg(),Qq=JI(),eV=QI(),tV=Tc(),Fc=UP(),zP=zq.Extension.create({name:"starterKit",addExtensions(){var t,e,r,n;let i=[];return this.options.bold!==!1&&i.push(Wq.Bold.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(jq.Blockquote.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(Lc.BulletList.configure(this.options.bulletList)),this.options.code!==!1&&i.push(qq.Code.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(Vq.CodeBlock.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(Kq.Document.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(Fc.Dropcursor.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(Fc.Gapcursor.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(Gq.HardBreak.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push($q.Heading.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(Fc.UndoRedo.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(Jq.HorizontalRule.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(Xq.Italic.configure(this.options.italic)),this.options.listItem!==!1&&i.push(Lc.ListItem.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(Lc.ListKeymap.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(Yq.Link.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(Lc.OrderedList.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(Zq.Paragraph.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(Qq.Strike.configure(this.options.strike)),this.options.text!==!1&&i.push(eV.Text.configure(this.options.text)),this.options.underline!==!1&&i.push(tV.Underline.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&i.push(Fc.TrailingNode.configure((n=this.options)==null?void 0:n.trailingNode)),i}}),rV=zP});var VP=xe((cee,qP)=>{"use strict";var yg=Object.defineProperty,nV=Object.getOwnPropertyDescriptor,iV=Object.getOwnPropertyNames,sV=Object.prototype.hasOwnProperty,oV=(t,e)=>{for(var r in e)yg(t,r,{get:e[r],enumerable:!0})},aV=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of iV(e))!sV.call(t,i)&&i!==r&&yg(t,i,{get:()=>e[i],enumerable:!(n=nV(e,i))||n.enumerable});return t},lV=t=>aV(yg({},"__esModule",{value:!0}),t),WP={};oV(WP,{BulletList:()=>cV.BulletList,default:()=>fV});qP.exports=lV(WP);var uV=Xn(),cV=Xn(),fV=uV.BulletList});var $P=xe((fee,GP)=>{"use strict";var wg=Object.defineProperty,hV=Object.getOwnPropertyDescriptor,dV=Object.getOwnPropertyNames,pV=Object.prototype.hasOwnProperty,mV=(t,e)=>{for(var r in e)wg(t,r,{get:e[r],enumerable:!0})},gV=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of dV(e))!pV.call(t,i)&&i!==r&&wg(t,i,{get:()=>e[i],enumerable:!(n=hV(e,i))||n.enumerable});return t},vV=t=>gV(wg({},"__esModule",{value:!0}),t),KP={};mV(KP,{OrderedList:()=>wV.OrderedList,default:()=>bV});GP.exports=vV(KP);var yV=Xn(),wV=Xn(),bV=yV.OrderedList});var YP=xe((hee,XP)=>{"use strict";var bg=Object.defineProperty,_V=Object.getOwnPropertyDescriptor,xV=Object.getOwnPropertyNames,EV=Object.prototype.hasOwnProperty,SV=(t,e)=>{for(var r in e)bg(t,r,{get:e[r],enumerable:!0})},kV=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of xV(e))!EV.call(t,i)&&i!==r&&bg(t,i,{get:()=>e[i],enumerable:!(n=_V(e,i))||n.enumerable});return t},TV=t=>kV(bg({},"__esModule",{value:!0}),t),JP={};SV(JP,{ListItem:()=>OV.ListItem,default:()=>NV});XP.exports=TV(JP);var AV=Xn(),OV=Xn(),NV=AV.ListItem});var xg=xe((dee,tD)=>{"use strict";var _g=Object.defineProperty,RV=Object.getOwnPropertyDescriptor,CV=Object.getOwnPropertyNames,IV=Object.prototype.hasOwnProperty,PV=(t,e)=>{for(var r in e)_g(t,r,{get:e[r],enumerable:!0})},DV=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of CV(e))!IV.call(t,i)&&i!==r&&_g(t,i,{get:()=>e[i],enumerable:!(n=RV(e,i))||n.enumerable});return t},MV=t=>DV(_g({},"__esModule",{value:!0}),t),QP={};PV(QP,{Subscript:()=>eD,default:()=>LV});tD.exports=MV(QP);var ZP=Se(),eD=ZP.Mark.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(t){return t!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sub",(0,ZP.mergeAttributes)(this.options.HTMLAttributes,t),0]},addCommands(){return{setSubscript:()=>({commands:t})=>t.setMark(this.name),toggleSubscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSubscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),LV=eD});var Sg=xe((pee,sD)=>{"use strict";var Eg=Object.defineProperty,FV=Object.getOwnPropertyDescriptor,BV=Object.getOwnPropertyNames,UV=Object.prototype.hasOwnProperty,HV=(t,e)=>{for(var r in e)Eg(t,r,{get:e[r],enumerable:!0})},zV=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of BV(e))!UV.call(t,i)&&i!==r&&Eg(t,i,{get:()=>e[i],enumerable:!(n=FV(e,i))||n.enumerable});return t},jV=t=>zV(Eg({},"__esModule",{value:!0}),t),nD={};HV(nD,{Superscript:()=>iD,default:()=>WV});sD.exports=jV(nD);var rD=Se(),iD=rD.Mark.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(t){return t!=="super"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sup",(0,rD.mergeAttributes)(this.options.HTMLAttributes,t),0]},addCommands(){return{setSuperscript:()=>({commands:t})=>t.setMark(this.name),toggleSuperscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSuperscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),WV=iD});var Tg=xe((mee,mD)=>{"use strict";var kg=Object.defineProperty,qV=Object.getOwnPropertyDescriptor,VV=Object.getOwnPropertyNames,KV=Object.prototype.hasOwnProperty,GV=(t,e)=>{for(var r in e)kg(t,r,{get:e[r],enumerable:!0})},$V=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of VV(e))!KV.call(t,i)&&i!==r&&kg(t,i,{get:()=>e[i],enumerable:!(n=qV(e,i))||n.enumerable});return t},JV=t=>$V(kg({},"__esModule",{value:!0}),t),aD={};GV(aD,{BackgroundColor:()=>cD,Color:()=>fD,FontFamily:()=>hD,FontSize:()=>dD,LineHeight:()=>pD,TextStyle:()=>uD,TextStyleKit:()=>iK});mD.exports=JV(aD);var oD=Se(),XV=20,lD=(t,e=0)=>{let r=[];return!t.children.length||e>XV||Array.from(t.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(...lD(n,e+1))}),r},YV=t=>{if(!t.children.length)return;let e=lD(t);e&&e.forEach(r=>{var n,i;let s=r.getAttribute("style"),a=(i=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:i.getAttribute("style");r.setAttribute("style",`${a};${s}`)})},uD=oD.Mark.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&YV(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",(0,oD.mergeAttributes)(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{let{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||t.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),ZV=Se(),cD=ZV.Extension.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;let r=t.getAttribute("style");if(r){let n=r.split(";").map(i=>i.trim()).filter(Boolean);for(let i=n.length-1;i>=0;i-=1){let s=n[i].split(":");if(s.length>=2){let a=s[0].trim().toLowerCase(),o=s.slice(1).join(":").trim();if(a==="background-color")return o.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),QV=Se(),fD=QV.Extension.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;let r=t.getAttribute("style");if(r){let n=r.split(";").map(i=>i.trim()).filter(Boolean);for(let i=n.length-1;i>=0;i-=1){let s=n[i].split(":");if(s.length>=2){let a=s[0].trim().toLowerCase(),o=s.slice(1).join(":").trim();if(a==="color")return o.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),eK=Se(),hD=eK.Extension.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),tK=Se(),dD=tK.Extension.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),rK=Se(),pD=rK.Extension.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}}),nK=Se(),iK=nK.Extension.create({name:"textStyleKit",addExtensions(){let t=[];return this.options.backgroundColor!==!1&&t.push(cD.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(fD.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(hD.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(dD.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(pD.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(uD.configure(this.options.textStyle)),t}})});var Og=xe((gee,vD)=>{var{setIcon:gD}=require("obsidian"),Ag=class{constructor(e,r,n=[],i=[]){this.editor=e,this.containerEl=r,this.paragraphOptions=n,this.listOptions=i,this.el=null,this.isVisible=!1,this.currentMode="default",this.handleClickOutside=this.handleClickOutside.bind(this)}updateStyleOptions(e,r){if(this.paragraphOptions=e,this.listOptions=r,this.el&&this.sections&&this.sections[0]){this.sections[0].empty(),this.sections[0].createDiv({cls:"colophon-popover-label",text:"Paragraph Style"});let n=(this.paragraphOptions||[]).map(s=>({label:s.label,value:s.value,action:()=>this.applyStyle(s.value,s.type,s.listType)}));this.paragraphSelect=this.createSelectMenu(this.sections[0],n,"Paragraph Style"),this.sections[0].createDiv({cls:"colophon-popover-label",text:"List Style"});let i=(this.listOptions||[]).map(s=>({label:s.label,value:s.value,action:()=>this.applyStyle(s.value,s.type,s.listType)}));this.listSelect=this.createSelectMenu(this.sections[0],i,"List Style")}}applyStyle(e,r,n){if(!this.editor)return;if(r==="list"){if(e==="none"){this.editor.chain().focus().liftListItem("listItem").run();return}n==="ordered"?this.editor.chain().focus().toggleOrderedList().updateAttributes("orderedList",{class:e}).run():this.editor.chain().focus().toggleBulletList().updateAttributes("bulletList",{class:e}).run();return}let i=!1,s=1;e.startsWith("heading-")?(i=!0,s=parseInt(e.split("-")[1],10)):e==="title"&&(i=!0,s=1),i?this.editor.chain().focus().toggleHeading({level:s}).updateAttributes("heading",{class:e}).run():this.editor.chain().focus().setParagraph().updateAttributes("paragraph",{class:e}).run()}create(){this.el=document.createElement("div"),this.el.addClass("colophon-popover"),this.containerEl.appendChild(this.el),this.sections=[];let e=this.el.createDiv("colophon-popover-section");e.addClass("colophon-style-section"),e.createDiv({cls:"colophon-popover-label",text:"Paragraph Style"});let r=(this.paragraphOptions||[]).map(o=>({label:o.label,value:o.value,action:()=>this.applyStyle(o.value,o.type,o.listType)}));this.paragraphSelect=this.createSelectMenu(e,r,"Paragraph Style"),e.createDiv({cls:"colophon-popover-label",text:"List Style"});let n=(this.listOptions||[]).map(o=>({label:o.label,value:o.value,action:()=>this.applyStyle(o.value,o.type,o.listType)}));this.listSelect=this.createSelectMenu(e,n,"List Style"),this.sections.push(e);let i=this.el.createDiv("colophon-popover-section");this.createIconButton(i,"bold",()=>this.editor.chain().focus().toggleBold().run(),"isActive","bold"),this.createIconButton(i,"italic",()=>this.editor.chain().focus().toggleItalic().run(),"isActive","italic"),this.createIconButton(i,"underline",()=>this.editor.chain().focus().toggleUnderline().run(),"isActive","underline"),this.createIconButton(i,"strikethrough",()=>this.editor.chain().focus().toggleStrike().run(),"isActive","strike"),this.sections.push(i);let s=this.el.createDiv("colophon-popover-section");this.createIconButton(s,"superscript",()=>this.editor.chain().focus().toggleSuperscript().run(),"isActive","superscript"),this.createIconButton(s,"subscript",()=>this.editor.chain().focus().toggleSubscript().run(),"isActive","subscript"),this.createIconButton(s,"type",()=>this.editor.chain().focus().toggleSmallCaps().run(),"isActive","smallCaps").setAttribute("aria-label","Small Caps"),this.sections.push(s)}createSelectMenu(e,r,n="Select Style"){let i=e.createDiv("colophon-select-container"),s=i.createEl("button",{cls:"colophon-select-trigger"}),a=s.createSpan({cls:"colophon-select-label",text:n}),o=s.createSpan({cls:"colophon-select-icon"});gD(o,"chevron-down");let l=i.createDiv("colophon-select-dropdown");return l.style.display="none",s.addEventListener("click",u=>{u.preventDefault(),u.stopPropagation();let c=l.style.display==="none";l.style.display=c?"block":"none"}),r.forEach(u=>{let c=l.createEl("div",{cls:"colophon-select-item"});c.dataset.value=u.value,c.createSpan({text:u.label}),c.addEventListener("click",f=>{f.preventDefault(),f.stopPropagation(),u.action(),this.hide()})}),{container:i,trigger:s,labelSpan:a,dropdown:l,options:r}}updateSelectMenu(){this.editor&&(this.updateParagraphSelect(),this.updateListSelect())}updateParagraphSelect(){if(!this.paragraphSelect)return;let e="body";for(let i of this.paragraphOptions||[]){let s=i.value,a=!1;if(s.startsWith("heading-")||s==="title"?this.editor.isActive("heading",{class:s})&&(a=!0):this.editor.isActive("paragraph",{class:s})&&(a=!0),a){e=s;break}}let r=this.paragraphSelect.options.find(i=>i.value===e);this.paragraphSelect.labelSpan.innerText=r?r.label:"Paragraph Style",this.paragraphSelect.dropdown.querySelectorAll(".colophon-select-item").forEach(i=>{i.dataset.value===e?i.addClass("is-selected"):i.removeClass("is-selected")})}updateListSelect(){if(!this.listSelect)return;let e="none";for(let i of this.listOptions||[]){let s=i.value;if(s==="none")continue;let o=(i.listType||"unordered")==="ordered"?"orderedList":"bulletList";if(this.editor.isActive(o,{class:s})){e=s;break}}let r=this.listSelect.options.find(i=>i.value===e);this.listSelect.labelSpan.innerText=r?r.label:"List Style",this.listSelect.dropdown.querySelectorAll(".colophon-select-item").forEach(i=>{i.dataset.value===e?i.addClass("is-selected"):i.removeClass("is-selected")})}setMode(e){this.currentMode=e,this.el||this.create(),e==="footnote"?this.sections[0]&&(this.sections[0].style.display="none"):this.sections[0]&&(this.sections[0].style.display="flex")}createIconButton(e,r,n,i,s){let a=e.createEl("button",{cls:"colophon-popover-icon-btn"}),o=a.createSpan();return gD(o,r),a.addEventListener("click",l=>{l.preventDefault(),l.stopPropagation(),n(),this.hide()}),a._checkState=()=>{this.editor&&this.editor.isActive(s)?a.addClass("is-active"):a.removeClass("is-active")},a}updateButtonStates(){this.el.querySelectorAll(".colophon-popover-icon-btn").forEach(r=>{r._checkState&&r._checkState()})}show(e){(!this.el||!this.el.isConnected)&&(this.el&&this.el.remove(),this.create(),this.setMode(this.currentMode)),this.updateSelectMenu(),this.updateButtonStates(),this.el.addClass("is-visible"),this.isVisible=!0;let r=this.el.offsetWidth,n=this.el.offsetHeight,i=this.containerEl.offsetWidth,s=e.left+e.width/2-r/2,a=e.top-n-10,o=10,l=this.containerEl.scrollTop,u=this.containerEl.scrollLeft;s<u+o?s=u+o:s+r>u+i-o&&(s=u+i-r-o),a<l+o&&(a=e.top+e.height+10),this.el.style.left=`${s}px`,this.el.style.top=`${a}px`,document.addEventListener("click",this.handleClickOutside)}hide(){this.el&&(this.el.removeClass("is-visible"),this.isVisible=!1,document.removeEventListener("click",this.handleClickOutside),this.paragraphSelect&&this.paragraphSelect.dropdown&&(this.paragraphSelect.dropdown.style.display="none"),this.listSelect&&this.listSelect.dropdown&&(this.listSelect.dropdown.style.display="none"))}handleClickOutside(e){this.el&&!this.el.contains(e.target)&&this.hide()}destroy(){this.el&&this.el.remove(),document.removeEventListener("click",this.handleClickOutside)}};vD.exports=Ag});var wD=xe((vee,yD)=>{var{Node:sK,mergeAttributes:oK}=Se(),aK=sK.create({name:"footnote",group:"inline",inline:!0,atom:!0,addAttributes(){return{id:{default:null,parseHTML:t=>t.getAttribute("data-id"),renderHTML:t=>({"data-id":t.id})},number:{default:null}}},parseHTML(){return[{tag:'span[data-type="footnote"]'}]},renderHTML({HTMLAttributes:t}){return["span",oK(t,{"data-type":"footnote",class:"colophon-footnote"}),["sup",t.number||"#"]]},addCommands(){return{addFootnote:()=>({commands:t})=>{let e=`fn-${Date.now()}`;return t.insertContent({type:this.name,attrs:{id:e,number:"#"}})}}}});yD.exports=aK});var Ng=xe((yee,bD)=>{var{Extension:lK,InputRule:Ds}=Se(),uK=lK.create({name:"substitutions",addOptions(){return{smartQuotes:!0,smartDashes:!0,doubleQuoteStyle:"\u201C|\u201D",singleQuoteStyle:"\u2018|\u2019"}},addInputRules(){let t=[];if(this.options.smartDashes&&(t.push(new Ds({find:/---\s$/,handler:({state:e,range:r})=>e.tr.insertText("\u2014 ",r.from,r.to)})),t.push(new Ds({find:/--\s$/,handler:({state:e,range:r})=>e.tr.insertText("\u2013 ",r.from,r.to)}))),this.options.smartQuotes){let[e,r]=this.options.doubleQuoteStyle.split("|"),[n,i]=this.options.singleQuoteStyle.split("|");t.push(new Ds({find:/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,handler:({state:s,range:a,match:o})=>{let l=o[0],u=l.substring(0,l.length-1);return s.tr.insertText(u+e,a.from,a.to)}})),t.push(new Ds({find:/"$/,handler:({state:s,range:a})=>s.tr.insertText(r,a.from,a.to)})),t.push(new Ds({find:/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,handler:({state:s,range:a,match:o})=>{let l=o[0],u=l.substring(0,l.length-1);return s.tr.insertText(u+n,a.from,a.to)}})),t.push(new Ds({find:/'$/,handler:({state:s,range:a})=>s.tr.insertText(i,a.from,a.to)}))}return t}});bD.exports=uK});var xD=xe((bee,_D)=>{var{SuggestModal:cK}=require("obsidian"),{TextSelection:wee}=Pe(),Rg=class extends cK{constructor(e,r,n){super(e),this.app=e,this.editor=r,this.range=n,this.updateListener=()=>this.updateAndFilterSuggestions()}onOpen(){super.onOpen(),this.editor.on("update",this.updateListener),this.updateAndFilterSuggestions()}onClose(){super.onClose(),this.editor.off("update",this.updateListener)}updateAndFilterSuggestions(){let e=this.getEditorQuery();if(e===null){this.close();return}this.inputEl.value=e,this.onInput()}getEditorQuery(){try{let e=this.editor.state,r=e.selection.from;return r<this.range.from+2||e.doc.textBetween(this.range.from,this.range.from+2)!=="[["?null:e.doc.textBetween(this.range.from+2,r)}catch{return null}}getSuggestions(e){let r=this.app.vault.getMarkdownFiles();if(!e)return r;let n=e.toLowerCase();return r.filter(i=>i.path.toLowerCase().includes(n)||i.basename.toLowerCase().includes(n))}renderSuggestion(e,r){r.createEl("div",{text:e.basename}),r.createEl("small",{text:e.path})}onChooseSuggestion(e,r){let n=e.basename;if(this.editor&&!this.editor.isDestroyed){let{schema:i,tr:s}=this.editor.state,a=this.range.from,o=this.editor.state.selection.from;s.replaceWith(a,o,i.text(n,[i.marks.internallink.create({href:n})])),this.editor.view.dispatch(s)}}};_D.exports=Rg});var Cg=xe((_ee,SD)=>{var{Mark:fK,InputRule:hK,mergeAttributes:dK}=Se(),{Plugin:ED,PluginKey:pK}=Pe(),mK=xD(),gK=fK.create({name:"internallink",inclusive:!1,addOptions(){return{app:null,HTMLAttributes:{class:"internal-link"}}},parseHTML(){return[{tag:"a.internal-link"}]},addAttributes(){return{href:{default:null},text:{default:null}}},renderHTML({HTMLAttributes:t}){return["a",dK(this.options.HTMLAttributes,t),0]},addInputRules(){return[new hK({find:/\[\[([^|\]]+)(?:\|([^\]]+))?\]\]$/,handler:({state:t,range:e,match:r})=>{let{tr:n}=t,i=e.from,s=e.to,a=r[1],o=r[2],l=o||a;return n.replaceWith(i,s,t.schema.text(l,[t.schema.marks.internallink.create({href:a,text:o})])),n}})]},addProseMirrorPlugins(){let t=this,e=t.editor,r=(s,a)=>{let o=s.marks().find(f=>f.type===a);if(!o)return null;let l=s.pos,u=s.pos,c=s.index();for(let f=c;f>=0;f--){let d=s.parent.child(f);if(o.isInSet(d.marks))l=s.start()+d.content.findIndex(d).offset;else break}for(let f=c;f<s.parent.childCount;f++){let d=s.parent.child(f);if(o.isInSet(d.marks))u=s.start()+d.content.findIndex(d).offset+d.nodeSize;else break}return{from:l,to:u,mark:o}},n=new ED({key:new pK("internallink-live-preview"),state:{init(){return{activeLink:null}},apply(s,a,o,l){let{selection:u}=s,c=a.activeLink,f=null;if(c){let{from:d,to:h}=c,y=s.mapping.map(d),v=s.mapping.map(h);u.from>=y&&u.to<=v&&(f={from:y,to:v,text:l.doc.textBetween(y,v)})}if(u.empty){let d=r(u.$from,l.schema.marks.internallink);if(d){let{from:h,to:y,mark:v}=d,x=v.attrs.text,m=x?`[[${v.attrs.href}|${x}]]`:`[[${v.attrs.href}]]`;f={from:h,to:y,text:m,mark:v}}}return JSON.stringify(f)===JSON.stringify(c)?a:{activeLink:f}}},view(s){return{update:(a,o)=>{let l=this.key.getState(a.state),u=this.key.getState(o);if(l.activeLink&&!u.activeLink){let{from:c,to:f,text:d}=l.activeLink;a.dispatch(a.state.tr.removeMark(c,f).replaceWith(c,f,a.state.schema.text(d)).setMeta("addToHistory",!1))}else if(!l.activeLink&&u.activeLink){let{from:c,to:f}=u.activeLink,h=o.doc.textBetween(c,f).match(/\[\[([^|\]]+)(?:\|([^\]]+))?\]\]/),y=a.state.tr;if(h){let v=h[1],x=h[2],m=x||v;y.replaceWith(c,f,a.state.schema.text(m,[a.state.schema.marks.internallink.create({href:v,text:x})]))}y.docChanged&&a.dispatch(y)}}}}});return[new ED({props:{handleDOMEvents:{click(s,a){let o=a.target.closest(".internal-link");if(!o)return!1;let l=o.getAttribute("href");if(l&&t.options.app){a.preventDefault(),a.stopPropagation();let u=t.options.getFilePath?t.options.getFilePath():"",c=navigator.platform.toUpperCase().indexOf("MAC")>=0?a.metaKey:a.ctrlKey,f=a.altKey;return c&&f?t.options.app.workspace.openLinkText(l,u,"split"):c?t.options.app.workspace.openLinkText(l,u,"tab"):t.options.app.workspace.openLinkText(l,u,!1),!0}return!1}},handleTextInput(s,a,o,l){return l==="["&&t.options.app&&s.state.doc.textBetween(a-1,a)==="["&&setTimeout(()=>{new mK(t.options.app,t.editor,{from:a-1,to:a+1}).open()},0),!1}}}),n]}});SD.exports=gK});var TD=xe((xee,kD)=>{var{Mark:vK,InputRule:yK,mergeAttributes:wK}=Se(),{Plugin:bK}=Pe(),_K=vK.create({name:"standardLink",inclusive:!1,addOptions(){return{app:null,HTMLAttributes:{class:"standard-link"}}},addAttributes(){return{href:{default:null}}},parseHTML(){return[{tag:"a[href]:not(.internal-link)"}]},renderHTML({HTMLAttributes:t}){return["a",wK(this.options.HTMLAttributes,t),0]},addInputRules(){return[new yK({find:/\[([^\]]+)\]\(([^)]+)\)$/,handler:({state:t,range:e,match:r})=>{let{tr:n}=t,i=e.from,s=e.to,a=r[1],o=r[2];return n.replaceWith(i,s,t.schema.text(a,[t.schema.marks.standardLink.create({href:o})])),n}})]},addProseMirrorPlugins(){let t=this;return[new bK({props:{handleDOMEvents:{click(e,r){let n=r.target.closest("a.standard-link");if(!n)return!1;let i=n.getAttribute("href");if(i&&t.options.app){if(r.preventDefault(),r.stopPropagation(),/^(http|https|mailto|tel):/.test(i))return window.open(i,"_blank"),!0;let a=t.options.getFilePath?t.options.getFilePath():"",o=navigator.platform.toUpperCase().indexOf("MAC")>=0?r.metaKey:r.ctrlKey,l=r.altKey;return o&&l?t.options.app.workspace.openLinkText(i,a,"split"):o?t.options.app.workspace.openLinkText(i,a,"tab"):t.options.app.workspace.openLinkText(i,a,!1),!0}return!1}}}})]}});kD.exports=_K});var OD=xe((Eee,AD)=>{var Ig=class{constructor(){this.styles={}}generateCSS(e){this.styles=e;let r="",n=1;if(e.scale){let i=String(e.scale);i.endsWith("%")?n=parseFloat(i)/100:n=parseFloat(i),isNaN(n)&&(n=1)}for(let[i,s]of Object.entries(e))if(i!=="scale")if(s.type==="list"){let a=this.generateListCSS(i,s,n);a&&(r+=a)}else{let a=this.getSelector(i),o=this.mapStyleToCSS(s,n);o&&(r+=`${a} {
${o}
}
`)}return r}getSelector(e){let r=".colophon-workspace .ProseMirror";if(e.startsWith("heading-")){let n=e.split("-")[1];return`${r} h${n}.${e}`}else return e==="title"?`${r} h1.title`:e==="supertitle"?`${r} p.supertitle`:e==="footnote"?".colophon-footnote-view .colophon-footnote-editor-content p":e==="footnote-number"?"span.colophon-footnote-number":`${r} p.${e}`}mapStyleToCSS(e,r=1){let n=[];if(e["font-family"]&&n.push(`    font-family: ${this.formatFontFamily(e["font-family"])};`),e["font-size"]&&n.push(`    font-size: ${this.convertValue(e["font-size"],"font-size",r)};`),e["text-align"]&&n.push(`    text-align: ${e["text-align"]};`),e["line-spacing"]&&n.push(`    line-height: ${this.convertValue(e["line-spacing"],"line-spacing",r)};`),e["before-paragraph"]&&n.push(`    margin-top: ${this.convertValue(e["before-paragraph"],"spacing",r)};`),e["after-paragraph"]&&n.push(`    margin-bottom: ${this.convertValue(e["after-paragraph"],"spacing",r)};`),e["first-indent"]&&n.push(`    text-indent: ${this.convertValue(e["first-indent"],"indent",r)};`),e["left-indent"]&&n.push(`    margin-left: ${this.convertValue(e["left-indent"],"indent",r)};`),e["right-indent"]&&n.push(`    margin-right: ${this.convertValue(e["right-indent"],"indent",r)};`),e["font-variant"]){let i=e["font-variant"].toLowerCase();i==="italic"?n.push("    font-style: italic;"):i==="bold"?n.push("    font-weight: bold;"):i==="small-caps"?n.push("    font-variant: small-caps;"):(n.push("    font-style: normal;"),n.push("    font-weight: normal;"),n.push("    font-variant: normal;"))}return e.capitalization&&(e.capitalization==="small-caps"?n.push("    font-variant: small-caps;"):n.push(`    text-transform: ${e.capitalization};`)),e["character-spacing"]&&n.push(`    letter-spacing: ${e["character-spacing"]};`),e["keep-with-next"]&&(n.push("    page-break-after: avoid;"),n.push("    break-after: avoid;")),e.color&&n.push(`    color: ${e.color};`),e["font-weight"]&&n.push(`    font-weight: ${e["font-weight"]};`),n.join(`
`)}generateListCSS(e,r,n=1){let i="",s=r.defaults||{},a=r.levels||{};for(let o=1;o<=9;o++){let l={...s,...a[o]||{}},u=`.colophon-workspace .ProseMirror :is(ul, ol).${e}`;if(o>1){let m=o-1;for(let _=0;_<m;_++)u+=" > li > :is(ul, ol)"}let c=`    list-style-type: none;
    padding-left: 0;
    margin-left: 0;
    margin-top: 0;
    margin-bottom: 0;
`;(l["list-type"]==="ordered"||l.type==="ordered")&&(c+=`    counter-reset: colophon-list-item;
`),i+=`${u} {
${c}}
`;let f=`${u} > li`,d=this.convertValue(l["text-indent"],"indent",n),h=this.convertValue(l["marker-indent"],"indent",n),y=`    position: relative;
`;y+=`    padding-left: ${d};
`,y+=`    margin-left: 0;
`,i+=`${f} {
${y}}
`,i+=`${f} > p {
    position: relative;
    text-indent: 0;
    margin: 0;
}
`;let v=`    position: absolute;
`;if(v+=`    left: calc(${h} - ${d});
`,v+=`    top: 0;
`,l.align){let m=this.convertValue(l.align,"indent",n);v+=`    transform: translateY(calc(-1 * ${m}));
`}if(l.color&&l.color!=="inherit"&&(v+=`    color: ${l.color};
`),l.size&&(v+=`    font-size: ${l.size};
`),l["font-weight"]&&(v+=`    font-weight: ${l["font-weight"]};
`),l["list-type"]==="ordered"||l.type==="ordered"){let m=l.marker||"decimal",_=l.suffix||".";v+=`    counter-increment: colophon-list-item;
`,v+=`    content: counter(colophon-list-item, ${m}) "${_}";
`}else{let _=(l.marker||"\u2022").replace(/"/g,'\\"');v+=`    content: "${_}";
`}i+=`${f} > p:first-child::before {
${v}}
`}return i}convertValue(e,r,n=1){if(typeof e!="string"&&typeof e!="number")return e;let i=String(e),s=parseFloat(i);if(isNaN(s))return e;let a=s*n;if(i.endsWith("in"))return`${(a*6).toFixed(3)}rem`;if(r==="font-size"){if(i.endsWith("pt"))return`${(a/12).toFixed(3)}rem`}else if(r!=="indent"){if(r==="line-spacing"){if(i.endsWith("pt"))return`${(a/12).toFixed(3)}rem`;if(!i.match(/[a-z%]/i))return i}else if(r==="spacing"&&i.endsWith("pt"))return`${(a/12).toFixed(3)}rem`}return e}formatFontFamily(e){let r=String(e).trim();return r.includes("var(")||r.includes(",")||r.startsWith('"')&&r.endsWith('"')||r.startsWith("'")&&r.endsWith("'")?r:r.includes(" ")?`"${r}"`:r}getStyleOptions(e){let r=[],n=[];n.push({label:"None",value:"none",type:"list"});for(let[i,s]of Object.entries(e)){if(i==="scale"||i==="footnote"||i==="footnote-number")continue;let a=s.type||"paragraph",o={label:s.name||i,value:i,type:a,listType:s.defaults?.["list-type"]||"unordered"};a==="list"?n.push(o):(a==="paragraph"||!a)&&r.push(o)}return{paragraphOptions:r,listOptions:n}}};AD.exports=Ig});var RD=xe((See,ND)=>{var xK={scale:"100%",supertitle:{name:"Supertitle",type:"paragraph","font-size":"11.5pt","text-align":"center","line-spacing":"14pt","before-paragraph":"0pt","after-paragraph":"18pt","font-family":"var(--font-text-theme), var(--font-text-override)","font-variant":"Regular"},title:{name:"Title",type:"paragraph","font-size":"18pt","text-align":"center","line-spacing":"18pt","before-paragraph":"0pt","after-paragraph":"4pt","font-family":"var(--font-text-theme), var(--font-text-override)","font-variant":"Regular"},subtitle:{name:"Subtitle",type:"paragraph","font-family":"var(--font-text-theme), var(--font-text-override)","font-variant":"Regular","font-size":"14pt","line-spacing":"18pt","after-paragraph":"28pt","text-align":"center"},epigraph:{name:"Epigraph",type:"paragraph","font-family":"var(--font-text-theme), var(--font-text-override)","font-variant":"Regular","font-size":"11.5pt","line-spacing":"16pt","left-indent":"1in","right-indent":"1in","before-paragraph":"48pt","after-paragraph":"56pt"},"body-first":{name:"Body First",type:"paragraph","font-size":"11.5pt","text-align":"left","first-indent":"0in","left-indent":"0in","right-indent":"0in","line-spacing":"16pt","before-paragraph":"0pt","after-paragraph":"0pt","font-family":"var(--font-text-theme), var(--font-text-override)","font-variant":"Regular","following-style":"body"},body:{name:"Body",type:"paragraph","font-size":"11.5pt","text-align":"left","first-indent":"0.3in","left-indent":"0in","right-indent":"0in","line-spacing":"16pt","before-paragraph":"0pt","after-paragraph":"0pt","font-family":"var(--font-text-theme), var(--font-text-override)","font-variant":"Regular"},footnote:{name:"Footnote",type:"paragraph","font-size":"7pt","text-align":"left","first-indent":"0in","left-indent":"0in","right-indent":"0in","line-spacing":"9pt","before-paragraph":"0pt","after-paragraph":"0pt","font-family":"var(--font-text-theme), var(--font-text-override)","font-variant":"Regular","space-between-notes":"10pt",format:"1, 2, 3, \u2026",numbering:"continuous"},"footnote-number":{name:"Footnote Number",type:"pararaph","font-weight":"bold","font-family":"var(--font-text-theme), var(--font-text-override)",color:"var(--text-accent)","font-size":"7pt","line-spacing":"9pt"},"heading-1":{name:"Heading 1",type:"paragraph","font-size":"11.5pt","text-align":"left","first-indent":"0in","left-indent":"0in","right-indent":"0in","line-spacing":"28pt","before-paragraph":"28pt","after-paragraph":"14pt","font-family":"var(--font-text-theme), var(--font-text-override)","font-variant":"Italic","keep-with-next":!0,"following-style":"body-first"},"heading-2":{name:"Heading 2",type:"paragraph","font-size":"11.5pt","text-align":"left","first-indent":"0in","left-indent":"0in","right-indent":"0in","line-spacing":"28pt","before-paragraph":"28pt","after-paragraph":"14pt","font-family":"var(--font-text-theme), var(--font-text-override)","font-variant":"Regular",capitalization:"small-caps","character-spacing":"2%","keep-with-next":!0,"following-style":"body-first"},"heading-3":{name:"Heading 3",type:"paragraph","font-size":"11.5pt","text-align":"center","first-indent":"0in","left-indent":"0in","right-indent":"0in","line-spacing":"28pt","before-paragraph":"28pt","after-paragraph":"14pt","font-family":"var(--font-text-theme), var(--font-text-override)","font-variant":"Regular","keep-with-next":!0,"following-style":"body-first"},bullet:{name:"Bullet",type:"list",defaults:{"list-type":"unordered",marker:"\u2022",color:"inherit",size:"100%",align:"0pt","marker-indent":"0in","text-indent":"0.25in"}},numbered:{name:"Numbered",type:"list",defaults:{"list-type":"ordered",marker:"decimal",suffix:".",color:"inherit",size:"100%",align:"0pt","marker-indent":"0in","text-indent":"0.25in"}}};ND.exports=xK});var ID=xe((Tee,CD)=>{var{Editor:EK,Mark:SK,Extension:kK,mergeAttributes:TK}=Se(),{StarterKit:AK}=vg(),{Paragraph:OK}=tg(),{Heading:NK}=bm(),{BulletList:RK}=VP(),{OrderedList:CK}=$P(),{ListItem:IK}=YP(),PK=Tc(),{Subscript:DK}=xg(),{Superscript:MK}=Sg(),LK=Tg(),{InputRule:kee}=Se(),FK=Og(),BK=wD(),UK=Ng(),HK=Cg(),zK=TD(),jK=OD(),WK=RD(),{parseYaml:qK}=require("obsidian"),VK=kK.create({name:"enterKeyHandler",addKeyboardShortcuts(){return{Enter:()=>{let{state:t}=this.editor,{$from:e}=t.selection;return e.parent.attrs.class!=="body"?this.editor.chain().focus().splitBlock().setNode("paragraph",{class:"body"}).run():this.editor.commands.splitBlock()}}}}),KK=OK.extend({addAttributes(){return{class:{default:"body",parseHTML:t=>t.getAttribute("class"),renderHTML:t=>t.class?{class:t.class}:{}}}}}),GK=NK.extend({addAttributes(){return{...this.parent?.(),level:{default:1,keepOnSplit:!1},class:{default:"heading-1",parseHTML:t=>t.getAttribute("class"),renderHTML:t=>t.class?{class:t.class}:{}}}}}),$K=RK.extend({addAttributes(){return{class:{default:"bullet",parseHTML:t=>t.getAttribute("class"),renderHTML:t=>({class:t.class})}}}}),JK=CK.extend({addAttributes(){return{class:{default:"ordered",parseHTML:t=>t.getAttribute("class"),renderHTML:t=>({class:t.class})}}}}),XK=IK.extend({}),YK=SK.create({name:"smallCaps",parseHTML(){return[{style:"font-variant",getAttrs:t=>t==="small-caps"?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",TK(t,{style:"font-variant: small-caps"}),0]},addCommands(){return{toggleSmallCaps:()=>({commands:t})=>t.toggleMark(this.name)}}}),Pg=class{constructor(e,r,n,i,s){this.app=e,this.containerEl=r,this.isSpellcheckEnabled=n,this.settings=i,this.onUpdate=s,this.editor=null,this.isLoaded=!1,this.popover=null,this.footnotes=[],this.listeners=[],this.styleManager=new jK,this.paragraphOptions=[],this.listOptions=[]}normalizeDoc(e){return!e||!e.content||e.content.forEach(r=>{if(r.type==="paragraph")(!r.attrs||r.attrs.class===null||r.attrs.class===void 0)&&(r.attrs={...r.attrs,class:"body"});else if(r.type==="heading"&&(!r.attrs||r.attrs.class===null||r.attrs.class===void 0)){let n=r.attrs?.level||1;r.attrs={...r.attrs,class:`heading-${n}`}}}),e}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(r=>r!==e)}}updateSettings(e){this.settings=e,this.loadStyles(),this.editor&&this.handleScroll()}load(e,r,n){this.filePath=n,this.editor&&this.editor.destroy();let i=null;r&&(r.doc?(i=r.doc,this.footnotes=r.footnotes||[]):(i=r,this.footnotes=[])),i||(i={type:"doc",content:e.split(`

`).map(s=>({type:"paragraph",content:s.trim()?[{type:"text",text:s.trim()}]:[]}))},this.footnotes=[]),i=this.normalizeDoc(i),this.initEditor(i),this.isLoaded=!0}initEditor(e){let r=this.containerEl.createDiv("colophon-editor-host");this.loadStyles().then(()=>{}),this.editor=new EK({element:r,extensions:[AK.configure({paragraph:!1,heading:!1,bulletList:!1,orderedList:!1,listItem:!1}),VK,KK,GK,$K,JK,XK,PK,DK,MK,LK,YK,BK,UK.configure({smartQuotes:this.settings.smartQuotes,smartDashes:this.settings.smartDashes,doubleQuoteStyle:this.settings.doubleQuoteStyle,singleQuoteStyle:this.settings.singleQuoteStyle}),HK.configure({app:this.app,getFilePath:()=>this.filePath}),zK.configure({app:this.app,getFilePath:()=>this.filePath})],editorProps:{attributes:{spellcheck:this.isSpellcheckEnabled?"true":"false"}},content:e,onUpdate:({editor:n})=>{this.triggerUpdate()},onSelectionUpdate:({editor:n})=>{this.handleScroll()}}),this.popover=new FK(this.editor,this.containerEl,this.paragraphOptions||[],this.listOptions||[]),this.popover.setMode("default"),this.editor.view.dom.addEventListener("contextmenu",n=>{let{from:i,to:s}=this.editor.state.selection;if(i!==s){n.preventDefault();let a=window.getSelection();if(a.rangeCount>0){let l=a.getRangeAt(0).getBoundingClientRect(),u=this.containerEl.getBoundingClientRect(),c={left:l.left-u.left+this.containerEl.scrollLeft,top:l.top-u.top+this.containerEl.scrollTop,width:l.width,height:l.height};this.popover.show(c)}}})}async loadStyles(){try{let e={...WK},r=this.settings.stylesFolder||"snippets",n=`${this.app.vault.configDir}/${r}`;if(await this.app.vault.adapter.exists(n))for(let o of this.settings.enabledStyles||[]){let l=`${n}/${o}`;if(await this.app.vault.adapter.exists(l))try{let u=await this.app.vault.adapter.read(l),c=qK(u);for(let[f,d]of Object.entries(c))e[f]&&typeof e[f]=="object"&&!Array.isArray(e[f])&&d&&typeof d=="object"&&!Array.isArray(d)?e[f]={...e[f],...d}:e[f]=d}catch(u){console.error(`Colophon: Failed to load style file ${o}`,u)}}let i=this.styleManager.generateCSS(e);this.injectStyles(i);let{paragraphOptions:s,listOptions:a}=this.styleManager.getStyleOptions(e);this.paragraphOptions=s,this.listOptions=a,this.popover&&this.popover.updateStyleOptions(this.paragraphOptions,this.listOptions)}catch(e){console.error("Colophon: Failed to load styles",e)}}injectStyles(e){let r="colophon-dynamic-styles",n=document.getElementById(r);n||(n=document.createElement("style"),n.id=r,document.head.appendChild(n)),n.textContent=e}handleScroll(){if(!this.editor||!this.editor.view.hasFocus())return;let{state:e}=this.editor;if(!e.selection.empty)return;let r=this.editor.view,n=e.selection.from,i=r.coordsAtPos(n),s=this.containerEl.getBoundingClientRect();if(this.settings.fixedFeedPosition){let o=1-(this.settings.feedPadding||0)/100,l=s.height*o,u=s.top+l,f=i.bottom-u;Math.abs(f)>2&&this.containerEl.scrollBy({top:f,behavior:"smooth"})}else if(i.top<s.top+20){let o=i.top-(s.top+20);this.containerEl.scrollBy({top:o,behavior:"auto"})}else if(i.bottom>s.bottom-20){let o=i.bottom-(s.bottom-20);this.containerEl.scrollBy({top:o,behavior:"auto"})}}triggerUpdate(){if(!this.editor)return;let e=[],r=1,n=!1;this.editor.state.doc.descendants((s,a)=>{if(s.type.name==="footnote"){let o=String(r++);e.push({id:s.attrs.id,number:o,pos:a}),s.attrs.number!==o&&(n=!0)}});let i=e.map(s=>{let a=this.footnotes.find(o=>o.id===s.id);return{id:s.id,number:s.number,content:a?a.content:""}});this.footnotes=i,n&&Promise.resolve().then(()=>{if(!this.editor||this.editor.isDestroyed)return;let s=this.editor.state.tr,a=!1;this.editor.state.doc.descendants((o,l)=>{if(o.type.name==="footnote"){let u=e.find(c=>c.id===o.attrs.id)?.number;u&&o.attrs.number!==u&&(s.setNodeMarkup(l,null,{...o.attrs,number:u}),a=!0)}}),a&&this.editor.view.dispatch(s)}),this.onUpdate&&this.onUpdate({doc:this.editor.getJSON(),footnotes:this.footnotes}),this.listeners.forEach(s=>s())}addFootnote(){if(this.editor){let e=`fn-${Date.now()}`;return this.editor.chain().focus().insertContent({type:"footnote",attrs:{id:e,number:"#"}}).run(),e}}updateFootnote(e,r){let n=this.footnotes.find(i=>i.id===e);n&&(n.content=r,this.onUpdate&&this.onUpdate({doc:this.editor.getJSON(),footnotes:this.footnotes}))}getFootnotes(){return this.footnotes}destroy(){this.popover&&this.popover.destroy(),this.editor&&(this.editor.destroy(),this.editor=null)}focus(){this.editor&&this.editor.commands.focus()}};CD.exports=Pg});var DD=xe((Aee,PD)=>{function ZK(t){let e=t,r="",n=null,i=/^---\n[\s\S]*?\n---\n/,s=t.match(i);s&&(r=s[0],e=e.substring(r.length));let a=/%% colophon:data\s*(\{[\s\S]*?\})\s*%%$/,o=e.match(a);if(o)try{n=JSON.parse(o[1]),e=e.replace(a,"").trimEnd()}catch(l){console.error("Colophon: Failed to parse sidecar data",l)}return{markdown:e,data:n,frontmatter:r}}function QK(t,e,r=""){let n=r+t;if(e){let i=JSON.stringify(e,null,2);n=`${n.trimEnd()}

%% colophon:data ${i} %%`}return n}PD.exports={parseFile:ZK,serializeFile:QK}});var FD=xe((Ree,LD)=>{var{FileView:eG,WorkspaceLeaf:Oee,Notice:Nee,debounce:tG}=require("obsidian"),rG=ID(),{parseFile:nG,serializeFile:iG}=DD(),MD="colophon-view",Dg=class extends eG{constructor(e,r,n){super(e),this.plugin=n,this.settings=r||{textColumnWidth:1080},this.adapter=null,this.data=null,this.markdownBody="",this.frontmatter="",this.themeToggleBtn=null,this.loaderEl=null,this.isForcedLight=!1,this.save=tG(this.save.bind(this),1e3,!0)}getViewType(){return MD}getDisplayText(){return this.file?this.file.basename:"No File"}getIcon(){return"feather"}async onOpen(){this.contentEl.empty(),this.contentEl.addClass("colophon-workspace"),this.applySettings(),this.themeToggleBtn=this.addAction("sun-moon","Enable white canvas mode for this note",()=>{this.toggleTheme()}),this.showLoader();let e=this.app.vault.getConfig("spellcheck");this.adapter=new rG(this.app,this.contentEl,e,this.settings,r=>{this.data=r,this.save()}),this.registerEvent(this.app.workspace.on("css-change",()=>{this.isForcedLight&&this.updateCanvasTheme()}))}onPaneMenu(e,r){super.onPaneMenu(e,r),e.addItem(n=>{n.setTitle("Export to DOCX").setIcon("document").onClick(async()=>{this.plugin.exportToDocx(this)})})}showLoader(){this.loaderEl||(this.loaderEl=this.contentEl.createDiv("colophon-loader"),this.loaderEl.createDiv("colophon-loader-spinner"),this.loaderEl.createSpan({text:"Loading Manuscript..."}))}hideLoader(){this.loaderEl&&(this.loaderEl.remove(),this.loaderEl=null)}toggleTheme(){this.isForcedLight=!this.isForcedLight,this.themeToggleBtn&&(this.themeToggleBtn.classList.toggle("is-active",this.isForcedLight),this.isForcedLight?this.themeToggleBtn.setAttribute("aria-label","Disable white canvas mode for this note"):this.themeToggleBtn.setAttribute("aria-label","Enable white canvas mode for this note")),this.updateCanvasTheme()}updateCanvasTheme(){let e=["--background-primary","--text-normal","--text-muted","--text-accent","--text-selection","--background-modifier-border"];if(this.isForcedLight){let r=this.extractThemeVars("theme-light");for(let[n,i]of Object.entries(r))i&&this.contentEl.style.setProperty(n,i);this.contentEl.classList.add("colophon-forced-theme")}else{for(let r of e)this.contentEl.style.removeProperty(r);this.contentEl.classList.remove("colophon-forced-theme")}}extractThemeVars(e){let r=document.createElement("div");r.classList.add(e),r.style.display="none",document.body.appendChild(r);let n=window.getComputedStyle(r),i={"--background-primary":n.getPropertyValue("--background-primary").trim(),"--text-normal":n.getPropertyValue("--text-normal").trim(),"--text-muted":n.getPropertyValue("--text-muted").trim(),"--text-accent":n.getPropertyValue("--text-accent").trim(),"--text-selection":n.getPropertyValue("--text-selection").trim(),"--background-modifier-border":n.getPropertyValue("--background-modifier-border").trim()};return document.body.removeChild(r),i}updateSettings(e){this.settings=e,this.applySettings(),this.adapter&&this.adapter.updateSettings(this.settings)}applySettings(){this.contentEl&&this.contentEl.style.setProperty("--colophon-editor-width",`${this.settings.textColumnWidth}px`)}async onClose(){this.adapter&&this.adapter.destroy()}async onLoadFile(e){!this.loaderEl&&!this.adapter?.isLoaded&&this.showLoader();let r=await this.app.vault.read(e),{markdown:n,data:i,frontmatter:s}=nG(r);this.markdownBody=n,this.data=i,this.frontmatter=s,this.adapter&&(this.adapter.load(n,i,this.file.path),this.hideLoader())}async onUnloadFile(e){this.adapter}async save(){if(!this.file||!this.data)return;let e=iG(this.markdownBody,this.data,this.frontmatter);await this.app.vault.modify(this.file,e)}async insertFootnote(){if(this.adapter){let e=this.adapter.addFootnote();if(e){await this.plugin.activateFootnoteView();let r=this.app.workspace.getLeavesOfType("colophon-footnote-view");if(r.length>0){let n=r[0].view;n&&(n.render(),setTimeout(()=>{n.focusFootnote(e)},50))}}}}};LD.exports={ColophonView:Dg,VIEW_TYPE:MD}});var HD=xe((Mee,UD)=>{var{ItemView:sG,WorkspaceLeaf:Cee,Notice:Iee,setIcon:Pee}=require("obsidian"),{Editor:oG,mergeAttributes:Dee}=Se(),{StarterKit:aG}=vg(),lG=Tc(),{Subscript:uG}=xg(),{Superscript:cG}=Sg(),fG=Tg(),hG=Og(),dG=Ng(),pG=Cg(),BD="colophon-footnote-view",Mg=class extends sG{constructor(e,r,n){super(e),this.settings=r||{smartQuotes:!0,smartDashes:!0,doubleQuoteStyle:"\u201C|\u201D",singleQuoteStyle:"\u2018|\u2019"},this.isSpellcheckEnabled=n,this.adapter=null,this.editors=new Map,this.popover=null}getViewType(){return BD}getDisplayText(){return"Footnotes"}getIcon(){return"list-ordered"}async onOpen(){let e=this.contentEl;e.empty(),e.addClass("colophon-footnote-view"),this.popover=new hG(null,e),this.popover.setMode("footnote"),this.render()}async onClose(){this.editors.forEach(e=>e.destroy()),this.editors.clear(),this.popover&&this.popover.destroy(),this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}updateSettings(e){this.settings=e,this.render(!0)}setAdapter(e){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null),this.adapter=e,this.adapter&&(this.unsubscribe=this.adapter.subscribe(()=>{this.render()})),this.render()}render(e=!1){let r=this.contentEl;if(!this.adapter){r.empty(),this.editors.forEach(a=>a.destroy()),this.editors.clear(),r.createEl("div",{text:"No active manuscript.",cls:"colophon-footnote-empty"});return}let n=this.adapter.getFootnotes();if(!n||n.length===0){r.empty(),this.editors.forEach(a=>a.destroy()),this.editors.clear(),r.createEl("div",{text:"No footnotes yet.",cls:"colophon-footnote-empty"});return}let i=r.querySelector(".colophon-footnote-list");i||(r.empty(),i=r.createEl("div",{cls:"colophon-footnote-list"}));let s=new Set(n.map(a=>a.id));for(let[a,o]of this.editors)if(!s.has(a)||e){o.destroy(),this.editors.delete(a);let l=i.querySelector(`[data-footnote-id="${a}"]`);l&&l.remove()}n.forEach((a,o)=>{let l=i.querySelector(`[data-footnote-id="${a.id}"]`);if(l){let u=l.querySelector(".colophon-footnote-number");u&&(u.innerText=`${a.number||o+1}. `)}else{l=i.createEl("div",{cls:"colophon-footnote-item"}),l.dataset.footnoteId=a.id,l.createEl("div",{cls:"colophon-footnote-header"}).createSpan({text:`${a.number||o+1}. `,cls:"colophon-footnote-number"});let c=l.createEl("div",{cls:"colophon-footnote-editor-container"}),f=new oG({element:c,extensions:[aG,lG,uG,cG,fG,dG.configure({smartQuotes:this.settings.smartQuotes,smartDashes:this.settings.smartDashes,doubleQuoteStyle:this.settings.doubleQuoteStyle,singleQuoteStyle:this.settings.singleQuoteStyle}),pG.configure({app:this.app})],content:a.content,onUpdate:({editor:d})=>{this.adapter.updateFootnote(a.id,d.getJSON())},editorProps:{attributes:{class:"colophon-footnote-editor-content",spellcheck:this.isSpellcheckEnabled?"true":"false"}}});f.view.dom.addEventListener("contextmenu",d=>{let{from:h,to:y}=f.state.selection;if(h!==y){d.preventDefault(),d.stopPropagation(),this.popover.editor=f;let v=window.getSelection();if(v.rangeCount>0){let m=v.getRangeAt(0).getBoundingClientRect(),_=this.contentEl.getBoundingClientRect(),b={left:m.left-_.left+this.contentEl.scrollLeft,top:m.top-_.top+this.contentEl.scrollTop,width:m.width,height:m.height};this.popover.show(b)}}}),this.editors.set(a.id,f)}}),n.forEach(a=>{let o=i.querySelector(`[data-footnote-id="${a.id}"]`);o&&i.appendChild(o)})}focusFootnote(e){let r=this.editors.get(e);if(r){r.commands.focus();let n=this.contentEl.querySelector(`[data-footnote-id="${e}"]`);n&&n.scrollIntoView({behavior:"smooth",block:"center"})}}getFocusedEditor(){for(let e of this.editors.values())if(e.isFocused)return e;return null}};UD.exports={FootnoteView:Mg,FOOTNOTE_VIEW_TYPE:BD}});function o1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function a1(){if(jD)return Bc.exports;jD=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(T,P,M){return Function.prototype.apply.call(T,P,M)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:r=function(T){return Object.getOwnPropertyNames(T)};function n(w){console&&console.warn&&console.warn(w)}var i=Number.isNaN||function(T){return T!==T};function s(){s.init.call(this)}Bc.exports=s,Bc.exports.once=m,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(w){if(typeof w!="number"||w<0||i(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");a=w}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function l(w){return w._maxListeners===void 0?s.defaultMaxListeners:w._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(T){for(var P=[],M=1;M<arguments.length;M++)P.push(arguments[M]);var U=T==="error",R=this._events;if(R!==void 0)U=U&&R.error===void 0;else if(!U)return!1;if(U){var J;if(P.length>0&&(J=P[0]),J instanceof Error)throw J;var oe=new Error("Unhandled error."+(J?" ("+J.message+")":""));throw oe.context=J,oe}var C=R[T];if(C===void 0)return!1;if(typeof C=="function")e(C,this,P);else for(var H=C.length,k=y(C,H),M=0;M<H;++M)e(k[M],this,P);return!0};function u(w,T,P,M){var U,R,J;if(o(P),R=w._events,R===void 0?(R=w._events=Object.create(null),w._eventsCount=0):(R.newListener!==void 0&&(w.emit("newListener",T,P.listener?P.listener:P),R=w._events),J=R[T]),J===void 0)J=R[T]=P,++w._eventsCount;else if(typeof J=="function"?J=R[T]=M?[P,J]:[J,P]:M?J.unshift(P):J.push(P),U=l(w),U>0&&J.length>U&&!J.warned){J.warned=!0;var oe=new Error("Possible EventEmitter memory leak detected. "+J.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");oe.name="MaxListenersExceededWarning",oe.emitter=w,oe.type=T,oe.count=J.length,n(oe)}return w}s.prototype.addListener=function(T,P){return u(this,T,P,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(T,P){return u(this,T,P,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(w,T,P){var M={fired:!1,wrapFn:void 0,target:w,type:T,listener:P},U=c.bind(M);return U.listener=P,M.wrapFn=U,U}s.prototype.once=function(T,P){return o(P),this.on(T,f(this,T,P)),this},s.prototype.prependOnceListener=function(T,P){return o(P),this.prependListener(T,f(this,T,P)),this},s.prototype.removeListener=function(T,P){var M,U,R,J,oe;if(o(P),U=this._events,U===void 0)return this;if(M=U[T],M===void 0)return this;if(M===P||M.listener===P)--this._eventsCount===0?this._events=Object.create(null):(delete U[T],U.removeListener&&this.emit("removeListener",T,M.listener||P));else if(typeof M!="function"){for(R=-1,J=M.length-1;J>=0;J--)if(M[J]===P||M[J].listener===P){oe=M[J].listener,R=J;break}if(R<0)return this;R===0?M.shift():v(M,R),M.length===1&&(U[T]=M[0]),U.removeListener!==void 0&&this.emit("removeListener",T,oe||P)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(T){var P,M,U;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[T]),this;if(arguments.length===0){var R=Object.keys(M),J;for(U=0;U<R.length;++U)J=R[U],J!=="removeListener"&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(P=M[T],typeof P=="function")this.removeListener(T,P);else if(P!==void 0)for(U=P.length-1;U>=0;U--)this.removeListener(T,P[U]);return this};function d(w,T,P){var M=w._events;if(M===void 0)return[];var U=M[T];return U===void 0?[]:typeof U=="function"?P?[U.listener||U]:[U]:P?x(U):y(U,U.length)}s.prototype.listeners=function(T){return d(this,T,!0)},s.prototype.rawListeners=function(T){return d(this,T,!1)},s.listenerCount=function(w,T){return typeof w.listenerCount=="function"?w.listenerCount(T):h.call(w,T)},s.prototype.listenerCount=h;function h(w){var T=this._events;if(T!==void 0){var P=T[w];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function y(w,T){for(var P=new Array(T),M=0;M<T;++M)P[M]=w[M];return P}function v(w,T){for(;T+1<w.length;T++)w[T]=w[T+1];w.pop()}function x(w){for(var T=new Array(w.length),P=0;P<T.length;++P)T[P]=w[P].listener||w[P];return T}function m(w,T){return new Promise(function(P,M){function U(J){w.removeListener(T,R),M(J)}function R(){typeof w.removeListener=="function"&&w.removeListener("error",U),P([].slice.call(arguments))}b(w,T,R,{once:!0}),T!=="error"&&_(w,U,{once:!0})})}function _(w,T,P){typeof w.on=="function"&&b(w,"error",T,P)}function b(w,T,P,M){if(typeof w.on=="function")M.once?w.once(T,P):w.on(T,P);else if(typeof w.addEventListener=="function")w.addEventListener(T,function U(R){M.once&&w.removeEventListener(T,U),P(R)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}return Bc.exports}function ei(){return WD||(WD=1,typeof Object.create=="function"?Uc.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Uc.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Uc.exports}function xG(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _y(){throw new Error("setTimeout has not been defined")}function xy(){throw new Error("clearTimeout has not been defined")}function H2(t){if(jr===setTimeout)return setTimeout(t,0);if((jr===_y||!jr)&&setTimeout)return jr=setTimeout,setTimeout(t,0);try{return jr(t,0)}catch{try{return jr.call(null,t,0)}catch{return jr.call(this,t,0)}}}function EG(t){if(Wr===clearTimeout)return clearTimeout(t);if((Wr===xy||!Wr)&&clearTimeout)return Wr=clearTimeout,clearTimeout(t);try{return Wr(t)}catch{try{return Wr.call(null,t)}catch{return Wr.call(this,t)}}}function SG(){!Bs||!Ri||(Bs=!1,Ri.length?xn=Ri.concat(xn):Gc=-1,xn.length&&z2())}function z2(){if(!Bs){var t=H2(SG);Bs=!0;for(var e=xn.length;e;){for(Ri=xn,xn=[];++Gc<e;)Ri&&Ri[Gc].run();Gc=-1,e=xn.length}Ri=null,Bs=!1,EG(t)}}function j2(t,e){this.fun=t,this.array=e}function Cn(){}function W2(){return qD||(qD=1,Fg=a1().EventEmitter),Fg}function TG(){if(VD)return _a;VD=1,_a.byteLength=o,_a.toByteArray=u,_a.fromByteArray=d;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(h){var y=h.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=h.indexOf("=");v===-1&&(v=y);var x=v===y?0:4-v%4;return[v,x]}function o(h){var y=a(h),v=y[0],x=y[1];return(v+x)*3/4-x}function l(h,y,v){return(y+v)*3/4-v}function u(h){var y,v=a(h),x=v[0],m=v[1],_=new r(l(h,x,m)),b=0,w=m>0?x-4:x,T;for(T=0;T<w;T+=4)y=e[h.charCodeAt(T)]<<18|e[h.charCodeAt(T+1)]<<12|e[h.charCodeAt(T+2)]<<6|e[h.charCodeAt(T+3)],_[b++]=y>>16&255,_[b++]=y>>8&255,_[b++]=y&255;return m===2&&(y=e[h.charCodeAt(T)]<<2|e[h.charCodeAt(T+1)]>>4,_[b++]=y&255),m===1&&(y=e[h.charCodeAt(T)]<<10|e[h.charCodeAt(T+1)]<<4|e[h.charCodeAt(T+2)]>>2,_[b++]=y>>8&255,_[b++]=y&255),_}function c(h){return t[h>>18&63]+t[h>>12&63]+t[h>>6&63]+t[h&63]}function f(h,y,v){for(var x,m=[],_=y;_<v;_+=3)x=(h[_]<<16&16711680)+(h[_+1]<<8&65280)+(h[_+2]&255),m.push(c(x));return m.join("")}function d(h){for(var y,v=h.length,x=v%3,m=[],_=16383,b=0,w=v-x;b<w;b+=_)m.push(f(h,b,b+_>w?w:b+_));return x===1?(y=h[v-1],m.push(t[y>>2]+t[y<<4&63]+"==")):x===2&&(y=(h[v-2]<<8)+h[v-1],m.push(t[y>>10]+t[y>>4&63]+t[y<<2&63]+"=")),m.join("")}return _a}function AG(){return KD||(KD=1,Hc.read=function(t,e,r,n,i){var s,a,o=i*8-n-1,l=(1<<o)-1,u=l>>1,c=-7,f=r?i-1:0,d=r?-1:1,h=t[e+f];for(f+=d,s=h&(1<<-c)-1,h>>=-c,c+=o;c>0;s=s*256+t[e+f],f+=d,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=n;c>0;a=a*256+t[e+f],f+=d,c-=8);if(s===0)s=1-u;else{if(s===l)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-u}return(h?-1:1)*a*Math.pow(2,s-n)},Hc.write=function(t,e,r,n,i,s){var a,o,l,u=s*8-i-1,c=(1<<u)-1,f=c>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:s-1,y=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+f>=1?e+=d/l:e+=d*Math.pow(2,1-f),e*l>=2&&(a++,l/=2),a+f>=c?(o=0,a=c):a+f>=1?(o=(e*l-1)*Math.pow(2,i),a=a+f):(o=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[r+h]=o&255,h+=y,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;t[r+h]=a&255,h+=y,a/=256,u-=8);t[r+h-y]|=v*128}),Hc}function wf(){return GD||(GD=1,(function(t){var e=TG(),r=AG(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var N=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(N,p),N.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(N){if(N>i)throw new RangeError('The value "'+N+'" is invalid for option "size"');var p=new Uint8Array(N);return Object.setPrototypeOf(p,o.prototype),p}function o(N,p,g){if(typeof N=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(N)}return l(N,p,g)}o.poolSize=8192;function l(N,p,g){if(typeof N=="string")return d(N,p);if(ArrayBuffer.isView(N))return y(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(Z(N,ArrayBuffer)||N&&Z(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Z(N,SharedArrayBuffer)||N&&Z(N.buffer,SharedArrayBuffer)))return v(N,p,g);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var S=N.valueOf&&N.valueOf();if(S!=null&&S!==N)return o.from(S,p,g);var F=x(N);if(F)return F;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return o.from(N[Symbol.toPrimitive]("string"),p,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}o.from=function(N,p,g){return l(N,p,g)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function c(N,p,g){return u(N),N<=0?a(N):p!==void 0?typeof g=="string"?a(N).fill(p,g):a(N).fill(p):a(N)}o.alloc=function(N,p,g){return c(N,p,g)};function f(N){return u(N),a(N<0?0:m(N)|0)}o.allocUnsafe=function(N){return f(N)},o.allocUnsafeSlow=function(N){return f(N)};function d(N,p){if((typeof p!="string"||p==="")&&(p="utf8"),!o.isEncoding(p))throw new TypeError("Unknown encoding: "+p);var g=b(N,p)|0,S=a(g),F=S.write(N,p);return F!==g&&(S=S.slice(0,F)),S}function h(N){for(var p=N.length<0?0:m(N.length)|0,g=a(p),S=0;S<p;S+=1)g[S]=N[S]&255;return g}function y(N){if(Z(N,Uint8Array)){var p=new Uint8Array(N);return v(p.buffer,p.byteOffset,p.byteLength)}return h(N)}function v(N,p,g){if(p<0||N.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<p+(g||0))throw new RangeError('"length" is outside of buffer bounds');var S;return p===void 0&&g===void 0?S=new Uint8Array(N):g===void 0?S=new Uint8Array(N,p):S=new Uint8Array(N,p,g),Object.setPrototypeOf(S,o.prototype),S}function x(N){if(o.isBuffer(N)){var p=m(N.length)|0,g=a(p);return g.length===0||N.copy(g,0,0,p),g}if(N.length!==void 0)return typeof N.length!="number"||E(N.length)?a(0):h(N);if(N.type==="Buffer"&&Array.isArray(N.data))return h(N.data)}function m(N){if(N>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return N|0}function _(N){return+N!=N&&(N=0),o.alloc(+N)}o.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==o.prototype},o.compare=function(p,g){if(Z(p,Uint8Array)&&(p=o.from(p,p.offset,p.byteLength)),Z(g,Uint8Array)&&(g=o.from(g,g.offset,g.byteLength)),!o.isBuffer(p)||!o.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===g)return 0;for(var S=p.length,F=g.length,q=0,z=Math.min(S,F);q<z;++q)if(p[q]!==g[q]){S=p[q],F=g[q];break}return S<F?-1:F<S?1:0},o.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(p,g){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return o.alloc(0);var S;if(g===void 0)for(g=0,S=0;S<p.length;++S)g+=p[S].length;var F=o.allocUnsafe(g),q=0;for(S=0;S<p.length;++S){var z=p[S];if(Z(z,Uint8Array))q+z.length>F.length?o.from(z).copy(F,q):Uint8Array.prototype.set.call(F,z,q);else if(o.isBuffer(z))z.copy(F,q);else throw new TypeError('"list" argument must be an Array of Buffers');q+=z.length}return F};function b(N,p){if(o.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||Z(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);var g=N.length,S=arguments.length>2&&arguments[2]===!0;if(!S&&g===0)return 0;for(var F=!1;;)switch(p){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return A(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return I(N).length;default:if(F)return S?-1:A(N).length;p=(""+p).toLowerCase(),F=!0}}o.byteLength=b;function w(N,p,g){var S=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,p>>>=0,g<=p))return"";for(N||(N="utf8");;)switch(N){case"hex":return ee(this,p,g);case"utf8":case"utf-8":return k(this,p,g);case"ascii":return j(this,p,g);case"latin1":case"binary":return ie(this,p,g);case"base64":return H(this,p,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,p,g);default:if(S)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),S=!0}}o.prototype._isBuffer=!0;function T(N,p,g){var S=N[p];N[p]=N[g],N[g]=S}o.prototype.swap16=function(){var p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var g=0;g<p;g+=2)T(this,g,g+1);return this},o.prototype.swap32=function(){var p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var g=0;g<p;g+=4)T(this,g,g+3),T(this,g+1,g+2);return this},o.prototype.swap64=function(){var p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var g=0;g<p;g+=8)T(this,g,g+7),T(this,g+1,g+6),T(this,g+2,g+5),T(this,g+3,g+4);return this},o.prototype.toString=function(){var p=this.length;return p===0?"":arguments.length===0?k(this,0,p):w.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(p){if(!o.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:o.compare(this,p)===0},o.prototype.inspect=function(){var p="",g=t.INSPECT_MAX_BYTES;return p=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(p+=" ... "),"<Buffer "+p+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(p,g,S,F,q){if(Z(p,Uint8Array)&&(p=o.from(p,p.offset,p.byteLength)),!o.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(g===void 0&&(g=0),S===void 0&&(S=p?p.length:0),F===void 0&&(F=0),q===void 0&&(q=this.length),g<0||S>p.length||F<0||q>this.length)throw new RangeError("out of range index");if(F>=q&&g>=S)return 0;if(F>=q)return-1;if(g>=S)return 1;if(g>>>=0,S>>>=0,F>>>=0,q>>>=0,this===p)return 0;for(var z=q-F,ne=S-g,ae=Math.min(z,ne),se=this.slice(F,q),fe=p.slice(g,S),pe=0;pe<ae;++pe)if(se[pe]!==fe[pe]){z=se[pe],ne=fe[pe];break}return z<ne?-1:ne<z?1:0};function P(N,p,g,S,F){if(N.length===0)return-1;if(typeof g=="string"?(S=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,E(g)&&(g=F?0:N.length-1),g<0&&(g=N.length+g),g>=N.length){if(F)return-1;g=N.length-1}else if(g<0)if(F)g=0;else return-1;if(typeof p=="string"&&(p=o.from(p,S)),o.isBuffer(p))return p.length===0?-1:M(N,p,g,S,F);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(N,p,g):Uint8Array.prototype.lastIndexOf.call(N,p,g):M(N,[p],g,S,F);throw new TypeError("val must be string, number or Buffer")}function M(N,p,g,S,F){var q=1,z=N.length,ne=p.length;if(S!==void 0&&(S=String(S).toLowerCase(),S==="ucs2"||S==="ucs-2"||S==="utf16le"||S==="utf-16le")){if(N.length<2||p.length<2)return-1;q=2,z/=2,ne/=2,g/=2}function ae(Me,yt){return q===1?Me[yt]:Me.readUInt16BE(yt*q)}var se;if(F){var fe=-1;for(se=g;se<z;se++)if(ae(N,se)===ae(p,fe===-1?0:se-fe)){if(fe===-1&&(fe=se),se-fe+1===ne)return fe*q}else fe!==-1&&(se-=se-fe),fe=-1}else for(g+ne>z&&(g=z-ne),se=g;se>=0;se--){for(var pe=!0,ve=0;ve<ne;ve++)if(ae(N,se+ve)!==ae(p,ve)){pe=!1;break}if(pe)return se}return-1}o.prototype.includes=function(p,g,S){return this.indexOf(p,g,S)!==-1},o.prototype.indexOf=function(p,g,S){return P(this,p,g,S,!0)},o.prototype.lastIndexOf=function(p,g,S){return P(this,p,g,S,!1)};function U(N,p,g,S){g=Number(g)||0;var F=N.length-g;S?(S=Number(S),S>F&&(S=F)):S=F;var q=p.length;S>q/2&&(S=q/2);for(var z=0;z<S;++z){var ne=parseInt(p.substr(z*2,2),16);if(E(ne))return z;N[g+z]=ne}return z}function R(N,p,g,S){return L(A(p,N.length-g),N,g,S)}function J(N,p,g,S){return L(W(p),N,g,S)}function oe(N,p,g,S){return L(I(p),N,g,S)}function C(N,p,g,S){return L(B(p,N.length-g),N,g,S)}o.prototype.write=function(p,g,S,F){if(g===void 0)F="utf8",S=this.length,g=0;else if(S===void 0&&typeof g=="string")F=g,S=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(S)?(S=S>>>0,F===void 0&&(F="utf8")):(F=S,S=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var q=this.length-g;if((S===void 0||S>q)&&(S=q),p.length>0&&(S<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var z=!1;;)switch(F){case"hex":return U(this,p,g,S);case"utf8":case"utf-8":return R(this,p,g,S);case"ascii":case"latin1":case"binary":return J(this,p,g,S);case"base64":return oe(this,p,g,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,p,g,S);default:if(z)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),z=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(N,p,g){return p===0&&g===N.length?e.fromByteArray(N):e.fromByteArray(N.slice(p,g))}function k(N,p,g){g=Math.min(N.length,g);for(var S=[],F=p;F<g;){var q=N[F],z=null,ne=q>239?4:q>223?3:q>191?2:1;if(F+ne<=g){var ae,se,fe,pe;switch(ne){case 1:q<128&&(z=q);break;case 2:ae=N[F+1],(ae&192)===128&&(pe=(q&31)<<6|ae&63,pe>127&&(z=pe));break;case 3:ae=N[F+1],se=N[F+2],(ae&192)===128&&(se&192)===128&&(pe=(q&15)<<12|(ae&63)<<6|se&63,pe>2047&&(pe<55296||pe>57343)&&(z=pe));break;case 4:ae=N[F+1],se=N[F+2],fe=N[F+3],(ae&192)===128&&(se&192)===128&&(fe&192)===128&&(pe=(q&15)<<18|(ae&63)<<12|(se&63)<<6|fe&63,pe>65535&&pe<1114112&&(z=pe))}}z===null?(z=65533,ne=1):z>65535&&(z-=65536,S.push(z>>>10&1023|55296),z=56320|z&1023),S.push(z),F+=ne}return Q(S)}var V=4096;function Q(N){var p=N.length;if(p<=V)return String.fromCharCode.apply(String,N);for(var g="",S=0;S<p;)g+=String.fromCharCode.apply(String,N.slice(S,S+=V));return g}function j(N,p,g){var S="";g=Math.min(N.length,g);for(var F=p;F<g;++F)S+=String.fromCharCode(N[F]&127);return S}function ie(N,p,g){var S="";g=Math.min(N.length,g);for(var F=p;F<g;++F)S+=String.fromCharCode(N[F]);return S}function ee(N,p,g){var S=N.length;(!p||p<0)&&(p=0),(!g||g<0||g>S)&&(g=S);for(var F="",q=p;q<g;++q)F+=Y[N[q]];return F}function le(N,p,g){for(var S=N.slice(p,g),F="",q=0;q<S.length-1;q+=2)F+=String.fromCharCode(S[q]+S[q+1]*256);return F}o.prototype.slice=function(p,g){var S=this.length;p=~~p,g=g===void 0?S:~~g,p<0?(p+=S,p<0&&(p=0)):p>S&&(p=S),g<0?(g+=S,g<0&&(g=0)):g>S&&(g=S),g<p&&(g=p);var F=this.subarray(p,g);return Object.setPrototypeOf(F,o.prototype),F};function G(N,p,g){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+p>g)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(p,g,S){p=p>>>0,g=g>>>0,S||G(p,g,this.length);for(var F=this[p],q=1,z=0;++z<g&&(q*=256);)F+=this[p+z]*q;return F},o.prototype.readUintBE=o.prototype.readUIntBE=function(p,g,S){p=p>>>0,g=g>>>0,S||G(p,g,this.length);for(var F=this[p+--g],q=1;g>0&&(q*=256);)F+=this[p+--g]*q;return F},o.prototype.readUint8=o.prototype.readUInt8=function(p,g){return p=p>>>0,g||G(p,1,this.length),this[p]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(p,g){return p=p>>>0,g||G(p,2,this.length),this[p]|this[p+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(p,g){return p=p>>>0,g||G(p,2,this.length),this[p]<<8|this[p+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(p,g){return p=p>>>0,g||G(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(p,g){return p=p>>>0,g||G(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},o.prototype.readIntLE=function(p,g,S){p=p>>>0,g=g>>>0,S||G(p,g,this.length);for(var F=this[p],q=1,z=0;++z<g&&(q*=256);)F+=this[p+z]*q;return q*=128,F>=q&&(F-=Math.pow(2,8*g)),F},o.prototype.readIntBE=function(p,g,S){p=p>>>0,g=g>>>0,S||G(p,g,this.length);for(var F=g,q=1,z=this[p+--F];F>0&&(q*=256);)z+=this[p+--F]*q;return q*=128,z>=q&&(z-=Math.pow(2,8*g)),z},o.prototype.readInt8=function(p,g){return p=p>>>0,g||G(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},o.prototype.readInt16LE=function(p,g){p=p>>>0,g||G(p,2,this.length);var S=this[p]|this[p+1]<<8;return S&32768?S|4294901760:S},o.prototype.readInt16BE=function(p,g){p=p>>>0,g||G(p,2,this.length);var S=this[p+1]|this[p]<<8;return S&32768?S|4294901760:S},o.prototype.readInt32LE=function(p,g){return p=p>>>0,g||G(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},o.prototype.readInt32BE=function(p,g){return p=p>>>0,g||G(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},o.prototype.readFloatLE=function(p,g){return p=p>>>0,g||G(p,4,this.length),r.read(this,p,!0,23,4)},o.prototype.readFloatBE=function(p,g){return p=p>>>0,g||G(p,4,this.length),r.read(this,p,!1,23,4)},o.prototype.readDoubleLE=function(p,g){return p=p>>>0,g||G(p,8,this.length),r.read(this,p,!0,52,8)},o.prototype.readDoubleBE=function(p,g){return p=p>>>0,g||G(p,8,this.length),r.read(this,p,!1,52,8)};function D(N,p,g,S,F,q){if(!o.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>F||p<q)throw new RangeError('"value" argument is out of bounds');if(g+S>N.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(p,g,S,F){if(p=+p,g=g>>>0,S=S>>>0,!F){var q=Math.pow(2,8*S)-1;D(this,p,g,S,q,0)}var z=1,ne=0;for(this[g]=p&255;++ne<S&&(z*=256);)this[g+ne]=p/z&255;return g+S},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(p,g,S,F){if(p=+p,g=g>>>0,S=S>>>0,!F){var q=Math.pow(2,8*S)-1;D(this,p,g,S,q,0)}var z=S-1,ne=1;for(this[g+z]=p&255;--z>=0&&(ne*=256);)this[g+z]=p/ne&255;return g+S},o.prototype.writeUint8=o.prototype.writeUInt8=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,1,255,0),this[g]=p&255,g+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,2,65535,0),this[g]=p&255,this[g+1]=p>>>8,g+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,2,65535,0),this[g]=p>>>8,this[g+1]=p&255,g+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,4,4294967295,0),this[g+3]=p>>>24,this[g+2]=p>>>16,this[g+1]=p>>>8,this[g]=p&255,g+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,4,4294967295,0),this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=p&255,g+4},o.prototype.writeIntLE=function(p,g,S,F){if(p=+p,g=g>>>0,!F){var q=Math.pow(2,8*S-1);D(this,p,g,S,q-1,-q)}var z=0,ne=1,ae=0;for(this[g]=p&255;++z<S&&(ne*=256);)p<0&&ae===0&&this[g+z-1]!==0&&(ae=1),this[g+z]=(p/ne>>0)-ae&255;return g+S},o.prototype.writeIntBE=function(p,g,S,F){if(p=+p,g=g>>>0,!F){var q=Math.pow(2,8*S-1);D(this,p,g,S,q-1,-q)}var z=S-1,ne=1,ae=0;for(this[g+z]=p&255;--z>=0&&(ne*=256);)p<0&&ae===0&&this[g+z+1]!==0&&(ae=1),this[g+z]=(p/ne>>0)-ae&255;return g+S},o.prototype.writeInt8=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,1,127,-128),p<0&&(p=255+p+1),this[g]=p&255,g+1},o.prototype.writeInt16LE=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,2,32767,-32768),this[g]=p&255,this[g+1]=p>>>8,g+2},o.prototype.writeInt16BE=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,2,32767,-32768),this[g]=p>>>8,this[g+1]=p&255,g+2},o.prototype.writeInt32LE=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,4,2147483647,-2147483648),this[g]=p&255,this[g+1]=p>>>8,this[g+2]=p>>>16,this[g+3]=p>>>24,g+4},o.prototype.writeInt32BE=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=p&255,g+4};function $(N,p,g,S,F,q){if(g+S>N.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function X(N,p,g,S,F){return p=+p,g=g>>>0,F||$(N,p,g,4),r.write(N,p,g,S,23,4),g+4}o.prototype.writeFloatLE=function(p,g,S){return X(this,p,g,!0,S)},o.prototype.writeFloatBE=function(p,g,S){return X(this,p,g,!1,S)};function re(N,p,g,S,F){return p=+p,g=g>>>0,F||$(N,p,g,8),r.write(N,p,g,S,52,8),g+8}o.prototype.writeDoubleLE=function(p,g,S){return re(this,p,g,!0,S)},o.prototype.writeDoubleBE=function(p,g,S){return re(this,p,g,!1,S)},o.prototype.copy=function(p,g,S,F){if(!o.isBuffer(p))throw new TypeError("argument should be a Buffer");if(S||(S=0),!F&&F!==0&&(F=this.length),g>=p.length&&(g=p.length),g||(g=0),F>0&&F<S&&(F=S),F===S||p.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(S<0||S>=this.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),p.length-g<F-S&&(F=p.length-g+S);var q=F-S;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,S,F):Uint8Array.prototype.set.call(p,this.subarray(S,F),g),q},o.prototype.fill=function(p,g,S,F){if(typeof p=="string"){if(typeof g=="string"?(F=g,g=0,S=this.length):typeof S=="string"&&(F=S,S=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!o.isEncoding(F))throw new TypeError("Unknown encoding: "+F);if(p.length===1){var q=p.charCodeAt(0);(F==="utf8"&&q<128||F==="latin1")&&(p=q)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(g<0||this.length<g||this.length<S)throw new RangeError("Out of range index");if(S<=g)return this;g=g>>>0,S=S===void 0?this.length:S>>>0,p||(p=0);var z;if(typeof p=="number")for(z=g;z<S;++z)this[z]=p;else{var ne=o.isBuffer(p)?p:o.from(p,F),ae=ne.length;if(ae===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(z=0;z<S-g;++z)this[z+g]=ne[z%ae]}return this};var K=/[^+/0-9A-Za-z-_]/g;function O(N){if(N=N.split("=")[0],N=N.trim().replace(K,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function A(N,p){p=p||1/0;for(var g,S=N.length,F=null,q=[],z=0;z<S;++z){if(g=N.charCodeAt(z),g>55295&&g<57344){if(!F){if(g>56319){(p-=3)>-1&&q.push(239,191,189);continue}else if(z+1===S){(p-=3)>-1&&q.push(239,191,189);continue}F=g;continue}if(g<56320){(p-=3)>-1&&q.push(239,191,189),F=g;continue}g=(F-55296<<10|g-56320)+65536}else F&&(p-=3)>-1&&q.push(239,191,189);if(F=null,g<128){if((p-=1)<0)break;q.push(g)}else if(g<2048){if((p-=2)<0)break;q.push(g>>6|192,g&63|128)}else if(g<65536){if((p-=3)<0)break;q.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((p-=4)<0)break;q.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return q}function W(N){for(var p=[],g=0;g<N.length;++g)p.push(N.charCodeAt(g)&255);return p}function B(N,p){for(var g,S,F,q=[],z=0;z<N.length&&!((p-=2)<0);++z)g=N.charCodeAt(z),S=g>>8,F=g%256,q.push(F),q.push(S);return q}function I(N){return e.toByteArray(O(N))}function L(N,p,g,S){for(var F=0;F<S&&!(F+g>=p.length||F>=N.length);++F)p[F+g]=N[F];return F}function Z(N,p){return N instanceof p||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===p.name}function E(N){return N!==N}var Y=(function(){for(var N="0123456789abcdef",p=new Array(256),g=0;g<16;++g)for(var S=g*16,F=0;F<16;++F)p[S+F]=N[g]+N[F];return p})()})(Bg)),Bg}function q2(){return $D||($D=1,zg=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),zg}function l1(){if(JD)return jg;JD=1;var t=q2();return jg=function(){return t()&&!!Symbol.toStringTag},jg}function V2(){return XD||(XD=1,Wg=Object),Wg}function OG(){return YD||(YD=1,qg=Error),qg}function NG(){return ZD||(ZD=1,Vg=EvalError),Vg}function RG(){return QD||(QD=1,Kg=RangeError),Kg}function CG(){return eM||(eM=1,Gg=ReferenceError),Gg}function K2(){return tM||(tM=1,$g=SyntaxError),$g}function za(){return rM||(rM=1,Jg=TypeError),Jg}function IG(){return nM||(nM=1,Xg=URIError),Xg}function PG(){return iM||(iM=1,Yg=Math.abs),Yg}function DG(){return sM||(sM=1,Zg=Math.floor),Zg}function MG(){return oM||(oM=1,Qg=Math.max),Qg}function LG(){return aM||(aM=1,ev=Math.min),ev}function FG(){return lM||(lM=1,tv=Math.pow),tv}function BG(){return uM||(uM=1,rv=Math.round),rv}function UG(){return cM||(cM=1,nv=Number.isNaN||function(e){return e!==e}),nv}function HG(){if(fM)return iv;fM=1;var t=UG();return iv=function(r){return t(r)||r===0?r:r<0?-1:1},iv}function zG(){return hM||(hM=1,sv=Object.getOwnPropertyDescriptor),sv}function ja(){if(dM)return ov;dM=1;var t=zG();if(t)try{t([],"length")}catch{t=null}return ov=t,ov}function bf(){if(pM)return av;pM=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return av=t,av}function jG(){if(mM)return lv;mM=1;var t=typeof Symbol<"u"&&Symbol,e=q2();return lv=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},lv}function G2(){return gM||(gM=1,uv=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),uv}function $2(){if(vM)return cv;vM=1;var t=V2();return cv=t.getPrototypeOf||null,cv}function WG(){if(yM)return fv;yM=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var c=[],f=0;f<l.length;f+=1)c[f]=l[f];for(var d=0;d<u.length;d+=1)c[d+l.length]=u[d];return c},s=function(l,u){for(var c=[],f=u,d=0;f<l.length;f+=1,d+=1)c[d]=l[f];return c},a=function(o,l){for(var u="",c=0;c<o.length;c+=1)u+=o[c],c+1<o.length&&(u+=l);return u};return fv=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(t+u);for(var c=s(arguments,1),f,d=function(){if(this instanceof f){var m=u.apply(this,i(c,arguments));return Object(m)===m?m:this}return u.apply(l,i(c,arguments))},h=r(0,u.length-c.length),y=[],v=0;v<h;v++)y[v]="$"+v;if(f=Function("binder","return function ("+a(y,",")+"){ return binder.apply(this,arguments); }")(d),u.prototype){var x=function(){};x.prototype=u.prototype,f.prototype=new x,x.prototype=null}return f},fv}function Wa(){if(wM)return hv;wM=1;var t=WG();return hv=Function.prototype.bind||t,hv}function u1(){return bM||(bM=1,dv=Function.prototype.call),dv}function J2(){return _M||(_M=1,pv=Function.prototype.apply),pv}function qG(){return xM||(xM=1,mv=typeof Reflect<"u"&&Reflect&&Reflect.apply),mv}function VG(){if(EM)return gv;EM=1;var t=Wa(),e=J2(),r=u1(),n=qG();return gv=n||t.call(r,e),gv}function KG(){if(SM)return vv;SM=1;var t=Wa(),e=za(),r=u1(),n=VG();return vv=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(t,r,s)},vv}function GG(){if(kM)return yv;kM=1;var t=KG(),e=ja(),r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return yv=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?(function(o){return s(o==null?o:i(o))}):!1,yv}function $G(){if(TM)return wv;TM=1;var t=G2(),e=$2(),r=GG();return wv=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,wv}function JG(){if(AM)return bv;AM=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Wa();return bv=r.call(t,e),bv}function c1(){if(OM)return _v;OM=1;var t,e=V2(),r=OG(),n=NG(),i=RG(),s=CG(),a=K2(),o=za(),l=IG(),u=PG(),c=DG(),f=MG(),d=LG(),h=FG(),y=BG(),v=HG(),x=Function,m=function(W){try{return x('"use strict"; return ('+W+").constructor;")()}catch{}},_=ja(),b=bf(),w=function(){throw new o},T=_?(function(){try{return arguments.callee,w}catch{try{return _(arguments,"callee").get}catch{return w}}})():w,P=jG()(),M=$G(),U=$2(),R=G2(),J=J2(),oe=u1(),C={},H=typeof Uint8Array>"u"||!M?t:M(Uint8Array),k={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":P&&M?M([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":C,"%AsyncGenerator%":C,"%AsyncGeneratorFunction%":C,"%AsyncIteratorPrototype%":C,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":x,"%GeneratorFunction%":C,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":P&&M?M(M([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!P||!M?t:M(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":_,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!P||!M?t:M(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":P&&M?M(""[Symbol.iterator]()):t,"%Symbol%":P?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":T,"%TypedArray%":H,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":oe,"%Function.prototype.apply%":J,"%Object.defineProperty%":b,"%Object.getPrototypeOf%":U,"%Math.abs%":u,"%Math.floor%":c,"%Math.max%":f,"%Math.min%":d,"%Math.pow%":h,"%Math.round%":y,"%Math.sign%":v,"%Reflect.getPrototypeOf%":R};if(M)try{null.error}catch(W){var V=M(M(W));k["%Error.prototype%"]=V}var Q=function W(B){var I;if(B==="%AsyncFunction%")I=m("async function () {}");else if(B==="%GeneratorFunction%")I=m("function* () {}");else if(B==="%AsyncGeneratorFunction%")I=m("async function* () {}");else if(B==="%AsyncGenerator%"){var L=W("%AsyncGeneratorFunction%");L&&(I=L.prototype)}else if(B==="%AsyncIteratorPrototype%"){var Z=W("%AsyncGenerator%");Z&&M&&(I=M(Z.prototype))}return k[B]=I,I},j={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ie=Wa(),ee=JG(),le=ie.call(oe,Array.prototype.concat),G=ie.call(J,Array.prototype.splice),D=ie.call(oe,String.prototype.replace),$=ie.call(oe,String.prototype.slice),X=ie.call(oe,RegExp.prototype.exec),re=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,K=/\\(\\)?/g,O=function(B){var I=$(B,0,1),L=$(B,-1);if(I==="%"&&L!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(L==="%"&&I!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var Z=[];return D(B,re,function(E,Y,N,p){Z[Z.length]=N?D(p,K,"$1"):Y||E}),Z},A=function(B,I){var L=B,Z;if(ee(j,L)&&(Z=j[L],L="%"+Z[0]+"%"),ee(k,L)){var E=k[L];if(E===C&&(E=Q(L)),typeof E>"u"&&!I)throw new o("intrinsic "+B+" exists, but is not available. Please file an issue!");return{alias:Z,name:L,value:E}}throw new a("intrinsic "+B+" does not exist!")};return _v=function(B,I){if(typeof B!="string"||B.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof I!="boolean")throw new o('"allowMissing" argument must be a boolean');if(X(/^%?[^%]*%?$/,B)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var L=O(B),Z=L.length>0?L[0]:"",E=A("%"+Z+"%",I),Y=E.name,N=E.value,p=!1,g=E.alias;g&&(Z=g[0],G(L,le([0,1],g)));for(var S=1,F=!0;S<L.length;S+=1){var q=L[S],z=$(q,0,1),ne=$(q,-1);if((z==='"'||z==="'"||z==="`"||ne==='"'||ne==="'"||ne==="`")&&z!==ne)throw new a("property names with quotes must have matching quotes");if((q==="constructor"||!F)&&(p=!0),Z+="."+q,Y="%"+Z+"%",ee(k,Y))N=k[Y];else if(N!=null){if(!(q in N)){if(!I)throw new o("base intrinsic for "+B+" exists, but the property is not available.");return}if(_&&S+1>=L.length){var ae=_(N,q);F=!!ae,F&&"get"in ae&&!("originalValue"in ae.get)?N=ae.get:N=N[q]}else F=ee(N,q),N=N[q];F&&!p&&(k[Y]=N)}}return N},_v}function XG(){if(NM)return Ev;NM=1;var t=bf(),e=K2(),r=za(),n=ja();return Ev=function(s,a,o){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,d=!!n&&n(s,a);if(t)t(s,a,{configurable:c===null&&d?d.configurable:!c,enumerable:l===null&&d?d.enumerable:!l,value:o,writable:u===null&&d?d.writable:!u});else if(f||!l&&!u&&!c)s[a]=o;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Ev}function YG(){if(RM)return Sv;RM=1;var t=bf(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Sv=e,Sv}function ZG(){if(CM)return kv;CM=1;var t=c1(),e=XG(),r=YG()(),n=ja(),i=za(),s=t("%Math.floor%");return kv=function(o,l){if(typeof o!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],c=!0,f=!0;if("length"in o&&n){var d=n(o,"length");d&&!d.configurable&&(c=!1),d&&!d.writable&&(f=!1)}return(c||f||!u)&&(r?e(o,"length",l,!0,!0):e(o,"length",l)),o},kv}function X2(){return IM||(IM=1,(function(t){var e=Wa(),r=c1(),n=ZG(),i=za(),s=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(a,s),l=bf(),u=r("%Math.max%");t.exports=function(d){if(typeof d!="function")throw new i("a function is required");var h=o(e,a,arguments);return n(h,1+u(0,d.length-(arguments.length-1)),!0)};var c=function(){return o(e,s,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c})(xv)),xv.exports}function Y2(){if(PM)return Tv;PM=1;var t=c1(),e=X2(),r=e(t("String.prototype.indexOf"));return Tv=function(i,s){var a=t(i,!!s);return typeof a=="function"&&r(i,".prototype.")>-1?e(a):a},Tv}function QG(){if(DM)return Av;DM=1;var t=l1()(),e=Y2(),r=e("Object.prototype.toString"),n=function(o){return t&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:r(o)==="[object Arguments]"},i=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&r(o)!=="[object Array]"&&r(o.callee)==="[object Function]"},s=(function(){return n(arguments)})();return n.isLegacyArguments=i,Av=s?n:i,Av}function e$(){if(MM)return Ov;MM=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=l1()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},a;return Ov=function(l){if(typeof l!="function")return!1;if(r.test(e.call(l)))return!0;if(!n){var u=t.call(l);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var c=s();a=c?i(c):!1}return i(l)===a},Ov}function t$(){if(LM)return Nv;LM=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(_){_!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(b){try{var w=t.call(b);return i.test(w)}catch{return!1}},a=function(b){try{return s(b)?!1:(t.call(b),!0)}catch{return!1}},o=Object.prototype.toString,l="[object Object]",u="[object Function]",c="[object GeneratorFunction]",f="[object HTMLAllCollection]",d="[object HTML document.all class]",h="[object HTMLCollection]",y=typeof Symbol=="function"&&!!Symbol.toStringTag,v=!(0 in[,]),x=function(){return!1};if(typeof document=="object"){var m=document.all;o.call(m)===o.call(document.all)&&(x=function(b){if((v||!b)&&(typeof b>"u"||typeof b=="object"))try{var w=o.call(b);return(w===f||w===d||w===h||w===l)&&b("")==null}catch{}return!1})}return Nv=e?function(b){if(x(b))return!0;if(!b||typeof b!="function"&&typeof b!="object")return!1;try{e(b,null,r)}catch(w){if(w!==n)return!1}return!s(b)&&a(b)}:function(b){if(x(b))return!0;if(!b||typeof b!="function"&&typeof b!="object")return!1;if(y)return a(b);if(s(b))return!1;var w=o.call(b);return w!==u&&w!==c&&!/^\[object HTML/.test(w)?!1:a(b)},Nv}function r$(){if(FM)return Rv;FM=1;var t=t$(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,u,c){for(var f=0,d=l.length;f<d;f++)r.call(l,f)&&(c==null?u(l[f],f,l):u.call(c,l[f],f,l))},i=function(l,u,c){for(var f=0,d=l.length;f<d;f++)c==null?u(l.charAt(f),f,l):u.call(c,l.charAt(f),f,l)},s=function(l,u,c){for(var f in l)r.call(l,f)&&(c==null?u(l[f],f,l):u.call(c,l[f],f,l))},a=function(l,u,c){if(!t(u))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=c),e.call(l)==="[object Array]"?n(l,u,f):typeof l=="string"?i(l,u,f):s(l,u,f)};return Rv=a,Rv}function n$(){return BM||(BM=1,Cv=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Cv}function i$(){if(UM)return Iv;UM=1;var t=n$(),e=typeof globalThis>"u"?qr:globalThis;return Iv=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},Iv}function Z2(){if(HM)return Pv;HM=1;var t=r$(),e=i$(),r=X2(),n=Y2(),i=ja(),s=n("Object.prototype.toString"),a=l1()(),o=typeof globalThis>"u"?qr:globalThis,l=e(),u=n("String.prototype.slice"),c=Object.getPrototypeOf,f=n("Array.prototype.indexOf",!0)||function(x,m){for(var _=0;_<x.length;_+=1)if(x[_]===m)return _;return-1},d={__proto__:null};a&&i&&c?t(l,function(v){var x=new o[v];if(Symbol.toStringTag in x){var m=c(x),_=i(m,Symbol.toStringTag);if(!_){var b=c(m);_=i(b,Symbol.toStringTag)}d["$"+v]=r(_.get)}}):t(l,function(v){var x=new o[v],m=x.slice||x.set;m&&(d["$"+v]=r(m))});var h=function(x){var m=!1;return t(d,function(_,b){if(!m)try{"$"+_(x)===b&&(m=u(b,1))}catch{}}),m},y=function(x){var m=!1;return t(d,function(_,b){if(!m)try{_(x),m=u(b,1)}catch{}}),m};return Pv=function(x){if(!x||typeof x!="object")return!1;if(!a){var m=u(s(x),8,-1);return f(l,m)>-1?m:m!=="Object"?!1:y(x)}return i?h(x):null},Pv}function s$(){if(zM)return Dv;zM=1;var t=Z2();return Dv=function(r){return!!t(r)},Dv}function o$(){return jM||(jM=1,(function(t){var e=QG(),r=e$(),n=Z2(),i=s$();function s(S){return S.call.bind(S)}var a=typeof BigInt<"u",o=typeof Symbol<"u",l=s(Object.prototype.toString),u=s(Number.prototype.valueOf),c=s(String.prototype.valueOf),f=s(Boolean.prototype.valueOf);if(a)var d=s(BigInt.prototype.valueOf);if(o)var h=s(Symbol.prototype.valueOf);function y(S,F){if(typeof S!="object")return!1;try{return F(S),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function v(S){return typeof Promise<"u"&&S instanceof Promise||S!==null&&typeof S=="object"&&typeof S.then=="function"&&typeof S.catch=="function"}t.isPromise=v;function x(S){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(S):i(S)||$(S)}t.isArrayBufferView=x;function m(S){return n(S)==="Uint8Array"}t.isUint8Array=m;function _(S){return n(S)==="Uint8ClampedArray"}t.isUint8ClampedArray=_;function b(S){return n(S)==="Uint16Array"}t.isUint16Array=b;function w(S){return n(S)==="Uint32Array"}t.isUint32Array=w;function T(S){return n(S)==="Int8Array"}t.isInt8Array=T;function P(S){return n(S)==="Int16Array"}t.isInt16Array=P;function M(S){return n(S)==="Int32Array"}t.isInt32Array=M;function U(S){return n(S)==="Float32Array"}t.isFloat32Array=U;function R(S){return n(S)==="Float64Array"}t.isFloat64Array=R;function J(S){return n(S)==="BigInt64Array"}t.isBigInt64Array=J;function oe(S){return n(S)==="BigUint64Array"}t.isBigUint64Array=oe;function C(S){return l(S)==="[object Map]"}C.working=typeof Map<"u"&&C(new Map);function H(S){return typeof Map>"u"?!1:C.working?C(S):S instanceof Map}t.isMap=H;function k(S){return l(S)==="[object Set]"}k.working=typeof Set<"u"&&k(new Set);function V(S){return typeof Set>"u"?!1:k.working?k(S):S instanceof Set}t.isSet=V;function Q(S){return l(S)==="[object WeakMap]"}Q.working=typeof WeakMap<"u"&&Q(new WeakMap);function j(S){return typeof WeakMap>"u"?!1:Q.working?Q(S):S instanceof WeakMap}t.isWeakMap=j;function ie(S){return l(S)==="[object WeakSet]"}ie.working=typeof WeakSet<"u"&&ie(new WeakSet);function ee(S){return ie(S)}t.isWeakSet=ee;function le(S){return l(S)==="[object ArrayBuffer]"}le.working=typeof ArrayBuffer<"u"&&le(new ArrayBuffer);function G(S){return typeof ArrayBuffer>"u"?!1:le.working?le(S):S instanceof ArrayBuffer}t.isArrayBuffer=G;function D(S){return l(S)==="[object DataView]"}D.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&D(new DataView(new ArrayBuffer(1),0,1));function $(S){return typeof DataView>"u"?!1:D.working?D(S):S instanceof DataView}t.isDataView=$;var X=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function re(S){return l(S)==="[object SharedArrayBuffer]"}function K(S){return typeof X>"u"?!1:(typeof re.working>"u"&&(re.working=re(new X)),re.working?re(S):S instanceof X)}t.isSharedArrayBuffer=K;function O(S){return l(S)==="[object AsyncFunction]"}t.isAsyncFunction=O;function A(S){return l(S)==="[object Map Iterator]"}t.isMapIterator=A;function W(S){return l(S)==="[object Set Iterator]"}t.isSetIterator=W;function B(S){return l(S)==="[object Generator]"}t.isGeneratorObject=B;function I(S){return l(S)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=I;function L(S){return y(S,u)}t.isNumberObject=L;function Z(S){return y(S,c)}t.isStringObject=Z;function E(S){return y(S,f)}t.isBooleanObject=E;function Y(S){return a&&y(S,d)}t.isBigIntObject=Y;function N(S){return o&&y(S,h)}t.isSymbolObject=N;function p(S){return L(S)||Z(S)||E(S)||Y(S)||N(S)}t.isBoxedPrimitive=p;function g(S){return typeof Uint8Array<"u"&&(G(S)||K(S))}t.isAnyArrayBuffer=g,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(S){Object.defineProperty(t,S,{enumerable:!1,value:function(){throw new Error(S+" is not supported in userland")}})})})(Hg)),Hg}function a$(){return WM||(WM=1,Mv=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),Mv}function Q2(){return qM||(qM=1,(function(t){var e=Object.getOwnPropertyDescriptors||function($){for(var X=Object.keys($),re={},K=0;K<X.length;K++)re[X[K]]=Object.getOwnPropertyDescriptor($,X[K]);return re},r=/%[sdj%]/g;t.format=function(D){if(!T(D)){for(var $=[],X=0;X<arguments.length;X++)$.push(a(arguments[X]));return $.join(" ")}for(var X=1,re=arguments,K=re.length,O=String(D).replace(r,function(W){if(W==="%%")return"%";if(X>=K)return W;switch(W){case"%s":return String(re[X++]);case"%d":return Number(re[X++]);case"%j":try{return JSON.stringify(re[X++])}catch{return"[Circular]"}default:return W}}),A=re[X];X<K;A=re[++X])_(A)||!R(A)?O+=" "+A:O+=" "+a(A);return O},t.deprecate=function(D,$){if(typeof Ce<"u"&&Ce.noDeprecation===!0)return D;if(typeof Ce>"u")return function(){return t.deprecate(D,$).apply(this,arguments)};var X=!1;function re(){if(!X){if(Ce.throwDeprecation)throw new Error($);Ce.traceDeprecation?console.trace($):console.error($),X=!0}return D.apply(this,arguments)}return re};var n={},i=/^$/;if(Ce.env.NODE_DEBUG){var s=Ce.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(D){if(D=D.toUpperCase(),!n[D])if(i.test(D)){var $=Ce.pid;n[D]=function(){var X=t.format.apply(t,arguments);console.error("%s %d: %s",D,$,X)}}else n[D]=function(){};return n[D]};function a(D,$){var X={seen:[],stylize:l};return arguments.length>=3&&(X.depth=arguments[2]),arguments.length>=4&&(X.colors=arguments[3]),m($)?X.showHidden=$:$&&t._extend(X,$),M(X.showHidden)&&(X.showHidden=!1),M(X.depth)&&(X.depth=2),M(X.colors)&&(X.colors=!1),M(X.customInspect)&&(X.customInspect=!0),X.colors&&(X.stylize=o),c(X,D,X.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(D,$){var X=a.styles[$];return X?"\x1B["+a.colors[X][0]+"m"+D+"\x1B["+a.colors[X][1]+"m":D}function l(D,$){return D}function u(D){var $={};return D.forEach(function(X,re){$[X]=!0}),$}function c(D,$,X){if(D.customInspect&&$&&C($.inspect)&&$.inspect!==t.inspect&&!($.constructor&&$.constructor.prototype===$)){var re=$.inspect(X,D);return T(re)||(re=c(D,re,X)),re}var K=f(D,$);if(K)return K;var O=Object.keys($),A=u(O);if(D.showHidden&&(O=Object.getOwnPropertyNames($)),oe($)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return d($);if(O.length===0){if(C($)){var W=$.name?": "+$.name:"";return D.stylize("[Function"+W+"]","special")}if(U($))return D.stylize(RegExp.prototype.toString.call($),"regexp");if(J($))return D.stylize(Date.prototype.toString.call($),"date");if(oe($))return d($)}var B="",I=!1,L=["{","}"];if(x($)&&(I=!0,L=["[","]"]),C($)){var Z=$.name?": "+$.name:"";B=" [Function"+Z+"]"}if(U($)&&(B=" "+RegExp.prototype.toString.call($)),J($)&&(B=" "+Date.prototype.toUTCString.call($)),oe($)&&(B=" "+d($)),O.length===0&&(!I||$.length==0))return L[0]+B+L[1];if(X<0)return U($)?D.stylize(RegExp.prototype.toString.call($),"regexp"):D.stylize("[Object]","special");D.seen.push($);var E;return I?E=h(D,$,X,A,O):E=O.map(function(Y){return y(D,$,X,A,Y,I)}),D.seen.pop(),v(E,B,L)}function f(D,$){if(M($))return D.stylize("undefined","undefined");if(T($)){var X="'"+JSON.stringify($).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(X,"string")}if(w($))return D.stylize(""+$,"number");if(m($))return D.stylize(""+$,"boolean");if(_($))return D.stylize("null","null")}function d(D){return"["+Error.prototype.toString.call(D)+"]"}function h(D,$,X,re,K){for(var O=[],A=0,W=$.length;A<W;++A)ie($,String(A))?O.push(y(D,$,X,re,String(A),!0)):O.push("");return K.forEach(function(B){B.match(/^\d+$/)||O.push(y(D,$,X,re,B,!0))}),O}function y(D,$,X,re,K,O){var A,W,B;if(B=Object.getOwnPropertyDescriptor($,K)||{value:$[K]},B.get?B.set?W=D.stylize("[Getter/Setter]","special"):W=D.stylize("[Getter]","special"):B.set&&(W=D.stylize("[Setter]","special")),ie(re,K)||(A="["+K+"]"),W||(D.seen.indexOf(B.value)<0?(_(X)?W=c(D,B.value,null):W=c(D,B.value,X-1),W.indexOf(`
`)>-1&&(O?W=W.split(`
`).map(function(I){return"  "+I}).join(`
`).slice(2):W=`
`+W.split(`
`).map(function(I){return"   "+I}).join(`
`))):W=D.stylize("[Circular]","special")),M(A)){if(O&&K.match(/^\d+$/))return W;A=JSON.stringify(""+K),A.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(A=A.slice(1,-1),A=D.stylize(A,"name")):(A=A.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),A=D.stylize(A,"string"))}return A+": "+W}function v(D,$,X){var re=D.reduce(function(K,O){return O.indexOf(`
`)>=0,K+O.replace(/\u001b\[\d\d?m/g,"").length+1},0);return re>60?X[0]+($===""?"":$+`
 `)+" "+D.join(`,
  `)+" "+X[1]:X[0]+$+" "+D.join(", ")+" "+X[1]}t.types=o$();function x(D){return Array.isArray(D)}t.isArray=x;function m(D){return typeof D=="boolean"}t.isBoolean=m;function _(D){return D===null}t.isNull=_;function b(D){return D==null}t.isNullOrUndefined=b;function w(D){return typeof D=="number"}t.isNumber=w;function T(D){return typeof D=="string"}t.isString=T;function P(D){return typeof D=="symbol"}t.isSymbol=P;function M(D){return D===void 0}t.isUndefined=M;function U(D){return R(D)&&k(D)==="[object RegExp]"}t.isRegExp=U,t.types.isRegExp=U;function R(D){return typeof D=="object"&&D!==null}t.isObject=R;function J(D){return R(D)&&k(D)==="[object Date]"}t.isDate=J,t.types.isDate=J;function oe(D){return R(D)&&(k(D)==="[object Error]"||D instanceof Error)}t.isError=oe,t.types.isNativeError=oe;function C(D){return typeof D=="function"}t.isFunction=C;function H(D){return D===null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||typeof D=="symbol"||typeof D>"u"}t.isPrimitive=H,t.isBuffer=a$();function k(D){return Object.prototype.toString.call(D)}function V(D){return D<10?"0"+D.toString(10):D.toString(10)}var Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var D=new Date,$=[V(D.getHours()),V(D.getMinutes()),V(D.getSeconds())].join(":");return[D.getDate(),Q[D.getMonth()],$].join(" ")}t.log=function(){console.log("%s - %s",j(),t.format.apply(t,arguments))},t.inherits=ei(),t._extend=function(D,$){if(!$||!R($))return D;for(var X=Object.keys($),re=X.length;re--;)D[X[re]]=$[X[re]];return D};function ie(D,$){return Object.prototype.hasOwnProperty.call(D,$)}var ee=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function($){if(typeof $!="function")throw new TypeError('The "original" argument must be of type Function');if(ee&&$[ee]){var X=$[ee];if(typeof X!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(X,ee,{value:X,enumerable:!1,writable:!1,configurable:!0}),X}function X(){for(var re,K,O=new Promise(function(B,I){re=B,K=I}),A=[],W=0;W<arguments.length;W++)A.push(arguments[W]);A.push(function(B,I){B?K(B):re(I)});try{$.apply(this,A)}catch(B){K(B)}return O}return Object.setPrototypeOf(X,Object.getPrototypeOf($)),ee&&Object.defineProperty(X,ee,{value:X,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(X,e($))},t.promisify.custom=ee;function le(D,$){if(!D){var X=new Error("Promise was rejected with a falsy value");X.reason=D,D=X}return $(D)}function G(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');function $(){for(var X=[],re=0;re<arguments.length;re++)X.push(arguments[re]);var K=X.pop();if(typeof K!="function")throw new TypeError("The last argument must be of type Function");var O=this,A=function(){return K.apply(O,arguments)};D.apply(this,X).then(function(W){Ce.nextTick(A.bind(null,null,W))},function(W){Ce.nextTick(le.bind(null,W,A))})}return Object.setPrototypeOf($,Object.getPrototypeOf(D)),Object.defineProperties($,e(D)),$}t.callbackify=G})(Ug)),Ug}function l$(){if(VM)return Lv;VM=1;function t(d,h){var y=Object.keys(d);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(d);h&&(v=v.filter(function(x){return Object.getOwnPropertyDescriptor(d,x).enumerable})),y.push.apply(y,v)}return y}function e(d){for(var h=1;h<arguments.length;h++){var y=arguments[h]!=null?arguments[h]:{};h%2?t(Object(y),!0).forEach(function(v){r(d,v,y[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(y)):t(Object(y)).forEach(function(v){Object.defineProperty(d,v,Object.getOwnPropertyDescriptor(y,v))})}return d}function r(d,h,y){return h in d?Object.defineProperty(d,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[h]=y,d}function n(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function i(d,h){for(var y=0;y<h.length;y++){var v=h[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}function s(d,h,y){return h&&i(d.prototype,h),d}var a=wf(),o=a.Buffer,l=Q2(),u=l.inspect,c=u&&u.custom||"inspect";function f(d,h,y){o.prototype.copy.call(d,h,y)}return Lv=(function(){function d(){n(this,d),this.head=null,this.tail=null,this.length=0}return s(d,[{key:"push",value:function(y){var v={data:y,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(y){var v={data:y,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var v=this.head,x=""+v.data;v=v.next;)x+=y+v.data;return x}},{key:"concat",value:function(y){if(this.length===0)return o.alloc(0);for(var v=o.allocUnsafe(y>>>0),x=this.head,m=0;x;)f(x.data,v,m),m+=x.data.length,x=x.next;return v}},{key:"consume",value:function(y,v){var x;return y<this.head.data.length?(x=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?x=this.shift():x=v?this._getString(y):this._getBuffer(y),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var v=this.head,x=1,m=v.data;for(y-=m.length;v=v.next;){var _=v.data,b=y>_.length?_.length:y;if(b===_.length?m+=_:m+=_.slice(0,y),y-=b,y===0){b===_.length?(++x,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=_.slice(b));break}++x}return this.length-=x,m}},{key:"_getBuffer",value:function(y){var v=o.allocUnsafe(y),x=this.head,m=1;for(x.data.copy(v),y-=x.data.length;x=x.next;){var _=x.data,b=y>_.length?_.length:y;if(_.copy(v,v.length-y,0,b),y-=b,y===0){b===_.length?(++m,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=_.slice(b));break}++m}return this.length-=m,v}},{key:c,value:function(y,v){return u(this,e({},v,{depth:0,customInspect:!1}))}}]),d})(),Lv}function e5(){if(KM)return Fv;KM=1;function t(a,o){var l=this,u=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return u||c?(o?o(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ce.nextTick(i,this,a)):Ce.nextTick(i,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(f){!o&&f?l._writableState?l._writableState.errorEmitted?Ce.nextTick(r,l):(l._writableState.errorEmitted=!0,Ce.nextTick(e,l,f)):Ce.nextTick(e,l,f):o?(Ce.nextTick(r,l),o(f)):Ce.nextTick(r,l)}),this)}function e(a,o){i(a,o),r(a)}function r(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(a,o){a.emit("error",o)}function s(a,o){var l=a._readableState,u=a._writableState;l&&l.autoDestroy||u&&u.autoDestroy?a.destroy(o):a.emit("error",o)}return Fv={destroy:t,undestroy:n,errorOrDestroy:s},Fv}function Js(){if(GM)return Bv;GM=1;function t(o,l){o.prototype=Object.create(l.prototype),o.prototype.constructor=o,o.__proto__=l}var e={};function r(o,l,u){u||(u=Error);function c(d,h,y){return typeof l=="string"?l:l(d,h,y)}var f=(function(d){t(h,d);function h(y,v,x){return d.call(this,c(y,v,x))||this}return h})(u);f.prototype.name=u.name,f.prototype.code=o,e[o]=f}function n(o,l){if(Array.isArray(o)){var u=o.length;return o=o.map(function(c){return String(c)}),u>2?"one of ".concat(l," ").concat(o.slice(0,u-1).join(", "),", or ")+o[u-1]:u===2?"one of ".concat(l," ").concat(o[0]," or ").concat(o[1]):"of ".concat(l," ").concat(o[0])}else return"of ".concat(l," ").concat(String(o))}function i(o,l,u){return o.substr(0,l.length)===l}function s(o,l,u){return(u===void 0||u>o.length)&&(u=o.length),o.substring(u-l.length,u)===l}function a(o,l,u){return typeof u!="number"&&(u=0),u+l.length>o.length?!1:o.indexOf(l,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,l){return'The value "'+l+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,l,u){var c;typeof l=="string"&&i(l,"not ")?(c="must not be",l=l.replace(/^not /,"")):c="must be";var f;if(s(o," argument"))f="The ".concat(o," ").concat(c," ").concat(n(l,"type"));else{var d=a(o,".")?"property":"argument";f='The "'.concat(o,'" ').concat(d," ").concat(c," ").concat(n(l,"type"))}return f+=". Received type ".concat(typeof u),f},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Bv.codes=e,Bv}function t5(){if($M)return Uv;$M=1;var t=Js().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,a){var o=e(i,a,s);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var l=a?s:"highWaterMark";throw new t(l,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return Uv={getHighWaterMark:r},Uv}function u$(){if(JM)return Hv;JM=1,Hv=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function e(r){try{if(!qr.localStorage)return!1}catch{return!1}var n=qr.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Hv}function r5(){if(XM)return zv;XM=1,zv=U;function t(K){var O=this;this.next=null,this.entry=null,this.finish=function(){re(O,K)}}var e;U.WritableState=P;var r={deprecate:u$()},n=W2(),i=wf().Buffer,s=qr.Uint8Array||function(){};function a(K){return i.from(K)}function o(K){return i.isBuffer(K)||K instanceof s}var l=e5(),u=t5(),c=u.getHighWaterMark,f=Js().codes,d=f.ERR_INVALID_ARG_TYPE,h=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_MULTIPLE_CALLBACK,v=f.ERR_STREAM_CANNOT_PIPE,x=f.ERR_STREAM_DESTROYED,m=f.ERR_STREAM_NULL_VALUES,_=f.ERR_STREAM_WRITE_AFTER_END,b=f.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;ei()(U,n);function T(){}function P(K,O,A){e=e||zs(),K=K||{},typeof A!="boolean"&&(A=O instanceof e),this.objectMode=!!K.objectMode,A&&(this.objectMode=this.objectMode||!!K.writableObjectMode),this.highWaterMark=c(this,K,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var W=K.decodeStrings===!1;this.decodeStrings=!W,this.defaultEncoding=K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(B){Q(O,B)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=K.emitClose!==!1,this.autoDestroy=!!K.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}P.prototype.getBuffer=function(){for(var O=this.bufferedRequest,A=[];O;)A.push(O),O=O.next;return A},(function(){try{Object.defineProperty(P.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(O){return M.call(this,O)?!0:this!==U?!1:O&&O._writableState instanceof P}})):M=function(O){return O instanceof this};function U(K){e=e||zs();var O=this instanceof e;if(!O&&!M.call(U,this))return new U(K);this._writableState=new P(K,this,O),this.writable=!0,K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.final=="function"&&(this._final=K.final)),n.call(this)}U.prototype.pipe=function(){w(this,new v)};function R(K,O){var A=new _;w(K,A),Ce.nextTick(O,A)}function J(K,O,A,W){var B;return A===null?B=new m:typeof A!="string"&&!O.objectMode&&(B=new d("chunk",["string","Buffer"],A)),B?(w(K,B),Ce.nextTick(W,B),!1):!0}U.prototype.write=function(K,O,A){var W=this._writableState,B=!1,I=!W.objectMode&&o(K);return I&&!i.isBuffer(K)&&(K=a(K)),typeof O=="function"&&(A=O,O=null),I?O="buffer":O||(O=W.defaultEncoding),typeof A!="function"&&(A=T),W.ending?R(this,A):(I||J(this,W,K,A))&&(W.pendingcb++,B=C(this,W,I,K,O,A)),B},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var K=this._writableState;K.corked&&(K.corked--,!K.writing&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&ee(this,K))},U.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new b(O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function oe(K,O,A){return!K.objectMode&&K.decodeStrings!==!1&&typeof O=="string"&&(O=i.from(O,A)),O}Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function C(K,O,A,W,B,I){if(!A){var L=oe(O,W,B);W!==L&&(A=!0,B="buffer",W=L)}var Z=O.objectMode?1:W.length;O.length+=Z;var E=O.length<O.highWaterMark;if(E||(O.needDrain=!0),O.writing||O.corked){var Y=O.lastBufferedRequest;O.lastBufferedRequest={chunk:W,encoding:B,isBuf:A,callback:I,next:null},Y?Y.next=O.lastBufferedRequest:O.bufferedRequest=O.lastBufferedRequest,O.bufferedRequestCount+=1}else H(K,O,!1,Z,W,B,I);return E}function H(K,O,A,W,B,I,L){O.writelen=W,O.writecb=L,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new x("write")):A?K._writev(B,O.onwrite):K._write(B,I,O.onwrite),O.sync=!1}function k(K,O,A,W,B){--O.pendingcb,A?(Ce.nextTick(B,W),Ce.nextTick($,K,O),K._writableState.errorEmitted=!0,w(K,W)):(B(W),K._writableState.errorEmitted=!0,w(K,W),$(K,O))}function V(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}function Q(K,O){var A=K._writableState,W=A.sync,B=A.writecb;if(typeof B!="function")throw new y;if(V(A),O)k(K,A,W,O,B);else{var I=le(A)||K.destroyed;!I&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&ee(K,A),W?Ce.nextTick(j,K,A,I,B):j(K,A,I,B)}}function j(K,O,A,W){A||ie(K,O),O.pendingcb--,W(),$(K,O)}function ie(K,O){O.length===0&&O.needDrain&&(O.needDrain=!1,K.emit("drain"))}function ee(K,O){O.bufferProcessing=!0;var A=O.bufferedRequest;if(K._writev&&A&&A.next){var W=O.bufferedRequestCount,B=new Array(W),I=O.corkedRequestsFree;I.entry=A;for(var L=0,Z=!0;A;)B[L]=A,A.isBuf||(Z=!1),A=A.next,L+=1;B.allBuffers=Z,H(K,O,!0,O.length,B,"",I.finish),O.pendingcb++,O.lastBufferedRequest=null,I.next?(O.corkedRequestsFree=I.next,I.next=null):O.corkedRequestsFree=new t(O),O.bufferedRequestCount=0}else{for(;A;){var E=A.chunk,Y=A.encoding,N=A.callback,p=O.objectMode?1:E.length;if(H(K,O,!1,p,E,Y,N),A=A.next,O.bufferedRequestCount--,O.writing)break}A===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=A,O.bufferProcessing=!1}U.prototype._write=function(K,O,A){A(new h("_write()"))},U.prototype._writev=null,U.prototype.end=function(K,O,A){var W=this._writableState;return typeof K=="function"?(A=K,K=null,O=null):typeof O=="function"&&(A=O,O=null),K!=null&&this.write(K,O),W.corked&&(W.corked=1,this.uncork()),W.ending||X(this,W,A),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function le(K){return K.ending&&K.length===0&&K.bufferedRequest===null&&!K.finished&&!K.writing}function G(K,O){K._final(function(A){O.pendingcb--,A&&w(K,A),O.prefinished=!0,K.emit("prefinish"),$(K,O)})}function D(K,O){!O.prefinished&&!O.finalCalled&&(typeof K._final=="function"&&!O.destroyed?(O.pendingcb++,O.finalCalled=!0,Ce.nextTick(G,K,O)):(O.prefinished=!0,K.emit("prefinish")))}function $(K,O){var A=le(O);if(A&&(D(K,O),O.pendingcb===0&&(O.finished=!0,K.emit("finish"),O.autoDestroy))){var W=K._readableState;(!W||W.autoDestroy&&W.endEmitted)&&K.destroy()}return A}function X(K,O,A){O.ending=!0,$(K,O),A&&(O.finished?Ce.nextTick(A):K.once("finish",A)),O.ended=!0,K.writable=!1}function re(K,O,A){var W=K.entry;for(K.entry=null;W;){var B=W.callback;O.pendingcb--,B(A),W=W.next}O.corkedRequestsFree.next=K}return Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),U.prototype.destroy=l.destroy,U.prototype._undestroy=l.undestroy,U.prototype._destroy=function(K,O){O(K)},zv}function zs(){if(YM)return jv;YM=1;var t=Object.keys||function(u){var c=[];for(var f in u)c.push(f);return c};jv=a;var e=n5(),r=r5();ei()(a,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];a.prototype[s]||(a.prototype[s]=r.prototype[s])}function a(u){if(!(this instanceof a))return new a(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||Ce.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),jv}function c$(){return ZM||(ZM=1,(function(t,e){var r=wf(),n=r.Buffer;function i(a,o){for(var l in a)o[l]=a[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(a,o,l){return n(a,o,l)}i(n,s),s.from=function(a,o,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,l)},s.alloc=function(a,o,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=n(a);return o!==void 0?typeof l=="string"?u.fill(o,l):u.fill(o):u.fill(0),u},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(zc,zc.exports)),zc.exports}function Ey(){if(QM)return Wv;QM=1;var t=c$().Buffer,e=t.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(m){if(!m)return"utf8";for(var _;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(_)return;m=(""+m).toLowerCase(),_=!0}}function n(m){var _=r(m);if(typeof _!="string"&&(t.isEncoding===e||!e(m)))throw new Error("Unknown encoding: "+m);return _||m}Wv.StringDecoder=i;function i(m){this.encoding=n(m);var _;switch(this.encoding){case"utf16le":this.text=f,this.end=d,_=4;break;case"utf8":this.fillLast=l,_=4;break;case"base64":this.text=h,this.end=y,_=3;break;default:this.write=v,this.end=x;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(_)}i.prototype.write=function(m){if(m.length===0)return"";var _,b;if(this.lastNeed){if(_=this.fillLast(m),_===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<m.length?_?_+this.text(m,b):this.text(m,b):_||""},i.prototype.end=c,i.prototype.text=u,i.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function s(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function a(m,_,b){var w=_.length-1;if(w<b)return 0;var T=s(_[w]);return T>=0?(T>0&&(m.lastNeed=T-1),T):--w<b||T===-2?0:(T=s(_[w]),T>=0?(T>0&&(m.lastNeed=T-2),T):--w<b||T===-2?0:(T=s(_[w]),T>=0?(T>0&&(T===2?T=0:m.lastNeed=T-3),T):0))}function o(m,_,b){if((_[0]&192)!==128)return m.lastNeed=0,"\uFFFD";if(m.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return m.lastNeed=1,"\uFFFD";if(m.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return m.lastNeed=2,"\uFFFD"}}function l(m){var _=this.lastTotal-this.lastNeed,b=o(this,m);if(b!==void 0)return b;if(this.lastNeed<=m.length)return m.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,_,0,m.length),this.lastNeed-=m.length}function u(m,_){var b=a(this,m,_);if(!this.lastNeed)return m.toString("utf8",_);this.lastTotal=b;var w=m.length-(b-this.lastNeed);return m.copy(this.lastChar,0,w),m.toString("utf8",_,w)}function c(m){var _=m&&m.length?this.write(m):"";return this.lastNeed?_+"\uFFFD":_}function f(m,_){if((m.length-_)%2===0){var b=m.toString("utf16le",_);if(b){var w=b.charCodeAt(b.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",_,m.length-1)}function d(m){var _=m&&m.length?this.write(m):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,b)}return _}function h(m,_){var b=(m.length-_)%3;return b===0?m.toString("base64",_):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",_,m.length-b))}function y(m){var _=m&&m.length?this.write(m):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function v(m){return m.toString(this.encoding)}function x(m){return m&&m.length?this.write(m):""}return Wv}function f1(){if(e2)return qv;e2=1;var t=Js().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var a=!1;return function(){if(!a){a=!0;for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];s.apply(this,l)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,a,o){if(typeof a=="function")return i(s,null,a);a||(a={}),o=e(o||r);var l=a.readable||a.readable!==!1&&s.readable,u=a.writable||a.writable!==!1&&s.writable,c=function(){s.writable||d()},f=s._writableState&&s._writableState.finished,d=function(){u=!1,f=!0,l||o.call(s)},h=s._readableState&&s._readableState.endEmitted,y=function(){l=!1,h=!0,u||o.call(s)},v=function(b){o.call(s,b)},x=function(){var b;if(l&&!h)return(!s._readableState||!s._readableState.ended)&&(b=new t),o.call(s,b);if(u&&!f)return(!s._writableState||!s._writableState.ended)&&(b=new t),o.call(s,b)},m=function(){s.req.on("finish",d)};return n(s)?(s.on("complete",d),s.on("abort",x),s.req?m():s.on("request",m)):u&&!s._writableState&&(s.on("end",c),s.on("close",c)),s.on("end",y),s.on("finish",d),a.error!==!1&&s.on("error",v),s.on("close",x),function(){s.removeListener("complete",d),s.removeListener("abort",x),s.removeListener("request",m),s.req&&s.req.removeListener("finish",d),s.removeListener("end",c),s.removeListener("close",c),s.removeListener("finish",d),s.removeListener("end",y),s.removeListener("error",v),s.removeListener("close",x)}}return qv=i,qv}function f$(){if(t2)return Vv;t2=1;var t;function e(m,_,b){return _ in m?Object.defineProperty(m,_,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[_]=b,m}var r=f1(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),a=Symbol("ended"),o=Symbol("lastPromise"),l=Symbol("handlePromise"),u=Symbol("stream");function c(m,_){return{value:m,done:_}}function f(m){var _=m[n];if(_!==null){var b=m[u].read();b!==null&&(m[o]=null,m[n]=null,m[i]=null,_(c(b,!1)))}}function d(m){Ce.nextTick(f,m)}function h(m,_){return function(b,w){m.then(function(){if(_[a]){b(c(void 0,!0));return}_[l](b,w)},w)}}var y=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((t={get stream(){return this[u]},next:function(){var _=this,b=this[s];if(b!==null)return Promise.reject(b);if(this[a])return Promise.resolve(c(void 0,!0));if(this[u].destroyed)return new Promise(function(M,U){Ce.nextTick(function(){_[s]?U(_[s]):M(c(void 0,!0))})});var w=this[o],T;if(w)T=new Promise(h(w,this));else{var P=this[u].read();if(P!==null)return Promise.resolve(c(P,!1));T=new Promise(this[l])}return this[o]=T,T}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var _=this;return new Promise(function(b,w){_[u].destroy(null,function(T){if(T){w(T);return}b(c(void 0,!0))})})}),t),y),x=function(_){var b,w=Object.create(v,(b={},e(b,u,{value:_,writable:!0}),e(b,n,{value:null,writable:!0}),e(b,i,{value:null,writable:!0}),e(b,s,{value:null,writable:!0}),e(b,a,{value:_._readableState.endEmitted,writable:!0}),e(b,l,{value:function(P,M){var U=w[u].read();U?(w[o]=null,w[n]=null,w[i]=null,P(c(U,!1))):(w[n]=P,w[i]=M)},writable:!0}),b));return w[o]=null,r(_,function(T){if(T&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"){var P=w[i];P!==null&&(w[o]=null,w[n]=null,w[i]=null,P(T)),w[s]=T;return}var M=w[n];M!==null&&(w[o]=null,w[n]=null,w[i]=null,M(c(void 0,!0))),w[a]=!0}),_.on("readable",d.bind(null,w)),w};return Vv=x,Vv}function h$(){return r2||(r2=1,Kv=function(){throw new Error("Readable.from is not available in the browser")}),Kv}function n5(){if(n2)return Gv;n2=1,Gv=R;var t;R.ReadableState=U,a1().EventEmitter;var e=function(L,Z){return L.listeners(Z).length},r=W2(),n=wf().Buffer,i=qr.Uint8Array||function(){};function s(I){return n.from(I)}function a(I){return n.isBuffer(I)||I instanceof i}var o=Q2(),l;o&&o.debuglog?l=o.debuglog("stream"):l=function(){};var u=l$(),c=e5(),f=t5(),d=f.getHighWaterMark,h=Js().codes,y=h.ERR_INVALID_ARG_TYPE,v=h.ERR_STREAM_PUSH_AFTER_EOF,x=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,_,b,w;ei()(R,r);var T=c.errorOrDestroy,P=["error","close","destroy","pause","resume"];function M(I,L,Z){if(typeof I.prependListener=="function")return I.prependListener(L,Z);!I._events||!I._events[L]?I.on(L,Z):Array.isArray(I._events[L])?I._events[L].unshift(Z):I._events[L]=[Z,I._events[L]]}function U(I,L,Z){t=t||zs(),I=I||{},typeof Z!="boolean"&&(Z=L instanceof t),this.objectMode=!!I.objectMode,Z&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=d(this,I,"readableHighWaterMark",Z),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(_||(_=Ey().StringDecoder),this.decoder=new _(I.encoding),this.encoding=I.encoding)}function R(I){if(t=t||zs(),!(this instanceof R))return new R(I);var L=this instanceof t;this._readableState=new U(I,this,L),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),r.call(this)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),R.prototype.destroy=c.destroy,R.prototype._undestroy=c.undestroy,R.prototype._destroy=function(I,L){L(I)},R.prototype.push=function(I,L){var Z=this._readableState,E;return Z.objectMode?E=!0:typeof I=="string"&&(L=L||Z.defaultEncoding,L!==Z.encoding&&(I=n.from(I,L),L=""),E=!0),J(this,I,L,!1,E)},R.prototype.unshift=function(I){return J(this,I,null,!0,!1)};function J(I,L,Z,E,Y){l("readableAddChunk",L);var N=I._readableState;if(L===null)N.reading=!1,Q(I,N);else{var p;if(Y||(p=C(N,L)),p)T(I,p);else if(N.objectMode||L&&L.length>0)if(typeof L!="string"&&!N.objectMode&&Object.getPrototypeOf(L)!==n.prototype&&(L=s(L)),E)N.endEmitted?T(I,new m):oe(I,N,L,!0);else if(N.ended)T(I,new v);else{if(N.destroyed)return!1;N.reading=!1,N.decoder&&!Z?(L=N.decoder.write(L),N.objectMode||L.length!==0?oe(I,N,L,!1):ee(I,N)):oe(I,N,L,!1)}else E||(N.reading=!1,ee(I,N))}return!N.ended&&(N.length<N.highWaterMark||N.length===0)}function oe(I,L,Z,E){L.flowing&&L.length===0&&!L.sync?(L.awaitDrain=0,I.emit("data",Z)):(L.length+=L.objectMode?1:Z.length,E?L.buffer.unshift(Z):L.buffer.push(Z),L.needReadable&&j(I)),ee(I,L)}function C(I,L){var Z;return!a(L)&&typeof L!="string"&&L!==void 0&&!I.objectMode&&(Z=new y("chunk",["string","Buffer","Uint8Array"],L)),Z}R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function(I){_||(_=Ey().StringDecoder);var L=new _(I);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;for(var Z=this._readableState.buffer.head,E="";Z!==null;)E+=L.write(Z.data),Z=Z.next;return this._readableState.buffer.clear(),E!==""&&this._readableState.buffer.push(E),this._readableState.length=E.length,this};var H=1073741824;function k(I){return I>=H?I=H:(I--,I|=I>>>1,I|=I>>>2,I|=I>>>4,I|=I>>>8,I|=I>>>16,I++),I}function V(I,L){return I<=0||L.length===0&&L.ended?0:L.objectMode?1:I!==I?L.flowing&&L.length?L.buffer.head.data.length:L.length:(I>L.highWaterMark&&(L.highWaterMark=k(I)),I<=L.length?I:L.ended?L.length:(L.needReadable=!0,0))}R.prototype.read=function(I){l("read",I),I=parseInt(I,10);var L=this._readableState,Z=I;if(I!==0&&(L.emittedReadable=!1),I===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return l("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?A(this):j(this),null;if(I=V(I,L),I===0&&L.ended)return L.length===0&&A(this),null;var E=L.needReadable;l("need readable",E),(L.length===0||L.length-I<L.highWaterMark)&&(E=!0,l("length less than watermark",E)),L.ended||L.reading?(E=!1,l("reading or ended",E)):E&&(l("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(I=V(Z,L)));var Y;return I>0?Y=O(I,L):Y=null,Y===null?(L.needReadable=L.length<=L.highWaterMark,I=0):(L.length-=I,L.awaitDrain=0),L.length===0&&(L.ended||(L.needReadable=!0),Z!==I&&L.ended&&A(this)),Y!==null&&this.emit("data",Y),Y};function Q(I,L){if(l("onEofChunk"),!L.ended){if(L.decoder){var Z=L.decoder.end();Z&&Z.length&&(L.buffer.push(Z),L.length+=L.objectMode?1:Z.length)}L.ended=!0,L.sync?j(I):(L.needReadable=!1,L.emittedReadable||(L.emittedReadable=!0,ie(I)))}}function j(I){var L=I._readableState;l("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(l("emitReadable",L.flowing),L.emittedReadable=!0,Ce.nextTick(ie,I))}function ie(I){var L=I._readableState;l("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&(L.length||L.ended)&&(I.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,K(I)}function ee(I,L){L.readingMore||(L.readingMore=!0,Ce.nextTick(le,I,L))}function le(I,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){var Z=L.length;if(l("maybeReadMore read 0"),I.read(0),Z===L.length)break}L.readingMore=!1}R.prototype._read=function(I){T(this,new x("_read()"))},R.prototype.pipe=function(I,L){var Z=this,E=this._readableState;switch(E.pipesCount){case 0:E.pipes=I;break;case 1:E.pipes=[E.pipes,I];break;default:E.pipes.push(I);break}E.pipesCount+=1,l("pipe count=%d opts=%j",E.pipesCount,L);var Y=(!L||L.end!==!1)&&I!==Ce.stdout&&I!==Ce.stderr,N=Y?g:fe;E.endEmitted?Ce.nextTick(N):Z.once("end",N),I.on("unpipe",p);function p(pe,ve){l("onunpipe"),pe===Z&&ve&&ve.hasUnpiped===!1&&(ve.hasUnpiped=!0,q())}function g(){l("onend"),I.end()}var S=G(Z);I.on("drain",S);var F=!1;function q(){l("cleanup"),I.removeListener("close",ae),I.removeListener("finish",se),I.removeListener("drain",S),I.removeListener("error",ne),I.removeListener("unpipe",p),Z.removeListener("end",g),Z.removeListener("end",fe),Z.removeListener("data",z),F=!0,E.awaitDrain&&(!I._writableState||I._writableState.needDrain)&&S()}Z.on("data",z);function z(pe){l("ondata");var ve=I.write(pe);l("dest.write",ve),ve===!1&&((E.pipesCount===1&&E.pipes===I||E.pipesCount>1&&B(E.pipes,I)!==-1)&&!F&&(l("false write response, pause",E.awaitDrain),E.awaitDrain++),Z.pause())}function ne(pe){l("onerror",pe),fe(),I.removeListener("error",ne),e(I,"error")===0&&T(I,pe)}M(I,"error",ne);function ae(){I.removeListener("finish",se),fe()}I.once("close",ae);function se(){l("onfinish"),I.removeListener("close",ae),fe()}I.once("finish",se);function fe(){l("unpipe"),Z.unpipe(I)}return I.emit("pipe",Z),E.flowing||(l("pipe resume"),Z.resume()),I};function G(I){return function(){var Z=I._readableState;l("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&e(I,"data")&&(Z.flowing=!0,K(I))}}R.prototype.unpipe=function(I){var L=this._readableState,Z={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return I&&I!==L.pipes?this:(I||(I=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,I&&I.emit("unpipe",this,Z),this);if(!I){var E=L.pipes,Y=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var N=0;N<Y;N++)E[N].emit("unpipe",this,{hasUnpiped:!1});return this}var p=B(L.pipes,I);return p===-1?this:(L.pipes.splice(p,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),I.emit("unpipe",this,Z),this)},R.prototype.on=function(I,L){var Z=r.prototype.on.call(this,I,L),E=this._readableState;return I==="data"?(E.readableListening=this.listenerCount("readable")>0,E.flowing!==!1&&this.resume()):I==="readable"&&!E.endEmitted&&!E.readableListening&&(E.readableListening=E.needReadable=!0,E.flowing=!1,E.emittedReadable=!1,l("on readable",E.length,E.reading),E.length?j(this):E.reading||Ce.nextTick($,this)),Z},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(I,L){var Z=r.prototype.removeListener.call(this,I,L);return I==="readable"&&Ce.nextTick(D,this),Z},R.prototype.removeAllListeners=function(I){var L=r.prototype.removeAllListeners.apply(this,arguments);return(I==="readable"||I===void 0)&&Ce.nextTick(D,this),L};function D(I){var L=I._readableState;L.readableListening=I.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:I.listenerCount("data")>0&&I.resume()}function $(I){l("readable nexttick read 0"),I.read(0)}R.prototype.resume=function(){var I=this._readableState;return I.flowing||(l("resume"),I.flowing=!I.readableListening,X(this,I)),I.paused=!1,this};function X(I,L){L.resumeScheduled||(L.resumeScheduled=!0,Ce.nextTick(re,I,L))}function re(I,L){l("resume",L.reading),L.reading||I.read(0),L.resumeScheduled=!1,I.emit("resume"),K(I),L.flowing&&!L.reading&&I.read(0)}R.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function K(I){var L=I._readableState;for(l("flow",L.flowing);L.flowing&&I.read()!==null;);}R.prototype.wrap=function(I){var L=this,Z=this._readableState,E=!1;I.on("end",function(){if(l("wrapped end"),Z.decoder&&!Z.ended){var p=Z.decoder.end();p&&p.length&&L.push(p)}L.push(null)}),I.on("data",function(p){if(l("wrapped data"),Z.decoder&&(p=Z.decoder.write(p)),!(Z.objectMode&&p==null)&&!(!Z.objectMode&&(!p||!p.length))){var g=L.push(p);g||(E=!0,I.pause())}});for(var Y in I)this[Y]===void 0&&typeof I[Y]=="function"&&(this[Y]=(function(g){return function(){return I[g].apply(I,arguments)}})(Y));for(var N=0;N<P.length;N++)I.on(P[N],this.emit.bind(this,P[N]));return this._read=function(p){l("wrapped _read",p),E&&(E=!1,I.resume())},this},typeof Symbol=="function"&&(R.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=f$()),b(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),R._fromList=O,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function O(I,L){if(L.length===0)return null;var Z;return L.objectMode?Z=L.buffer.shift():!I||I>=L.length?(L.decoder?Z=L.buffer.join(""):L.buffer.length===1?Z=L.buffer.first():Z=L.buffer.concat(L.length),L.buffer.clear()):Z=L.buffer.consume(I,L.decoder),Z}function A(I){var L=I._readableState;l("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,Ce.nextTick(W,L,I))}function W(I,L){if(l("endReadableNT",I.endEmitted,I.length),!I.endEmitted&&I.length===0&&(I.endEmitted=!0,L.readable=!1,L.emit("end"),I.autoDestroy)){var Z=L._writableState;(!Z||Z.autoDestroy&&Z.finished)&&L.destroy()}}typeof Symbol=="function"&&(R.from=function(I,L){return w===void 0&&(w=h$()),w(R,I,L)});function B(I,L){for(var Z=0,E=I.length;Z<E;Z++)if(I[Z]===L)return Z;return-1}return Gv}function i5(){if(i2)return $v;i2=1,$v=o;var t=Js().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=zs();ei()(o,s);function a(c,f){var d=this._transformState;d.transforming=!1;var h=d.writecb;if(h===null)return this.emit("error",new r);d.writechunk=null,d.writecb=null,f!=null&&this.push(f),h(c);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function o(c){if(!(this instanceof o))return new o(c);s.call(this,c),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function l(){var c=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,d){u(c,f,d)}):u(this,null,null)}o.prototype.push=function(c,f){return this._transformState.needTransform=!1,s.prototype.push.call(this,c,f)},o.prototype._transform=function(c,f,d){d(new e("_transform()"))},o.prototype._write=function(c,f,d){var h=this._transformState;if(h.writecb=d,h.writechunk=c,h.writeencoding=f,!h.transforming){var y=this._readableState;(h.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},o.prototype._read=function(c){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},o.prototype._destroy=function(c,f){s.prototype._destroy.call(this,c,function(d){f(d)})};function u(c,f,d){if(f)return c.emit("error",f);if(d!=null&&c.push(d),c._writableState.length)throw new i;if(c._transformState.transforming)throw new n;return c.push(null)}return $v}function d$(){if(s2)return Jv;s2=1,Jv=e;var t=i5();ei()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},Jv}function p$(){if(o2)return Xv;o2=1;var t;function e(d){var h=!1;return function(){h||(h=!0,d.apply(void 0,arguments))}}var r=Js().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(d){if(d)throw d}function a(d){return d.setHeader&&typeof d.abort=="function"}function o(d,h,y,v){v=e(v);var x=!1;d.on("close",function(){x=!0}),t===void 0&&(t=f1()),t(d,{readable:h,writable:y},function(_){if(_)return v(_);x=!0,v()});var m=!1;return function(_){if(!x&&!m){if(m=!0,a(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();v(_||new i("pipe"))}}}function l(d){d()}function u(d,h){return d.pipe(h)}function c(d){return!d.length||typeof d[d.length-1]!="function"?s:d.pop()}function f(){for(var d=arguments.length,h=new Array(d),y=0;y<d;y++)h[y]=arguments[y];var v=c(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new n("streams");var x,m=h.map(function(_,b){var w=b<h.length-1,T=b>0;return o(_,w,T,function(P){x||(x=P),P&&m.forEach(l),!w&&(m.forEach(l),v(x))})});return h.reduce(u)}return Xv=f,Xv}function h1(){if(a2)return Yv;a2=1,Yv=r;var t=a1().EventEmitter,e=ei();e(r,t),r.Readable=n5(),r.Writable=r5(),r.Duplex=zs(),r.Transform=i5(),r.PassThrough=d$(),r.finished=f1(),r.pipeline=p$(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(n,i){var s=this;function a(h){n.writable&&n.write(h)===!1&&s.pause&&s.pause()}s.on("data",a);function o(){s.readable&&s.resume&&s.resume()}n.on("drain",o),!n._isStdio&&(!i||i.end!==!1)&&(s.on("end",u),s.on("close",c));var l=!1;function u(){l||(l=!0,n.end())}function c(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function f(h){if(d(),t.listenerCount(this,"error")===0)throw h}s.on("error",f),n.on("error",f);function d(){s.removeListener("data",a),n.removeListener("drain",o),s.removeListener("end",u),s.removeListener("close",c),s.removeListener("error",f),n.removeListener("error",f),s.removeListener("end",d),s.removeListener("close",d),n.removeListener("close",d)}return s.on("end",d),s.on("close",d),n.on("close",d),n.emit("pipe",s),n},Yv}function m$(){return l2||(l2=1,(function(t){(function(e){e.parser=function(O,A){return new n(O,A)},e.SAXParser=n,e.SAXStream=c,e.createStream=u,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(O,A){if(!(this instanceof n))return new n(O,A);var W=this;s(W),W.q=W.c="",W.bufferCheckPosition=e.MAX_BUFFER_LENGTH,W.opt=A||{},W.opt.lowercase=W.opt.lowercase||W.opt.lowercasetags,W.looseCase=W.opt.lowercase?"toLowerCase":"toUpperCase",W.tags=[],W.closed=W.closedRoot=W.sawRoot=!1,W.tag=W.error=null,W.strict=!!O,W.noscript=!!(O||W.opt.noscript),W.state=R.BEGIN,W.strictEntities=W.opt.strictEntities,W.ENTITIES=W.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),W.attribList=[],W.opt.xmlns&&(W.ns=Object.create(v)),W.trackPosition=W.opt.position!==!1,W.trackPosition&&(W.position=W.line=W.column=0),oe(W,"onready")}Object.create||(Object.create=function(O){function A(){}A.prototype=O;var W=new A;return W}),Object.keys||(Object.keys=function(O){var A=[];for(var W in O)O.hasOwnProperty(W)&&A.push(W);return A});function i(O){for(var A=Math.max(e.MAX_BUFFER_LENGTH,10),W=0,B=0,I=r.length;B<I;B++){var L=O[r[B]].length;if(L>A)switch(r[B]){case"textNode":H(O);break;case"cdata":C(O,"oncdata",O.cdata),O.cdata="";break;case"script":C(O,"onscript",O.script),O.script="";break;default:V(O,"Max buffer length exceeded: "+r[B])}W=Math.max(W,L)}var Z=e.MAX_BUFFER_LENGTH-W;O.bufferCheckPosition=Z+O.position}function s(O){for(var A=0,W=r.length;A<W;A++)O[r[A]]=""}function a(O){H(O),O.cdata!==""&&(C(O,"oncdata",O.cdata),O.cdata=""),O.script!==""&&(C(O,"onscript",O.script),O.script="")}n.prototype={end:function(){Q(this)},write:K,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var o;try{o=h1().Stream}catch{o=function(){}}var l=e.EVENTS.filter(function(O){return O!=="error"&&O!=="end"});function u(O,A){return new c(O,A)}function c(O,A){if(!(this instanceof c))return new c(O,A);o.apply(this),this._parser=new n(O,A),this.writable=!0,this.readable=!0;var W=this;this._parser.onend=function(){W.emit("end")},this._parser.onerror=function(B){W.emit("error",B),W._parser.error=null},this._decoder=null,l.forEach(function(B){Object.defineProperty(W,"on"+B,{get:function(){return W._parser["on"+B]},set:function(I){if(!I)return W.removeAllListeners(B),W._parser["on"+B]=I,I;W.on(B,I)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(o.prototype,{constructor:{value:c}}),c.prototype.write=function(O){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(O)){if(!this._decoder){var A=Ey().StringDecoder;this._decoder=new A("utf8")}O=this._decoder.write(O)}return this._parser.write(O.toString()),this.emit("data",O),!0},c.prototype.end=function(O){return O&&O.length&&this.write(O),this._parser.end(),!0},c.prototype.on=function(O,A){var W=this;return!W._parser["on"+O]&&l.indexOf(O)!==-1&&(W._parser["on"+O]=function(){var B=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);B.splice(0,0,O),W.emit.apply(W,B)}),o.prototype.on.call(W,O,A)};var f="[CDATA[",d="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",v={xml:h,xmlns:y},x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function w(O){return O===" "||O===`
`||O==="\r"||O==="	"}function T(O){return O==='"'||O==="'"}function P(O){return O===">"||w(O)}function M(O,A){return O.test(A)}function U(O,A){return!M(O,A)}var R=0;e.STATE={BEGIN:R++,BEGIN_WHITESPACE:R++,TEXT:R++,TEXT_ENTITY:R++,OPEN_WAKA:R++,SGML_DECL:R++,SGML_DECL_QUOTED:R++,DOCTYPE:R++,DOCTYPE_QUOTED:R++,DOCTYPE_DTD:R++,DOCTYPE_DTD_QUOTED:R++,COMMENT_STARTING:R++,COMMENT:R++,COMMENT_ENDING:R++,COMMENT_ENDED:R++,CDATA:R++,CDATA_ENDING:R++,CDATA_ENDING_2:R++,PROC_INST:R++,PROC_INST_BODY:R++,PROC_INST_ENDING:R++,OPEN_TAG:R++,OPEN_TAG_SLASH:R++,ATTRIB:R++,ATTRIB_NAME:R++,ATTRIB_NAME_SAW_WHITE:R++,ATTRIB_VALUE:R++,ATTRIB_VALUE_QUOTED:R++,ATTRIB_VALUE_CLOSED:R++,ATTRIB_VALUE_UNQUOTED:R++,ATTRIB_VALUE_ENTITY_Q:R++,ATTRIB_VALUE_ENTITY_U:R++,CLOSE_TAG:R++,CLOSE_TAG_SAW_WHITE:R++,SCRIPT:R++,SCRIPT_ENDING:R++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(O){var A=e.ENTITIES[O],W=typeof A=="number"?String.fromCharCode(A):A;e.ENTITIES[O]=W});for(var J in e.STATE)e.STATE[e.STATE[J]]=J;R=e.STATE;function oe(O,A,W){O[A]&&O[A](W)}function C(O,A,W){O.textNode&&H(O),oe(O,A,W)}function H(O){O.textNode=k(O.opt,O.textNode),O.textNode&&oe(O,"ontext",O.textNode),O.textNode=""}function k(O,A){return O.trim&&(A=A.trim()),O.normalize&&(A=A.replace(/\s+/g," ")),A}function V(O,A){return H(O),O.trackPosition&&(A+=`
Line: `+O.line+`
Column: `+O.column+`
Char: `+O.c),A=new Error(A),O.error=A,oe(O,"onerror",A),O}function Q(O){return O.sawRoot&&!O.closedRoot&&j(O,"Unclosed root tag"),O.state!==R.BEGIN&&O.state!==R.BEGIN_WHITESPACE&&O.state!==R.TEXT&&V(O,"Unexpected end"),H(O),O.c="",O.closed=!0,oe(O,"onend"),n.call(O,O.strict,O.opt),O}function j(O,A){if(typeof O!="object"||!(O instanceof n))throw new Error("bad call to strictFail");O.strict&&V(O,A)}function ie(O){O.strict||(O.tagName=O.tagName[O.looseCase]());var A=O.tags[O.tags.length-1]||O,W=O.tag={name:O.tagName,attributes:{}};O.opt.xmlns&&(W.ns=A.ns),O.attribList.length=0,C(O,"onopentagstart",W)}function ee(O,A){var W=O.indexOf(":"),B=W<0?["",O]:O.split(":"),I=B[0],L=B[1];return A&&O==="xmlns"&&(I="xmlns",L=""),{prefix:I,local:L}}function le(O){if(O.strict||(O.attribName=O.attribName[O.looseCase]()),O.attribList.indexOf(O.attribName)!==-1||O.tag.attributes.hasOwnProperty(O.attribName)){O.attribName=O.attribValue="";return}if(O.opt.xmlns){var A=ee(O.attribName,!0),W=A.prefix,B=A.local;if(W==="xmlns")if(B==="xml"&&O.attribValue!==h)j(O,"xml: prefix must be bound to "+h+`
Actual: `+O.attribValue);else if(B==="xmlns"&&O.attribValue!==y)j(O,"xmlns: prefix must be bound to "+y+`
Actual: `+O.attribValue);else{var I=O.tag,L=O.tags[O.tags.length-1]||O;I.ns===L.ns&&(I.ns=Object.create(L.ns)),I.ns[B]=O.attribValue}O.attribList.push([O.attribName,O.attribValue])}else O.tag.attributes[O.attribName]=O.attribValue,C(O,"onattribute",{name:O.attribName,value:O.attribValue});O.attribName=O.attribValue=""}function G(O,A){if(O.opt.xmlns){var W=O.tag,B=ee(O.tagName);W.prefix=B.prefix,W.local=B.local,W.uri=W.ns[B.prefix]||"",W.prefix&&!W.uri&&(j(O,"Unbound namespace prefix: "+JSON.stringify(O.tagName)),W.uri=B.prefix);var I=O.tags[O.tags.length-1]||O;W.ns&&I.ns!==W.ns&&Object.keys(W.ns).forEach(function(z){C(O,"onopennamespace",{prefix:z,uri:W.ns[z]})});for(var L=0,Z=O.attribList.length;L<Z;L++){var E=O.attribList[L],Y=E[0],N=E[1],p=ee(Y,!0),g=p.prefix,S=p.local,F=g===""?"":W.ns[g]||"",q={name:Y,value:N,prefix:g,local:S,uri:F};g&&g!=="xmlns"&&!F&&(j(O,"Unbound namespace prefix: "+JSON.stringify(g)),q.uri=g),O.tag.attributes[Y]=q,C(O,"onattribute",q)}O.attribList.length=0}O.tag.isSelfClosing=!!A,O.sawRoot=!0,O.tags.push(O.tag),C(O,"onopentag",O.tag),A||(!O.noscript&&O.tagName.toLowerCase()==="script"?O.state=R.SCRIPT:O.state=R.TEXT,O.tag=null,O.tagName=""),O.attribName=O.attribValue="",O.attribList.length=0}function D(O){if(!O.tagName){j(O,"Weird empty close tag."),O.textNode+="</>",O.state=R.TEXT;return}if(O.script){if(O.tagName!=="script"){O.script+="</"+O.tagName+">",O.tagName="",O.state=R.SCRIPT;return}C(O,"onscript",O.script),O.script=""}var A=O.tags.length,W=O.tagName;O.strict||(W=W[O.looseCase]());for(var B=W;A--;){var I=O.tags[A];if(I.name!==B)j(O,"Unexpected close tag");else break}if(A<0){j(O,"Unmatched closing tag: "+O.tagName),O.textNode+="</"+O.tagName+">",O.state=R.TEXT;return}O.tagName=W;for(var L=O.tags.length;L-- >A;){var Z=O.tag=O.tags.pop();O.tagName=O.tag.name,C(O,"onclosetag",O.tagName);var E={};for(var Y in Z.ns)E[Y]=Z.ns[Y];var N=O.tags[O.tags.length-1]||O;O.opt.xmlns&&Z.ns!==N.ns&&Object.keys(Z.ns).forEach(function(p){var g=Z.ns[p];C(O,"onclosenamespace",{prefix:p,uri:g})})}A===0&&(O.closedRoot=!0),O.tagName=O.attribValue=O.attribName="",O.attribList.length=0,O.state=R.TEXT}function $(O){var A=O.entity,W=A.toLowerCase(),B,I="";return O.ENTITIES[A]?O.ENTITIES[A]:O.ENTITIES[W]?O.ENTITIES[W]:(A=W,A.charAt(0)==="#"&&(A.charAt(1)==="x"?(A=A.slice(2),B=parseInt(A,16),I=B.toString(16)):(A=A.slice(1),B=parseInt(A,10),I=B.toString(10))),A=A.replace(/^0+/,""),isNaN(B)||I.toLowerCase()!==A?(j(O,"Invalid character entity"),"&"+O.entity+";"):String.fromCodePoint(B))}function X(O,A){A==="<"?(O.state=R.OPEN_WAKA,O.startTagPosition=O.position):w(A)||(j(O,"Non-whitespace before first tag."),O.textNode=A,O.state=R.TEXT)}function re(O,A){var W="";return A<O.length&&(W=O.charAt(A)),W}function K(O){var A=this;if(this.error)throw this.error;if(A.closed)return V(A,"Cannot write after close. Assign an onready handler.");if(O===null)return Q(A);typeof O=="object"&&(O=O.toString());for(var W=0,B="";B=re(O,W++),A.c=B,!!B;)switch(A.trackPosition&&(A.position++,B===`
`?(A.line++,A.column=0):A.column++),A.state){case R.BEGIN:if(A.state=R.BEGIN_WHITESPACE,B==="\uFEFF")continue;X(A,B);continue;case R.BEGIN_WHITESPACE:X(A,B);continue;case R.TEXT:if(A.sawRoot&&!A.closedRoot){for(var I=W-1;B&&B!=="<"&&B!=="&";)B=re(O,W++),B&&A.trackPosition&&(A.position++,B===`
`?(A.line++,A.column=0):A.column++);A.textNode+=O.substring(I,W-1)}B==="<"&&!(A.sawRoot&&A.closedRoot&&!A.strict)?(A.state=R.OPEN_WAKA,A.startTagPosition=A.position):(!w(B)&&(!A.sawRoot||A.closedRoot)&&j(A,"Text data outside of root node."),B==="&"?A.state=R.TEXT_ENTITY:A.textNode+=B);continue;case R.SCRIPT:B==="<"?A.state=R.SCRIPT_ENDING:A.script+=B;continue;case R.SCRIPT_ENDING:B==="/"?A.state=R.CLOSE_TAG:(A.script+="<"+B,A.state=R.SCRIPT);continue;case R.OPEN_WAKA:if(B==="!")A.state=R.SGML_DECL,A.sgmlDecl="";else if(!w(B))if(M(x,B))A.state=R.OPEN_TAG,A.tagName=B;else if(B==="/")A.state=R.CLOSE_TAG,A.tagName="";else if(B==="?")A.state=R.PROC_INST,A.procInstName=A.procInstBody="";else{if(j(A,"Unencoded <"),A.startTagPosition+1<A.position){var L=A.position-A.startTagPosition;B=new Array(L).join(" ")+B}A.textNode+="<"+B,A.state=R.TEXT}continue;case R.SGML_DECL:(A.sgmlDecl+B).toUpperCase()===f?(C(A,"onopencdata"),A.state=R.CDATA,A.sgmlDecl="",A.cdata=""):A.sgmlDecl+B==="--"?(A.state=R.COMMENT,A.comment="",A.sgmlDecl=""):(A.sgmlDecl+B).toUpperCase()===d?(A.state=R.DOCTYPE,(A.doctype||A.sawRoot)&&j(A,"Inappropriately located doctype declaration"),A.doctype="",A.sgmlDecl=""):B===">"?(C(A,"onsgmldeclaration",A.sgmlDecl),A.sgmlDecl="",A.state=R.TEXT):(T(B)&&(A.state=R.SGML_DECL_QUOTED),A.sgmlDecl+=B);continue;case R.SGML_DECL_QUOTED:B===A.q&&(A.state=R.SGML_DECL,A.q=""),A.sgmlDecl+=B;continue;case R.DOCTYPE:B===">"?(A.state=R.TEXT,C(A,"ondoctype",A.doctype),A.doctype=!0):(A.doctype+=B,B==="["?A.state=R.DOCTYPE_DTD:T(B)&&(A.state=R.DOCTYPE_QUOTED,A.q=B));continue;case R.DOCTYPE_QUOTED:A.doctype+=B,B===A.q&&(A.q="",A.state=R.DOCTYPE);continue;case R.DOCTYPE_DTD:A.doctype+=B,B==="]"?A.state=R.DOCTYPE:T(B)&&(A.state=R.DOCTYPE_DTD_QUOTED,A.q=B);continue;case R.DOCTYPE_DTD_QUOTED:A.doctype+=B,B===A.q&&(A.state=R.DOCTYPE_DTD,A.q="");continue;case R.COMMENT:B==="-"?A.state=R.COMMENT_ENDING:A.comment+=B;continue;case R.COMMENT_ENDING:B==="-"?(A.state=R.COMMENT_ENDED,A.comment=k(A.opt,A.comment),A.comment&&C(A,"oncomment",A.comment),A.comment=""):(A.comment+="-"+B,A.state=R.COMMENT);continue;case R.COMMENT_ENDED:B!==">"?(j(A,"Malformed comment"),A.comment+="--"+B,A.state=R.COMMENT):A.state=R.TEXT;continue;case R.CDATA:B==="]"?A.state=R.CDATA_ENDING:A.cdata+=B;continue;case R.CDATA_ENDING:B==="]"?A.state=R.CDATA_ENDING_2:(A.cdata+="]"+B,A.state=R.CDATA);continue;case R.CDATA_ENDING_2:B===">"?(A.cdata&&C(A,"oncdata",A.cdata),C(A,"onclosecdata"),A.cdata="",A.state=R.TEXT):B==="]"?A.cdata+="]":(A.cdata+="]]"+B,A.state=R.CDATA);continue;case R.PROC_INST:B==="?"?A.state=R.PROC_INST_ENDING:w(B)?A.state=R.PROC_INST_BODY:A.procInstName+=B;continue;case R.PROC_INST_BODY:if(!A.procInstBody&&w(B))continue;B==="?"?A.state=R.PROC_INST_ENDING:A.procInstBody+=B;continue;case R.PROC_INST_ENDING:B===">"?(C(A,"onprocessinginstruction",{name:A.procInstName,body:A.procInstBody}),A.procInstName=A.procInstBody="",A.state=R.TEXT):(A.procInstBody+="?"+B,A.state=R.PROC_INST_BODY);continue;case R.OPEN_TAG:M(m,B)?A.tagName+=B:(ie(A),B===">"?G(A):B==="/"?A.state=R.OPEN_TAG_SLASH:(w(B)||j(A,"Invalid character in tag name"),A.state=R.ATTRIB));continue;case R.OPEN_TAG_SLASH:B===">"?(G(A,!0),D(A)):(j(A,"Forward-slash in opening tag not followed by >"),A.state=R.ATTRIB);continue;case R.ATTRIB:if(w(B))continue;B===">"?G(A):B==="/"?A.state=R.OPEN_TAG_SLASH:M(x,B)?(A.attribName=B,A.attribValue="",A.state=R.ATTRIB_NAME):j(A,"Invalid attribute name");continue;case R.ATTRIB_NAME:B==="="?A.state=R.ATTRIB_VALUE:B===">"?(j(A,"Attribute without value"),A.attribValue=A.attribName,le(A),G(A)):w(B)?A.state=R.ATTRIB_NAME_SAW_WHITE:M(m,B)?A.attribName+=B:j(A,"Invalid attribute name");continue;case R.ATTRIB_NAME_SAW_WHITE:if(B==="=")A.state=R.ATTRIB_VALUE;else{if(w(B))continue;j(A,"Attribute without value"),A.tag.attributes[A.attribName]="",A.attribValue="",C(A,"onattribute",{name:A.attribName,value:""}),A.attribName="",B===">"?G(A):M(x,B)?(A.attribName=B,A.state=R.ATTRIB_NAME):(j(A,"Invalid attribute name"),A.state=R.ATTRIB)}continue;case R.ATTRIB_VALUE:if(w(B))continue;T(B)?(A.q=B,A.state=R.ATTRIB_VALUE_QUOTED):(j(A,"Unquoted attribute value"),A.state=R.ATTRIB_VALUE_UNQUOTED,A.attribValue=B);continue;case R.ATTRIB_VALUE_QUOTED:if(B!==A.q){B==="&"?A.state=R.ATTRIB_VALUE_ENTITY_Q:A.attribValue+=B;continue}le(A),A.q="",A.state=R.ATTRIB_VALUE_CLOSED;continue;case R.ATTRIB_VALUE_CLOSED:w(B)?A.state=R.ATTRIB:B===">"?G(A):B==="/"?A.state=R.OPEN_TAG_SLASH:M(x,B)?(j(A,"No whitespace between attributes"),A.attribName=B,A.attribValue="",A.state=R.ATTRIB_NAME):j(A,"Invalid attribute name");continue;case R.ATTRIB_VALUE_UNQUOTED:if(!P(B)){B==="&"?A.state=R.ATTRIB_VALUE_ENTITY_U:A.attribValue+=B;continue}le(A),B===">"?G(A):A.state=R.ATTRIB;continue;case R.CLOSE_TAG:if(A.tagName)B===">"?D(A):M(m,B)?A.tagName+=B:A.script?(A.script+="</"+A.tagName,A.tagName="",A.state=R.SCRIPT):(w(B)||j(A,"Invalid tagname in closing tag"),A.state=R.CLOSE_TAG_SAW_WHITE);else{if(w(B))continue;U(x,B)?A.script?(A.script+="</"+B,A.state=R.SCRIPT):j(A,"Invalid tagname in closing tag."):A.tagName=B}continue;case R.CLOSE_TAG_SAW_WHITE:if(w(B))continue;B===">"?D(A):j(A,"Invalid characters in closing tag");continue;case R.TEXT_ENTITY:case R.ATTRIB_VALUE_ENTITY_Q:case R.ATTRIB_VALUE_ENTITY_U:var Z,E;switch(A.state){case R.TEXT_ENTITY:Z=R.TEXT,E="textNode";break;case R.ATTRIB_VALUE_ENTITY_Q:Z=R.ATTRIB_VALUE_QUOTED,E="attribValue";break;case R.ATTRIB_VALUE_ENTITY_U:Z=R.ATTRIB_VALUE_UNQUOTED,E="attribValue";break}B===";"?(A[E]+=$(A),A.entity="",A.state=Z):M(A.entity.length?b:_,B)?A.entity+=B:(j(A,"Invalid character in entity name"),A[E]+="&"+A.entity+B,A.entity="",A.state=Z);continue;default:throw new Error(A,"Unknown state: "+A.state)}return A.position>=A.bufferCheckPosition&&i(A),A}String.fromCodePoint||(function(){var O=String.fromCharCode,A=Math.floor,W=function(){var B=16384,I=[],L,Z,E=-1,Y=arguments.length;if(!Y)return"";for(var N="";++E<Y;){var p=Number(arguments[E]);if(!isFinite(p)||p<0||p>1114111||A(p)!==p)throw RangeError("Invalid code point: "+p);p<=65535?I.push(p):(p-=65536,L=(p>>10)+55296,Z=p%1024+56320,I.push(L,Z)),(E+1===Y||I.length>B)&&(N+=O.apply(null,I),I.length=0)}return N};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:W,configurable:!0,writable:!0}):String.fromCodePoint=W})()})(t)})(Lg)),Lg}function d1(){return u2||(u2=1,Zv={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),Zv}function p1(){if(c2)return Qv;c2=1;var t=d1().isArray;return Qv={copyOptions:function(e){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},ensureFlagExists:function(e,r){(!(e in r)||typeof r[e]!="boolean")&&(r[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,r){(!(e+"Key"in r)||typeof r[e+"Key"]!="string")&&(r[e+"Key"]=r.compact?"_"+e:e)},checkFnExists:function(e,r){return e+"Fn"in r}},Qv}function s5(){if(f2)return ey;f2=1;var t=m$(),e=p1(),r=d1().isArray,n,i;function s(m){return n=e.copyOptions(m),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function a(m){var _=Number(m);if(!isNaN(_))return _;var b=m.toLowerCase();return b==="true"?!0:b==="false"?!1:m}function o(m,_){var b;if(n.compact){if(!i[n[m+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[m+"Key"])!==-1:n.alwaysArray)&&(i[n[m+"Key"]]=[]),i[n[m+"Key"]]&&!r(i[n[m+"Key"]])&&(i[n[m+"Key"]]=[i[n[m+"Key"]]]),m+"Fn"in n&&typeof _=="string"&&(_=n[m+"Fn"](_,i)),m==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(b in _)if(_.hasOwnProperty(b))if("instructionFn"in n)_[b]=n.instructionFn(_[b],b,i);else{var w=_[b];delete _[b],_[n.instructionNameFn(b,w,i)]=w}}r(i[n[m+"Key"]])?i[n[m+"Key"]].push(_):i[n[m+"Key"]]=_}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var T={};if(T[n.typeKey]=m,m==="instruction"){for(b in _)if(_.hasOwnProperty(b))break;T[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(b,_,i):b,n.instructionHasAttributes?(T[n.attributesKey]=_[b][n.attributesKey],"instructionFn"in n&&(T[n.attributesKey]=n.instructionFn(T[n.attributesKey],b,i))):("instructionFn"in n&&(_[b]=n.instructionFn(_[b],b,i)),T[n.instructionKey]=_[b])}else m+"Fn"in n&&(_=n[m+"Fn"](_,i)),T[n[m+"Key"]]=_;n.addParent&&(T[n.parentKey]=i),i[n.elementsKey].push(T)}}function l(m){if("attributesFn"in n&&m&&(m=n.attributesFn(m,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&m){var _;for(_ in m)if(m.hasOwnProperty(_)&&(n.trim&&(m[_]=m[_].trim()),n.nativeTypeAttributes&&(m[_]=a(m[_])),"attributeValueFn"in n&&(m[_]=n.attributeValueFn(m[_],_,i)),"attributeNameFn"in n)){var b=m[_];delete m[_],m[n.attributeNameFn(_,m[_],i)]=b}}return m}function u(m){var _={};if(m.body&&(m.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var b=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,w;(w=b.exec(m.body))!==null;)_[w[1]]=w[2]||w[3]||w[4];_=l(_)}if(m.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(_).length&&(i[n.declarationKey][n.attributesKey]=_),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(m.body=m.body.trim());var T={};n.instructionHasAttributes&&Object.keys(_).length?(T[m.name]={},T[m.name][n.attributesKey]=_):T[m.name]=m.body,o("instruction",T)}}function c(m,_){var b;if(typeof m=="object"&&(_=m.attributes,m=m.name),_=l(_),"elementNameFn"in n&&(m=n.elementNameFn(m,i)),n.compact){if(b={},!n.ignoreAttributes&&_&&Object.keys(_).length){b[n.attributesKey]={};var w;for(w in _)_.hasOwnProperty(w)&&(b[n.attributesKey][w]=_[w])}!(m in i)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(m)!==-1:n.alwaysArray)&&(i[m]=[]),i[m]&&!r(i[m])&&(i[m]=[i[m]]),r(i[m])?i[m].push(b):i[m]=b}else i[n.elementsKey]||(i[n.elementsKey]=[]),b={},b[n.typeKey]="element",b[n.nameKey]=m,!n.ignoreAttributes&&_&&Object.keys(_).length&&(b[n.attributesKey]=_),n.alwaysChildren&&(b[n.elementsKey]=[]),i[n.elementsKey].push(b);b[n.parentKey]=i,i=b}function f(m){n.ignoreText||!m.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(m=m.trim()),n.nativeType&&(m=a(m)),n.sanitize&&(m=m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o("text",m))}function d(m){n.ignoreComment||(n.trim&&(m=m.trim()),o("comment",m))}function h(m){var _=i[n.parentKey];n.addParent||delete i[n.parentKey],i=_}function y(m){n.ignoreCdata||(n.trim&&(m=m.trim()),o("cdata",m))}function v(m){n.ignoreDoctype||(m=m.replace(/^ /,""),n.trim&&(m=m.trim()),o("doctype",m))}function x(m){m.note=m}return ey=function(m,_){var b=t.parser(!0,{}),w={};if(i=w,n=s(_),b.opt={strictEntities:!0},b.onopentag=c,b.ontext=f,b.oncomment=d,b.onclosetag=h,b.onerror=x,b.oncdata=y,b.ondoctype=v,b.onprocessinginstruction=u,b.write(m).close(),w[n.elementsKey]){var T=w[n.elementsKey];delete w[n.elementsKey],w[n.elementsKey]=T,delete w.text}return w},ey}function g$(){if(h2)return ty;h2=1;var t=p1(),e=s5();function r(n){var i=t.copyOptions(n);return t.ensureSpacesExists(i),i}return ty=function(n,i){var s,a,o,l;return s=r(i),a=e(n,s),l="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?o=JSON.stringify(a,function(u,c){return u===l?"_":c},s.spaces):o=JSON.stringify(a,null,s.spaces),o.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},ty}function o5(){if(d2)return ry;d2=1;var t=p1(),e=d1().isArray,r,n;function i(b){var w=t.copyOptions(b);return t.ensureFlagExists("ignoreDeclaration",w),t.ensureFlagExists("ignoreInstruction",w),t.ensureFlagExists("ignoreAttributes",w),t.ensureFlagExists("ignoreText",w),t.ensureFlagExists("ignoreComment",w),t.ensureFlagExists("ignoreCdata",w),t.ensureFlagExists("ignoreDoctype",w),t.ensureFlagExists("compact",w),t.ensureFlagExists("indentText",w),t.ensureFlagExists("indentCdata",w),t.ensureFlagExists("indentAttributes",w),t.ensureFlagExists("indentInstruction",w),t.ensureFlagExists("fullTagEmptyElement",w),t.ensureFlagExists("noQuotesForNativeAttributes",w),t.ensureSpacesExists(w),typeof w.spaces=="number"&&(w.spaces=Array(w.spaces+1).join(" ")),t.ensureKeyExists("declaration",w),t.ensureKeyExists("instruction",w),t.ensureKeyExists("attributes",w),t.ensureKeyExists("text",w),t.ensureKeyExists("comment",w),t.ensureKeyExists("cdata",w),t.ensureKeyExists("doctype",w),t.ensureKeyExists("type",w),t.ensureKeyExists("name",w),t.ensureKeyExists("elements",w),t.checkFnExists("doctype",w),t.checkFnExists("instruction",w),t.checkFnExists("cdata",w),t.checkFnExists("comment",w),t.checkFnExists("text",w),t.checkFnExists("instructionName",w),t.checkFnExists("elementName",w),t.checkFnExists("attributeName",w),t.checkFnExists("attributeValue",w),t.checkFnExists("attributes",w),t.checkFnExists("fullTagEmptyElement",w),w}function s(b,w,T){return(!T&&b.spaces?`
`:"")+Array(w+1).join(b.spaces)}function a(b,w,T){if(w.ignoreAttributes)return"";"attributesFn"in w&&(b=w.attributesFn(b,n,r));var P,M,U,R,J=[];for(P in b)b.hasOwnProperty(P)&&b[P]!==null&&b[P]!==void 0&&(R=w.noQuotesForNativeAttributes&&typeof b[P]!="string"?"":'"',M=""+b[P],M=M.replace(/"/g,"&quot;"),U="attributeNameFn"in w?w.attributeNameFn(P,M,n,r):P,J.push(w.spaces&&w.indentAttributes?s(w,T+1,!1):" "),J.push(U+"="+R+("attributeValueFn"in w?w.attributeValueFn(M,P,n,r):M)+R));return b&&Object.keys(b).length&&w.spaces&&w.indentAttributes&&J.push(s(w,T,!1)),J.join("")}function o(b,w,T){return r=b,n="xml",w.ignoreDeclaration?"":"<?xml"+a(b[w.attributesKey],w,T)+"?>"}function l(b,w,T){if(w.ignoreInstruction)return"";var P;for(P in b)if(b.hasOwnProperty(P))break;var M="instructionNameFn"in w?w.instructionNameFn(P,b[P],n,r):P;if(typeof b[P]=="object")return r=b,n=M,"<?"+M+a(b[P][w.attributesKey],w,T)+"?>";var U=b[P]?b[P]:"";return"instructionFn"in w&&(U=w.instructionFn(U,P,n,r)),"<?"+M+(U?" "+U:"")+"?>"}function u(b,w){return w.ignoreComment?"":"<!--"+("commentFn"in w?w.commentFn(b,n,r):b)+"-->"}function c(b,w){return w.ignoreCdata?"":"<![CDATA["+("cdataFn"in w?w.cdataFn(b,n,r):b.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function f(b,w){return w.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in w?w.doctypeFn(b,n,r):b)+">"}function d(b,w){return w.ignoreText?"":(b=""+b,b=b.replace(/&amp;/g,"&"),b=b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in w?w.textFn(b,n,r):b)}function h(b,w){var T;if(b.elements&&b.elements.length)for(T=0;T<b.elements.length;++T)switch(b.elements[T][w.typeKey]){case"text":if(w.indentText)return!0;break;case"cdata":if(w.indentCdata)return!0;break;case"instruction":if(w.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function y(b,w,T){r=b,n=b.name;var P=[],M="elementNameFn"in w?w.elementNameFn(b.name,b):b.name;P.push("<"+M),b[w.attributesKey]&&P.push(a(b[w.attributesKey],w,T));var U=b[w.elementsKey]&&b[w.elementsKey].length||b[w.attributesKey]&&b[w.attributesKey]["xml:space"]==="preserve";return U||("fullTagEmptyElementFn"in w?U=w.fullTagEmptyElementFn(b.name,b):U=w.fullTagEmptyElement),U?(P.push(">"),b[w.elementsKey]&&b[w.elementsKey].length&&(P.push(v(b[w.elementsKey],w,T+1)),r=b,n=b.name),P.push(w.spaces&&h(b,w)?`
`+Array(T+1).join(w.spaces):""),P.push("</"+M+">")):P.push("/>"),P.join("")}function v(b,w,T,P){return b.reduce(function(M,U){var R=s(w,T,P&&!M);switch(U.type){case"element":return M+R+y(U,w,T);case"comment":return M+R+u(U[w.commentKey],w);case"doctype":return M+R+f(U[w.doctypeKey],w);case"cdata":return M+(w.indentCdata?R:"")+c(U[w.cdataKey],w);case"text":return M+(w.indentText?R:"")+d(U[w.textKey],w);case"instruction":var J={};return J[U[w.nameKey]]=U[w.attributesKey]?U:U[w.instructionKey],M+(w.indentInstruction?R:"")+l(J,w,T)}},"")}function x(b,w,T){var P;for(P in b)if(b.hasOwnProperty(P))switch(P){case w.parentKey:case w.attributesKey:break;case w.textKey:if(w.indentText||T)return!0;break;case w.cdataKey:if(w.indentCdata||T)return!0;break;case w.instructionKey:if(w.indentInstruction||T)return!0;break;case w.doctypeKey:case w.commentKey:return!0;default:return!0}return!1}function m(b,w,T,P,M){r=b,n=w;var U="elementNameFn"in T?T.elementNameFn(w,b):w;if(typeof b>"u"||b===null||b==="")return"fullTagEmptyElementFn"in T&&T.fullTagEmptyElementFn(w,b)||T.fullTagEmptyElement?"<"+U+"></"+U+">":"<"+U+"/>";var R=[];if(w){if(R.push("<"+U),typeof b!="object")return R.push(">"+d(b,T)+"</"+U+">"),R.join("");b[T.attributesKey]&&R.push(a(b[T.attributesKey],T,P));var J=x(b,T,!0)||b[T.attributesKey]&&b[T.attributesKey]["xml:space"]==="preserve";if(J||("fullTagEmptyElementFn"in T?J=T.fullTagEmptyElementFn(w,b):J=T.fullTagEmptyElement),J)R.push(">");else return R.push("/>"),R.join("")}return R.push(_(b,T,P+1,!1)),r=b,n=w,w&&R.push((M?s(T,P,!1):"")+"</"+U+">"),R.join("")}function _(b,w,T,P){var M,U,R,J=[];for(U in b)if(b.hasOwnProperty(U))for(R=e(b[U])?b[U]:[b[U]],M=0;M<R.length;++M){switch(U){case w.declarationKey:J.push(o(R[M],w,T));break;case w.instructionKey:J.push((w.indentInstruction?s(w,T,P):"")+l(R[M],w,T));break;case w.attributesKey:case w.parentKey:break;case w.textKey:J.push((w.indentText?s(w,T,P):"")+d(R[M],w));break;case w.cdataKey:J.push((w.indentCdata?s(w,T,P):"")+c(R[M],w));break;case w.doctypeKey:J.push(s(w,T,P)+f(R[M],w));break;case w.commentKey:J.push(s(w,T,P)+u(R[M],w));break;default:J.push(s(w,T,P)+m(R[M],U,w,T,x(R[M],w)))}P=P&&!J.length}return J.join("")}return ry=function(b,w){w=i(w);var T=[];return r=b,n="_root_",w.compact?T.push(_(b,w,0,!0)):(b[w.declarationKey]&&T.push(o(b[w.declarationKey],w,0)),b[w.elementsKey]&&b[w.elementsKey].length&&T.push(v(b[w.elementsKey],w,0,!T.length))),T.join("")},ry}function v$(){if(p2)return ny;p2=1;var t=o5();return ny=function(e,r){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return t(n,r)},ny}function y$(){if(m2)return iy;m2=1;var t=s5(),e=g$(),r=o5(),n=v$();return iy={xml2js:t,xml2json:e,js2xml:r,json2xml:n},iy}function qa(){if(v2)return oy;v2=1,oy=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},oy}function Kr(){if(y2)return je;y2=1;var t=qa(),e=ei();je.inherits=e;function r(C,H){return(C.charCodeAt(H)&64512)!==55296||H<0||H+1>=C.length?!1:(C.charCodeAt(H+1)&64512)===56320}function n(C,H){if(Array.isArray(C))return C.slice();if(!C)return[];var k=[];if(typeof C=="string")if(H){if(H==="hex")for(C=C.replace(/[^a-z0-9]+/ig,""),C.length%2!==0&&(C="0"+C),Q=0;Q<C.length;Q+=2)k.push(parseInt(C[Q]+C[Q+1],16))}else for(var V=0,Q=0;Q<C.length;Q++){var j=C.charCodeAt(Q);j<128?k[V++]=j:j<2048?(k[V++]=j>>6|192,k[V++]=j&63|128):r(C,Q)?(j=65536+((j&1023)<<10)+(C.charCodeAt(++Q)&1023),k[V++]=j>>18|240,k[V++]=j>>12&63|128,k[V++]=j>>6&63|128,k[V++]=j&63|128):(k[V++]=j>>12|224,k[V++]=j>>6&63|128,k[V++]=j&63|128)}else for(Q=0;Q<C.length;Q++)k[Q]=C[Q]|0;return k}je.toArray=n;function i(C){for(var H="",k=0;k<C.length;k++)H+=o(C[k].toString(16));return H}je.toHex=i;function s(C){var H=C>>>24|C>>>8&65280|C<<8&16711680|(C&255)<<24;return H>>>0}je.htonl=s;function a(C,H){for(var k="",V=0;V<C.length;V++){var Q=C[V];H==="little"&&(Q=s(Q)),k+=l(Q.toString(16))}return k}je.toHex32=a;function o(C){return C.length===1?"0"+C:C}je.zero2=o;function l(C){return C.length===7?"0"+C:C.length===6?"00"+C:C.length===5?"000"+C:C.length===4?"0000"+C:C.length===3?"00000"+C:C.length===2?"000000"+C:C.length===1?"0000000"+C:C}je.zero8=l;function u(C,H,k,V){var Q=k-H;t(Q%4===0);for(var j=new Array(Q/4),ie=0,ee=H;ie<j.length;ie++,ee+=4){var le;V==="big"?le=C[ee]<<24|C[ee+1]<<16|C[ee+2]<<8|C[ee+3]:le=C[ee+3]<<24|C[ee+2]<<16|C[ee+1]<<8|C[ee],j[ie]=le>>>0}return j}je.join32=u;function c(C,H){for(var k=new Array(C.length*4),V=0,Q=0;V<C.length;V++,Q+=4){var j=C[V];H==="big"?(k[Q]=j>>>24,k[Q+1]=j>>>16&255,k[Q+2]=j>>>8&255,k[Q+3]=j&255):(k[Q+3]=j>>>24,k[Q+2]=j>>>16&255,k[Q+1]=j>>>8&255,k[Q]=j&255)}return k}je.split32=c;function f(C,H){return C>>>H|C<<32-H}je.rotr32=f;function d(C,H){return C<<H|C>>>32-H}je.rotl32=d;function h(C,H){return C+H>>>0}je.sum32=h;function y(C,H,k){return C+H+k>>>0}je.sum32_3=y;function v(C,H,k,V){return C+H+k+V>>>0}je.sum32_4=v;function x(C,H,k,V,Q){return C+H+k+V+Q>>>0}je.sum32_5=x;function m(C,H,k,V){var Q=C[H],j=C[H+1],ie=V+j>>>0,ee=(ie<V?1:0)+k+Q;C[H]=ee>>>0,C[H+1]=ie}je.sum64=m;function _(C,H,k,V){var Q=H+V>>>0,j=(Q<H?1:0)+C+k;return j>>>0}je.sum64_hi=_;function b(C,H,k,V){var Q=H+V;return Q>>>0}je.sum64_lo=b;function w(C,H,k,V,Q,j,ie,ee){var le=0,G=H;G=G+V>>>0,le+=G<H?1:0,G=G+j>>>0,le+=G<j?1:0,G=G+ee>>>0,le+=G<ee?1:0;var D=C+k+Q+ie+le;return D>>>0}je.sum64_4_hi=w;function T(C,H,k,V,Q,j,ie,ee){var le=H+V+j+ee;return le>>>0}je.sum64_4_lo=T;function P(C,H,k,V,Q,j,ie,ee,le,G){var D=0,$=H;$=$+V>>>0,D+=$<H?1:0,$=$+j>>>0,D+=$<j?1:0,$=$+ee>>>0,D+=$<ee?1:0,$=$+G>>>0,D+=$<G?1:0;var X=C+k+Q+ie+le+D;return X>>>0}je.sum64_5_hi=P;function M(C,H,k,V,Q,j,ie,ee,le,G){var D=H+V+j+ee+G;return D>>>0}je.sum64_5_lo=M;function U(C,H,k){var V=H<<32-k|C>>>k;return V>>>0}je.rotr64_hi=U;function R(C,H,k){var V=C<<32-k|H>>>k;return V>>>0}je.rotr64_lo=R;function J(C,H,k){return C>>>k}je.shr64_hi=J;function oe(C,H,k){var V=C<<32-k|H>>>k;return V>>>0}return je.shr64_lo=oe,je}function Va(){if(w2)return ay;w2=1;var t=Kr(),e=qa();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return ay.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var a=i.length%this._delta8;this.pending=i.slice(i.length-a,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-a,this.endian);for(var o=0;o<i.length;o+=this._delta32)this._update(i,o,o+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,a=s-(i+this.padLength)%s,o=new Array(a+this.padLength);o[0]=128;for(var l=1;l<a;l++)o[l]=0;if(i<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)o[l++]=0;o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=i>>>24&255,o[l++]=i>>>16&255,o[l++]=i>>>8&255,o[l++]=i&255}else for(o[l++]=i&255,o[l++]=i>>>8&255,o[l++]=i>>>16&255,o[l++]=i>>>24&255,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,u=8;u<this.padLength;u++)o[l++]=0;return o},ay}function p5(){if(b2)return zr;b2=1;var t=Kr(),e=t.rotr32;function r(c,f,d,h){if(c===0)return n(f,d,h);if(c===1||c===3)return s(f,d,h);if(c===2)return i(f,d,h)}zr.ft_1=r;function n(c,f,d){return c&f^~c&d}zr.ch32=n;function i(c,f,d){return c&f^c&d^f&d}zr.maj32=i;function s(c,f,d){return c^f^d}zr.p32=s;function a(c){return e(c,2)^e(c,13)^e(c,22)}zr.s0_256=a;function o(c){return e(c,6)^e(c,11)^e(c,25)}zr.s1_256=o;function l(c){return e(c,7)^e(c,18)^c>>>3}zr.g0_256=l;function u(c){return e(c,17)^e(c,19)^c>>>10}return zr.g1_256=u,zr}function A$(){if(_2)return ly;_2=1;var t=Kr(),e=Va(),r=p5(),n=t.rotl32,i=t.sum32,s=t.sum32_5,a=r.ft_1,o=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(u,o),ly=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(f,d){for(var h=this.W,y=0;y<16;y++)h[y]=f[d+y];for(;y<h.length;y++)h[y]=n(h[y-3]^h[y-8]^h[y-14]^h[y-16],1);var v=this.h[0],x=this.h[1],m=this.h[2],_=this.h[3],b=this.h[4];for(y=0;y<h.length;y++){var w=~~(y/20),T=s(n(v,5),a(w,x,m,_),b,h[y],l[w]);b=_,_=m,m=n(x,30),x=v,v=T}this.h[0]=i(this.h[0],v),this.h[1]=i(this.h[1],x),this.h[2]=i(this.h[2],m),this.h[3]=i(this.h[3],_),this.h[4]=i(this.h[4],b)},u.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},ly}function m5(){if(x2)return uy;x2=1;var t=Kr(),e=Va(),r=p5(),n=qa(),i=t.sum32,s=t.sum32_4,a=t.sum32_5,o=r.ch32,l=r.maj32,u=r.s0_256,c=r.s1_256,f=r.g0_256,d=r.g1_256,h=e.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}return t.inherits(v,h),uy=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(m,_){for(var b=this.W,w=0;w<16;w++)b[w]=m[_+w];for(;w<b.length;w++)b[w]=s(d(b[w-2]),b[w-7],f(b[w-15]),b[w-16]);var T=this.h[0],P=this.h[1],M=this.h[2],U=this.h[3],R=this.h[4],J=this.h[5],oe=this.h[6],C=this.h[7];for(n(this.k.length===b.length),w=0;w<b.length;w++){var H=a(C,c(R),o(R,J,oe),this.k[w],b[w]),k=i(u(T),l(T,P,M));C=oe,oe=J,J=R,R=i(U,H),U=M,M=P,P=T,T=i(H,k)}this.h[0]=i(this.h[0],T),this.h[1]=i(this.h[1],P),this.h[2]=i(this.h[2],M),this.h[3]=i(this.h[3],U),this.h[4]=i(this.h[4],R),this.h[5]=i(this.h[5],J),this.h[6]=i(this.h[6],oe),this.h[7]=i(this.h[7],C)},v.prototype._digest=function(m){return m==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},uy}function O$(){if(E2)return cy;E2=1;var t=Kr(),e=m5();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),cy=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},cy}function g5(){if(S2)return fy;S2=1;var t=Kr(),e=Va(),r=qa(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,a=t.shr64_lo,o=t.sum64,l=t.sum64_hi,u=t.sum64_lo,c=t.sum64_4_hi,f=t.sum64_4_lo,d=t.sum64_5_hi,h=t.sum64_5_lo,y=e.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function x(){if(!(this instanceof x))return new x;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}t.inherits(x,y),fy=x,x.blockSize=1024,x.outSize=512,x.hmacStrength=192,x.padLength=128,x.prototype._prepareBlock=function(k,V){for(var Q=this.W,j=0;j<32;j++)Q[j]=k[V+j];for(;j<Q.length;j+=2){var ie=oe(Q[j-4],Q[j-3]),ee=C(Q[j-4],Q[j-3]),le=Q[j-14],G=Q[j-13],D=R(Q[j-30],Q[j-29]),$=J(Q[j-30],Q[j-29]),X=Q[j-32],re=Q[j-31];Q[j]=c(ie,ee,le,G,D,$,X,re),Q[j+1]=f(ie,ee,le,G,D,$,X,re)}},x.prototype._update=function(k,V){this._prepareBlock(k,V);var Q=this.W,j=this.h[0],ie=this.h[1],ee=this.h[2],le=this.h[3],G=this.h[4],D=this.h[5],$=this.h[6],X=this.h[7],re=this.h[8],K=this.h[9],O=this.h[10],A=this.h[11],W=this.h[12],B=this.h[13],I=this.h[14],L=this.h[15];r(this.k.length===Q.length);for(var Z=0;Z<Q.length;Z+=2){var E=I,Y=L,N=M(re,K),p=U(re,K),g=m(re,K,O,A,W),S=_(re,K,O,A,W,B),F=this.k[Z],q=this.k[Z+1],z=Q[Z],ne=Q[Z+1],ae=d(E,Y,N,p,g,S,F,q,z,ne),se=h(E,Y,N,p,g,S,F,q,z,ne);E=T(j,ie),Y=P(j,ie),N=b(j,ie,ee,le,G),p=w(j,ie,ee,le,G,D);var fe=l(E,Y,N,p),pe=u(E,Y,N,p);I=W,L=B,W=O,B=A,O=re,A=K,re=l($,X,ae,se),K=u(X,X,ae,se),$=G,X=D,G=ee,D=le,ee=j,le=ie,j=l(ae,se,fe,pe),ie=u(ae,se,fe,pe)}o(this.h,0,j,ie),o(this.h,2,ee,le),o(this.h,4,G,D),o(this.h,6,$,X),o(this.h,8,re,K),o(this.h,10,O,A),o(this.h,12,W,B),o(this.h,14,I,L)},x.prototype._digest=function(k){return k==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function m(H,k,V,Q,j){var ie=H&V^~H&j;return ie<0&&(ie+=4294967296),ie}function _(H,k,V,Q,j,ie){var ee=k&Q^~k&ie;return ee<0&&(ee+=4294967296),ee}function b(H,k,V,Q,j){var ie=H&V^H&j^V&j;return ie<0&&(ie+=4294967296),ie}function w(H,k,V,Q,j,ie){var ee=k&Q^k&ie^Q&ie;return ee<0&&(ee+=4294967296),ee}function T(H,k){var V=n(H,k,28),Q=n(k,H,2),j=n(k,H,7),ie=V^Q^j;return ie<0&&(ie+=4294967296),ie}function P(H,k){var V=i(H,k,28),Q=i(k,H,2),j=i(k,H,7),ie=V^Q^j;return ie<0&&(ie+=4294967296),ie}function M(H,k){var V=n(H,k,14),Q=n(H,k,18),j=n(k,H,9),ie=V^Q^j;return ie<0&&(ie+=4294967296),ie}function U(H,k){var V=i(H,k,14),Q=i(H,k,18),j=i(k,H,9),ie=V^Q^j;return ie<0&&(ie+=4294967296),ie}function R(H,k){var V=n(H,k,1),Q=n(H,k,8),j=s(H,k,7),ie=V^Q^j;return ie<0&&(ie+=4294967296),ie}function J(H,k){var V=i(H,k,1),Q=i(H,k,8),j=a(H,k,7),ie=V^Q^j;return ie<0&&(ie+=4294967296),ie}function oe(H,k){var V=n(H,k,19),Q=n(k,H,29),j=s(H,k,6),ie=V^Q^j;return ie<0&&(ie+=4294967296),ie}function C(H,k){var V=i(H,k,19),Q=i(k,H,29),j=a(H,k,6),ie=V^Q^j;return ie<0&&(ie+=4294967296),ie}return fy}function N$(){if(k2)return hy;k2=1;var t=Kr(),e=g5();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),hy=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},hy}function R$(){return T2||(T2=1,Oi.sha1=A$(),Oi.sha224=O$(),Oi.sha256=m5(),Oi.sha384=N$(),Oi.sha512=g5()),Oi}function C$(){if(A2)return dy;A2=1;var t=Kr(),e=Va(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,a=e.BlockHash;function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(o,a),dy.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(x,m){for(var _=this.h[0],b=this.h[1],w=this.h[2],T=this.h[3],P=this.h[4],M=_,U=b,R=w,J=T,oe=P,C=0;C<80;C++){var H=n(r(s(_,l(C,b,w,T),x[f[C]+m],u(C)),h[C]),P);_=P,P=T,T=r(w,10),w=b,b=H,H=n(r(s(M,l(79-C,U,R,J),x[d[C]+m],c(C)),y[C]),oe),M=oe,oe=J,J=r(R,10),R=U,U=H}H=i(this.h[1],w,J),this.h[1]=i(this.h[2],T,oe),this.h[2]=i(this.h[3],P,M),this.h[3]=i(this.h[4],_,U),this.h[4]=i(this.h[0],b,R),this.h[0]=H},o.prototype._digest=function(x){return x==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(v,x,m,_){return v<=15?x^m^_:v<=31?x&m|~x&_:v<=47?(x|~m)^_:v<=63?x&_|m&~_:x^(m|~_)}function u(v){return v<=15?0:v<=31?1518500249:v<=47?1859775393:v<=63?2400959708:2840853838}function c(v){return v<=15?1352829926:v<=31?1548603684:v<=47?1836072691:v<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return dy}function I$(){if(O2)return py;O2=1;var t=Kr(),e=qa();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return py=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},py}function P$(){return N2||(N2=1,(function(t){var e=t;e.utils=Kr(),e.common=Va(),e.sha=R$(),e.ripemd=C$(),e.hmac=I$(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(sy)),sy}function Kc(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function wJ(){return M2||(M2=1,(function(t,e){(function(r){t.exports=r()})(function(){return(function r(n,i,s){function a(u,c){if(!i[u]){if(!n[u]){var f=typeof Kc=="function"&&Kc;if(!c&&f)return f(u,!0);if(o)return o(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[u]={exports:{}};n[u][0].call(h.exports,function(y){var v=n[u][1][y];return a(v||y)},h,h.exports,r,n,i,s)}return i[u].exports}for(var o=typeof Kc=="function"&&Kc,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(r,n,i){var s=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,f,d,h,y,v,x=[],m=0,_=l.length,b=_,w=s.getTypeOf(l)!=="string";m<l.length;)b=_-m,f=w?(u=l[m++],c=m<_?l[m++]:0,m<_?l[m++]:0):(u=l.charCodeAt(m++),c=m<_?l.charCodeAt(m++):0,m<_?l.charCodeAt(m++):0),d=u>>2,h=(3&u)<<4|c>>4,y=1<b?(15&c)<<2|f>>6:64,v=2<b?63&f:64,x.push(o.charAt(d)+o.charAt(h)+o.charAt(y)+o.charAt(v));return x.join("")},i.decode=function(l){var u,c,f,d,h,y,v=0,x=0,m="data:";if(l.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var _,b=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&b--,l.charAt(l.length-2)===o.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=a.uint8array?new Uint8Array(0|b):new Array(0|b);v<l.length;)u=o.indexOf(l.charAt(v++))<<2|(d=o.indexOf(l.charAt(v++)))>>4,c=(15&d)<<4|(h=o.indexOf(l.charAt(v++)))>>2,f=(3&h)<<6|(y=o.indexOf(l.charAt(v++))),_[x++]=u,h!==64&&(_[x++]=c),y!==64&&(_[x++]=f);return _}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function u(c,f,d,h,y){this.compressedSize=c,this.uncompressedSize=f,this.crc32=d,this.compression=h,this.compressedContent=y}u.prototype={getContentWorker:function(){var c=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,f,d){return c.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(d)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),a=(function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l})();n.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?(function(u,c,f,d){var h=a,y=d+f;u^=-1;for(var v=d;v<y;v++)u=u>>>8^h[255&(u^c[v])];return-1^u})(0|l,o,o.length,0):(function(u,c,f,d){var h=a,y=d+f;u^=-1;for(var v=d;v<y;v++)u=u>>>8^h[255&(u^c.charCodeAt(v))];return-1^u})(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),u=s?"uint8array":"array";function c(f,d){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=d,this.meta={}}i.magic="\b\0",o.inherits(c,l),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,f.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(d){f.push({data:d,meta:f.meta})}},i.compressWorker=function(f){return new c("Deflate",f)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(h,y){var v,x="";for(v=0;v<y;v++)x+=String.fromCharCode(255&h),h>>>=8;return x}function a(h,y,v,x,m,_){var b,w,T=h.file,P=h.compression,M=_!==u.utf8encode,U=o.transformTo("string",_(T.name)),R=o.transformTo("string",u.utf8encode(T.name)),J=T.comment,oe=o.transformTo("string",_(J)),C=o.transformTo("string",u.utf8encode(J)),H=R.length!==T.name.length,k=C.length!==J.length,V="",Q="",j="",ie=T.dir,ee=T.date,le={crc32:0,compressedSize:0,uncompressedSize:0};y&&!v||(le.crc32=h.crc32,le.compressedSize=h.compressedSize,le.uncompressedSize=h.uncompressedSize);var G=0;y&&(G|=8),M||!H&&!k||(G|=2048);var D=0,$=0;ie&&(D|=16),m==="UNIX"?($=798,D|=(function(re,K){var O=re;return re||(O=K?16893:33204),(65535&O)<<16})(T.unixPermissions,ie)):($=20,D|=(function(re){return 63&(re||0)})(T.dosPermissions)),b=ee.getUTCHours(),b<<=6,b|=ee.getUTCMinutes(),b<<=5,b|=ee.getUTCSeconds()/2,w=ee.getUTCFullYear()-1980,w<<=4,w|=ee.getUTCMonth()+1,w<<=5,w|=ee.getUTCDate(),H&&(Q=s(1,1)+s(c(U),4)+R,V+="up"+s(Q.length,2)+Q),k&&(j=s(1,1)+s(c(oe),4)+C,V+="uc"+s(j.length,2)+j);var X="";return X+=`
\0`,X+=s(G,2),X+=P.magic,X+=s(b,2),X+=s(w,2),X+=s(le.crc32,4),X+=s(le.compressedSize,4),X+=s(le.uncompressedSize,4),X+=s(U.length,2),X+=s(V.length,2),{fileRecord:f.LOCAL_FILE_HEADER+X+U+V,dirRecord:f.CENTRAL_FILE_HEADER+s($,2)+X+s(oe.length,2)+"\0\0\0\0"+s(D,4)+s(x,4)+U+V+oe}}var o=r("../utils"),l=r("../stream/GenericWorker"),u=r("../utf8"),c=r("../crc32"),f=r("../signature");function d(h,y,v,x){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=v,this.encodeFileName=x,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(d,l),d.prototype.push=function(h){var y=h.meta.percent||0,v=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:v?(y+100*(v-x-1))/v:100}}))},d.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var y=this.streamFiles&&!h.file.dir;if(y){var v=a(h,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(h){this.accumulate=!1;var y=this.streamFiles&&!h.file.dir,v=a(h,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),y)this.push({data:(function(x){return f.DATA_DESCRIPTOR+s(x.crc32,4)+s(x.compressedSize,4)+s(x.uncompressedSize,4)})(h),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var h=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var v=this.bytesWritten-h,x=(function(m,_,b,w,T){var P=o.transformTo("string",T(w));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(m,2)+s(m,2)+s(_,4)+s(b,4)+s(P.length,2)+P})(this.dirRecords.length,v,h,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(h){this._sources.push(h);var y=this;return h.on("data",function(v){y.processChunk(v)}),h.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),h.on("error",function(v){y.error(v)}),this},d.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(h){var y=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var v=0;v<y.length;v++)try{y[v].error(h)}catch{}return!0},d.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,y=0;y<h.length;y++)h[y].lock()},n.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),a=r("./ZipFileWorker");i.generateWorker=function(o,l,u){var c=new a(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{o.forEach(function(d,h){f++;var y=(function(_,b){var w=_||b,T=s[w];if(!T)throw new Error(w+" is not a valid compression method !");return T})(h.options.compression,l.compression),v=h.options.compressionOptions||l.compressionOptions||{},x=h.dir,m=h.date;h._compressWorker(y,v).withStreamInfo("file",{name:d,dir:x,date:m,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(c)}),c.entriesCount=f}catch(d){c.error(d)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),a=r("./external"),o=r("./utf8"),l=r("./zipEntries"),u=r("./stream/Crc32Probe"),c=r("./nodejsUtils");function f(d){return new a.Promise(function(h,y){var v=d.decompressed.getContentWorker().pipe(new u);v.on("error",function(x){y(x)}).on("end",function(){v.streamInfo.crc32!==d.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(d,h){var y=this;return h=s.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(d)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",d,!0,h.optimizedBinaryString,h.base64).then(function(v){var x=new l(h);return x.load(v),x}).then(function(v){var x=[a.Promise.resolve(v)],m=v.files;if(h.checkCRC32)for(var _=0;_<m.length;_++)x.push(f(m[_]));return a.Promise.all(x)}).then(function(v){for(var x=v.shift(),m=x.files,_=0;_<m.length;_++){var b=m[_],w=b.fileNameStr,T=s.resolve(b.fileNameStr);y.file(T,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:h.createFolders}),b.dir||(y.file(T).unsafeOriginalName=w)}return x.zipComment.length&&(y.comment=x.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),a=r("../stream/GenericWorker");function o(l,u){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(o,a),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function a(o,l,u){s.call(this,l),this._helper=o;var c=this;o.on("data",function(f,d){c.push(f)||c._helper.pause(),u&&u(d)}).on("error",function(f){c.emit("error",f)}).on("end",function(){c.push(null)})}r("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(T,P,M){var U,R=o.getTypeOf(P),J=o.extend(M||{},c);J.date=J.date||new Date,J.compression!==null&&(J.compression=J.compression.toUpperCase()),typeof J.unixPermissions=="string"&&(J.unixPermissions=parseInt(J.unixPermissions,8)),J.unixPermissions&&16384&J.unixPermissions&&(J.dir=!0),J.dosPermissions&&16&J.dosPermissions&&(J.dir=!0),J.dir&&(T=m(T)),J.createFolders&&(U=x(T))&&_.call(this,U,!0);var oe=R==="string"&&J.binary===!1&&J.base64===!1;M&&M.binary!==void 0||(J.binary=!oe),(P instanceof f&&P.uncompressedSize===0||J.dir||!P||P.length===0)&&(J.base64=!1,J.binary=!0,P="",J.compression="STORE",R="string");var C=null;C=P instanceof f||P instanceof l?P:y.isNode&&y.isStream(P)?new v(T,P):o.prepareContent(T,P,J.binary,J.optimizedBinaryString,J.base64);var H=new d(T,C,J);this.files[T]=H}var a=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),c=r("./defaults"),f=r("./compressedObject"),d=r("./zipObject"),h=r("./generate"),y=r("./nodejsUtils"),v=r("./nodejs/NodejsStreamInputAdapter"),x=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var P=T.lastIndexOf("/");return 0<P?T.substring(0,P):""},m=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},_=function(T,P){return P=P!==void 0?P:c.createFolders,T=m(T),this.files[T]||s.call(this,T,null,{dir:!0,createFolders:P}),this.files[T]};function b(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var P,M,U;for(P in this.files)U=this.files[P],(M=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&T(M,U)},filter:function(T){var P=[];return this.forEach(function(M,U){T(M,U)&&P.push(U)}),P},file:function(T,P,M){if(arguments.length!==1)return T=this.root+T,s.call(this,T,P,M),this;if(b(T)){var U=T;return this.filter(function(J,oe){return!oe.dir&&U.test(J)})}var R=this.files[this.root+T];return R&&!R.dir?R:null},folder:function(T){if(!T)return this;if(b(T))return this.filter(function(R,J){return J.dir&&T.test(R)});var P=this.root+T,M=_.call(this,P),U=this.clone();return U.root=M.name,U},remove:function(T){T=this.root+T;var P=this.files[T];if(P||(T.slice(-1)!=="/"&&(T+="/"),P=this.files[T]),P&&!P.dir)delete this.files[T];else for(var M=this.filter(function(R,J){return J.name.slice(0,T.length)===T}),U=0;U<M.length;U++)delete this.files[M[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var P,M={};try{if((M=o.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");o.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var U=M.comment||this.comment||"";P=h.generateWorker(this,M,U)}catch(R){(P=new l("error")).error(R)}return new u(P,M.type||"string",M.mimeType)},generateAsync:function(T,P){return this.generateInternalStream(T).accumulate(P)},generateNodeStream:function(T,P){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(P)}};n.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),f=o.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===l&&this.data[d+1]===u&&this.data[d+2]===c&&this.data[d+3]===f)return d-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),f=o.charCodeAt(3),d=this.readData(4);return l===d[0]&&u===d[1]&&c===d[2]&&f===d[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),a=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),u=r("./NodeBufferReader"),c=r("./Uint8ArrayReader");n.exports=function(f){var d=s.getTypeOf(f);return s.checkSupport(d),d!=="string"||a.uint8array?d==="nodebuffer"?new u(f):a.uint8array?new c(s.transformTo("uint8array",f)):new o(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),a=r("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),a=r("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}a.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=s.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),u=r("../support"),c=r("../external"),f=null;if(u.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(y,v){return new c.Promise(function(x,m){var _=[],b=y._internalType,w=y._outputType,T=y._mimeType;y.on("data",function(P,M){_.push(P),v&&v(M)}).on("error",function(P){_=[],m(P)}).on("end",function(){try{var P=(function(M,U,R){switch(M){case"blob":return s.newBlob(s.transformTo("arraybuffer",U),R);case"base64":return l.encode(U);default:return s.transformTo(M,U)}})(w,(function(M,U){var R,J=0,oe=null,C=0;for(R=0;R<U.length;R++)C+=U[R].length;switch(M){case"string":return U.join("");case"array":return Array.prototype.concat.apply([],U);case"uint8array":for(oe=new Uint8Array(C),R=0;R<U.length;R++)oe.set(U[R],J),J+=U[R].length;return oe;case"nodebuffer":return Buffer.concat(U);default:throw new Error("concat : unsupported type '"+M+"'")}})(b,_),T);x(P)}catch(M){m(M)}_=[]}).resume()})}function h(y,v,x){var m=v;switch(v){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=v,this._mimeType=x,s.checkSupport(m),this._worker=y.pipe(new a(m)),y.lock()}catch(_){this._worker=new o("error"),this._worker.error(_)}}h.prototype={accumulate:function(y){return d(this,y)},on:function(y,v){var x=this;return y==="data"?this._worker.on(y,function(m){v.call(x,m.data,m.meta)}):this._worker.on(y,function(){s.delay(v,arguments,x)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},y)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function d(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return a.nodebuffer?o.newBufferFrom(h,"utf-8"):(function(y){var v,x,m,_,b,w=y.length,T=0;for(_=0;_<w;_++)(64512&(x=y.charCodeAt(_)))==55296&&_+1<w&&(64512&(m=y.charCodeAt(_+1)))==56320&&(x=65536+(x-55296<<10)+(m-56320),_++),T+=x<128?1:x<2048?2:x<65536?3:4;for(v=a.uint8array?new Uint8Array(T):new Array(T),_=b=0;b<T;_++)(64512&(x=y.charCodeAt(_)))==55296&&_+1<w&&(64512&(m=y.charCodeAt(_+1)))==56320&&(x=65536+(x-55296<<10)+(m-56320),_++),x<128?v[b++]=x:(x<2048?v[b++]=192|x>>>6:(x<65536?v[b++]=224|x>>>12:(v[b++]=240|x>>>18,v[b++]=128|x>>>12&63),v[b++]=128|x>>>6&63),v[b++]=128|63&x);return v})(h)},i.utf8decode=function(h){return a.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):(function(y){var v,x,m,_,b=y.length,w=new Array(2*b);for(v=x=0;v<b;)if((m=y[v++])<128)w[x++]=m;else if(4<(_=u[m]))w[x++]=65533,v+=_-1;else{for(m&=_===2?31:_===3?15:7;1<_&&v<b;)m=m<<6|63&y[v++],_--;1<_?w[x++]=65533:m<65536?w[x++]=m:(m-=65536,w[x++]=55296|m>>10&1023,w[x++]=56320|1023&m)}return w.length!==x&&(w.subarray?w=w.subarray(0,x):w.length=x),s.applyFromCharCode(w)})(h=s.transformTo(a.uint8array?"uint8array":"array",h))},s.inherits(f,l),f.prototype.processChunk=function(h){var y=s.transformTo(a.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var v=y;(y=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),y.set(v,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var x=(function(_,b){var w;for((b=b||_.length)>_.length&&(b=_.length),w=b-1;0<=w&&(192&_[w])==128;)w--;return w<0||w===0?b:w+u[_[w]]>b?w:b})(y),m=y;x!==y.length&&(a.uint8array?(m=y.subarray(0,x),this.leftOver=y.subarray(x,y.length)):(m=y.slice(0,x),this.leftOver=y.slice(x,y.length))),this.push({data:i.utf8decode(m),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(d,l),d.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function u(v){return v}function c(v,x){for(var m=0;m<v.length;++m)x[m]=255&v.charCodeAt(m);return x}r("setimmediate"),i.newBlob=function(v,x){i.checkSupport("blob");try{return new Blob([v],{type:x})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(v),m.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(v,x,m){var _=[],b=0,w=v.length;if(w<=m)return String.fromCharCode.apply(null,v);for(;b<w;)x==="array"||x==="nodebuffer"?_.push(String.fromCharCode.apply(null,v.slice(b,Math.min(b+m,w)))):_.push(String.fromCharCode.apply(null,v.subarray(b,Math.min(b+m,w)))),b+=m;return _.join("")},stringifyByChar:function(v){for(var x="",m=0;m<v.length;m++)x+=String.fromCharCode(v[m]);return x},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function d(v){var x=65536,m=i.getTypeOf(v),_=!0;if(m==="uint8array"?_=f.applyCanBeUsed.uint8array:m==="nodebuffer"&&(_=f.applyCanBeUsed.nodebuffer),_)for(;1<x;)try{return f.stringifyByChunk(v,m,x)}catch{x=Math.floor(x/2)}return f.stringifyByChar(v)}function h(v,x){for(var m=0;m<v.length;m++)x[m]=v[m];return x}i.applyFromCharCode=d;var y={};y.string={string:u,array:function(v){return c(v,new Array(v.length))},arraybuffer:function(v){return y.string.uint8array(v).buffer},uint8array:function(v){return c(v,new Uint8Array(v.length))},nodebuffer:function(v){return c(v,o.allocBuffer(v.length))}},y.array={string:d,array:u,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return o.newBufferFrom(v)}},y.arraybuffer={string:function(v){return d(new Uint8Array(v))},array:function(v){return h(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:u,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return o.newBufferFrom(new Uint8Array(v))}},y.uint8array={string:d,array:function(v){return h(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:u,nodebuffer:function(v){return o.newBufferFrom(v)}},y.nodebuffer={string:d,array:function(v){return h(v,new Array(v.length))},arraybuffer:function(v){return y.nodebuffer.uint8array(v).buffer},uint8array:function(v){return h(v,new Uint8Array(v.length))},nodebuffer:u},i.transformTo=function(v,x){if(x=x||"",!v)return x;i.checkSupport(v);var m=i.getTypeOf(x);return y[m][v](x)},i.resolve=function(v){for(var x=v.split("/"),m=[],_=0;_<x.length;_++){var b=x[_];b==="."||b===""&&_!==0&&_!==x.length-1||(b===".."?m.pop():m.push(b))}return m.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(v)?"nodebuffer":s.uint8array&&v instanceof Uint8Array?"uint8array":s.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!s[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var x,m,_="";for(m=0;m<(v||"").length;m++)_+="\\x"+((x=v.charCodeAt(m))<16?"0":"")+x.toString(16).toUpperCase();return _},i.delay=function(v,x,m){setImmediate(function(){v.apply(m||null,x||[])})},i.inherits=function(v,x){function m(){}m.prototype=x.prototype,v.prototype=new m},i.extend=function(){var v,x,m={};for(v=0;v<arguments.length;v++)for(x in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],x)&&m[x]===void 0&&(m[x]=arguments[v][x]);return m},i.prepareContent=function(v,x,m,_,b){return l.Promise.resolve(x).then(function(w){return s.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new l.Promise(function(T,P){var M=new FileReader;M.onload=function(U){T(U.target.result)},M.onerror=function(U){P(U.target.error)},M.readAsArrayBuffer(w)}):w}).then(function(w){var T=i.getTypeOf(w);return T?(T==="arraybuffer"?w=i.transformTo("uint8array",w):T==="string"&&(b?w=a.decode(w):m&&_!==!0&&(w=(function(P){return c(P,s.uint8array?new Uint8Array(P.length):new Array(P.length))})(w))),w):l.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),l=r("./zipEntry"),u=r("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(d)+", expected "+a.pretty(f)+")")}},isSignature:function(f,d){var h=this.reader.index;this.reader.setIndex(f);var y=this.reader.readString(4)===d;return this.reader.setIndex(h),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),d=u.uint8array?"uint8array":"array",h=a.transformTo(d,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,d,h,y=this.zip64EndOfCentralSize-44;0<y;)f=this.reader.readInt(2),d=this.reader.readInt(4),h=this.reader.readData(d),this.zip64ExtensibleData[f]={id:f,length:d,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,d;for(f=0;f<this.files.length;f++)d=this.files[f],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var d=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var y=d-h;if(0<y)this.isSignature(d,o.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),u=r("./utf8"),c=r("./compressions"),f=r("./support");function d(h,y){this.options=h,this.loadOptions=y}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var y,v;if(h.skip(22),this.fileNameLength=h.readInt(2),v=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=(function(x){for(var m in c)if(Object.prototype.hasOwnProperty.call(c,m)&&c[m].magic===x)return c[m];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,y,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var y=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(y),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var y,v,x,m=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<m;)y=h.readInt(2),v=h.readInt(2),x=h.readData(v),this.extraFields[y]={id:y,length:v,value:x};h.setIndex(m)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var v=a.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var m=a.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var y=s(h.value);return y.readInt(1)!==1||l(this.fileName)!==y.readInt(4)?null:u.utf8decode(y.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var y=s(h.value);return y.readInt(1)!==1||l(this.fileComment)!==y.readInt(4)?null:u.utf8decode(y.readData(h.length-5))}return null}},n.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(y,v,x){this.name=y,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=v,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),u=r("./compressedObject"),c=r("./stream/GenericWorker");s.prototype={internalStream:function(y){var v=null,x="string";try{if(!y)throw new Error("No output type specified.");var m=(x=y.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),v=this._decompressWorker();var _=!this._dataBinary;_&&!m&&(v=v.pipe(new l.Utf8EncodeWorker)),!_&&m&&(v=v.pipe(new l.Utf8DecodeWorker))}catch(b){(v=new c("error")).error(b)}return new a(v,x,"")},async:function(y,v){return this.internalStream(y).accumulate(v)},nodeStream:function(y,v){return this.internalStream(y||"nodebuffer").toNodejsStream(v)},_compressWorker:function(y,v){if(this._data instanceof u&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(x,y,v)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)s.prototype[f[h]]=d;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,c=new l(y),f=s.document.createTextNode("");c.observe(f,{characterData:!0}),a=function(){f.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var v=s.document.createElement("script");v.onreadystatechange=function(){y(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:function(){setTimeout(y,0)};else{var d=new s.MessageChannel;d.port1.onmessage=y,a=function(){d.port2.postMessage(0)}}var h=[];function y(){var v,x;o=!0;for(var m=h.length;m;){for(x=h,h=[],v=-1;++v<m;)x[v]();m=h.length}o=!1}n.exports=function(v){h.push(v)!==1||o||a()}}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function a(){}var o={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,m!==a&&v(this,m)}function d(m,_,b){this.promise=m,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function h(m,_,b){s(function(){var w;try{w=_(b)}catch(T){return o.reject(m,T)}w===m?o.reject(m,new TypeError("Cannot resolve promise with itself")):o.resolve(m,w)})}function y(m){var _=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof _=="function")return function(){_.apply(m,arguments)}}function v(m,_){var b=!1;function w(M){b||(b=!0,o.reject(m,M))}function T(M){b||(b=!0,o.resolve(m,M))}var P=x(function(){_(T,w)});P.status==="error"&&w(P.value)}function x(m,_){var b={};try{b.value=m(_),b.status="success"}catch(w){b.status="error",b.value=w}return b}(n.exports=f).prototype.finally=function(m){if(typeof m!="function")return this;var _=this.constructor;return this.then(function(b){return _.resolve(m()).then(function(){return b})},function(b){return _.resolve(m()).then(function(){throw b})})},f.prototype.catch=function(m){return this.then(null,m)},f.prototype.then=function(m,_){if(typeof m!="function"&&this.state===u||typeof _!="function"&&this.state===l)return this;var b=new this.constructor(a);return this.state!==c?h(b,this.state===u?m:_,this.outcome):this.queue.push(new d(b,m,_)),b},d.prototype.callFulfilled=function(m){o.resolve(this.promise,m)},d.prototype.otherCallFulfilled=function(m){h(this.promise,this.onFulfilled,m)},d.prototype.callRejected=function(m){o.reject(this.promise,m)},d.prototype.otherCallRejected=function(m){h(this.promise,this.onRejected,m)},o.resolve=function(m,_){var b=x(y,_);if(b.status==="error")return o.reject(m,b.value);var w=b.value;if(w)v(m,w);else{m.state=u,m.outcome=_;for(var T=-1,P=m.queue.length;++T<P;)m.queue[T].callFulfilled(_)}return m},o.reject=function(m,_){m.state=l,m.outcome=_;for(var b=-1,w=m.queue.length;++b<w;)m.queue[b].callRejected(_);return m},f.resolve=function(m){return m instanceof this?m:o.resolve(new this(a),m)},f.reject=function(m){var _=new this(a);return o.reject(_,m)},f.all=function(m){var _=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=m.length,w=!1;if(!b)return this.resolve([]);for(var T=new Array(b),P=0,M=-1,U=new this(a);++M<b;)R(m[M],M);return U;function R(J,oe){_.resolve(J).then(function(C){T[oe]=C,++P!==b||w||(w=!0,o.resolve(U,T))},function(C){w||(w=!0,o.reject(U,C))})}},f.race=function(m){var _=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=m.length,w=!1;if(!b)return this.resolve([]);for(var T=-1,P=new this(a);++T<b;)M=m[T],_.resolve(M).then(function(U){w||(w=!0,o.resolve(P,U))},function(U){w||(w=!0,o.reject(P,U))});var M;return P}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),u=r("./zlib/zstream"),c=Object.prototype.toString,f=0,d=-1,h=0,y=8;function v(m){if(!(this instanceof v))return new v(m);this.options=a.assign({level:d,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},m||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=s.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(b!==f)throw new Error(l[b]);if(_.header&&s.deflateSetHeader(this.strm,_.header),_.dictionary){var w;if(w=typeof _.dictionary=="string"?o.string2buf(_.dictionary):c.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(b=s.deflateSetDictionary(this.strm,w))!==f)throw new Error(l[b]);this._dict_set=!0}}function x(m,_){var b=new v(_);if(b.push(m,!0),b.err)throw b.msg||l[b.err];return b.result}v.prototype.push=function(m,_){var b,w,T=this.strm,P=this.options.chunkSize;if(this.ended)return!1;w=_===~~_?_:_===!0?4:0,typeof m=="string"?T.input=o.string2buf(m):c.call(m)==="[object ArrayBuffer]"?T.input=new Uint8Array(m):T.input=m,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new a.Buf8(P),T.next_out=0,T.avail_out=P),(b=s.deflate(T,w))!==1&&b!==f)return this.onEnd(b),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(T.output,T.next_out))):this.onData(a.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&b!==1);return w===4?(b=s.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===f):w!==2||(this.onEnd(f),!(T.avail_out=0))},v.prototype.onData=function(m){this.chunks.push(m)},v.prototype.onEnd=function(m){m===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Deflate=v,i.deflate=x,i.deflateRaw=function(m,_){return(_=_||{}).raw=!0,x(m,_)},i.gzip=function(m,_){return(_=_||{}).gzip=!0,x(m,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),u=r("./zlib/messages"),c=r("./zlib/zstream"),f=r("./zlib/gzheader"),d=Object.prototype.toString;function h(v){if(!(this instanceof h))return new h(v);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},v||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||v&&v.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&(15&x.windowBits)==0&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var m=s.inflateInit2(this.strm,x.windowBits);if(m!==l.Z_OK)throw new Error(u[m]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function y(v,x){var m=new h(x);if(m.push(v,!0),m.err)throw m.msg||u[m.err];return m.result}h.prototype.push=function(v,x){var m,_,b,w,T,P,M=this.strm,U=this.options.chunkSize,R=this.options.dictionary,J=!1;if(this.ended)return!1;_=x===~~x?x:x===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof v=="string"?M.input=o.binstring2buf(v):d.call(v)==="[object ArrayBuffer]"?M.input=new Uint8Array(v):M.input=v,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new a.Buf8(U),M.next_out=0,M.avail_out=U),(m=s.inflate(M,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&R&&(P=typeof R=="string"?o.string2buf(R):d.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,m=s.inflateSetDictionary(this.strm,P)),m===l.Z_BUF_ERROR&&J===!0&&(m=l.Z_OK,J=!1),m!==l.Z_STREAM_END&&m!==l.Z_OK)return this.onEnd(m),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&m!==l.Z_STREAM_END&&(M.avail_in!==0||_!==l.Z_FINISH&&_!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=o.utf8border(M.output,M.next_out),w=M.next_out-b,T=o.buf2string(M.output,b),M.next_out=w,M.avail_out=U-w,w&&a.arraySet(M.output,M.output,b,w,0),this.onData(T)):this.onData(a.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(J=!0)}while((0<M.avail_in||M.avail_out===0)&&m!==l.Z_STREAM_END);return m===l.Z_STREAM_END&&(_=l.Z_FINISH),_===l.Z_FINISH?(m=s.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===l.Z_OK):_!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(M.avail_out=0))},h.prototype.onData=function(v){this.chunks.push(v)},h.prototype.onEnd=function(v){v===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=h,i.inflate=y,i.inflateRaw=function(v,x){return(x=x||{}).raw=!0,y(v,x)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(l[f]=c[f])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var a={arraySet:function(l,u,c,f,d){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+f),d);else for(var h=0;h<f;h++)l[d+h]=u[c+h]},flattenChunks:function(l){var u,c,f,d,h,y;for(u=f=0,c=l.length;u<c;u++)f+=l[u].length;for(y=new Uint8Array(f),u=d=0,c=l.length;u<c;u++)h=l[u],y.set(h,d),d+=h.length;return y}},o={arraySet:function(l,u,c,f,d){for(var h=0;h<f;h++)l[d+h]=u[c+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(f,d){if(d<65537&&(f.subarray&&o||!f.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(f,d));for(var h="",y=0;y<d;y++)h+=String.fromCharCode(f[y]);return h}l[254]=l[254]=1,i.string2buf=function(f){var d,h,y,v,x,m=f.length,_=0;for(v=0;v<m;v++)(64512&(h=f.charCodeAt(v)))==55296&&v+1<m&&(64512&(y=f.charCodeAt(v+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),v++),_+=h<128?1:h<2048?2:h<65536?3:4;for(d=new s.Buf8(_),v=x=0;x<_;v++)(64512&(h=f.charCodeAt(v)))==55296&&v+1<m&&(64512&(y=f.charCodeAt(v+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),v++),h<128?d[x++]=h:(h<2048?d[x++]=192|h>>>6:(h<65536?d[x++]=224|h>>>12:(d[x++]=240|h>>>18,d[x++]=128|h>>>12&63),d[x++]=128|h>>>6&63),d[x++]=128|63&h);return d},i.buf2binstring=function(f){return c(f,f.length)},i.binstring2buf=function(f){for(var d=new s.Buf8(f.length),h=0,y=d.length;h<y;h++)d[h]=f.charCodeAt(h);return d},i.buf2string=function(f,d){var h,y,v,x,m=d||f.length,_=new Array(2*m);for(h=y=0;h<m;)if((v=f[h++])<128)_[y++]=v;else if(4<(x=l[v]))_[y++]=65533,h+=x-1;else{for(v&=x===2?31:x===3?15:7;1<x&&h<m;)v=v<<6|63&f[h++],x--;1<x?_[y++]=65533:v<65536?_[y++]=v:(v-=65536,_[y++]=55296|v>>10&1023,_[y++]=56320|1023&v)}return c(_,y)},i.utf8border=function(f,d){var h;for((d=d||f.length)>f.length&&(d=f.length),h=d-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?d:h+l[f[h]]>d?h:d}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,a,o,l){for(var u=65535&s|0,c=s>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;c=c+(u=u+a[l++]|0)|0,--f;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=(function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o})();n.exports=function(a,o,l,u){var c=s,f=u+l;a^=-1;for(var d=u;d<f;d++)a=a>>>8^c[255&(a^o[d])];return-1^a}},{}],46:[function(r,n,i){var s,a=r("../utils/common"),o=r("./trees"),l=r("./adler32"),u=r("./crc32"),c=r("./messages"),f=0,d=4,h=0,y=-2,v=-1,x=4,m=2,_=8,b=9,w=286,T=30,P=19,M=2*w+1,U=15,R=3,J=258,oe=J+R+1,C=42,H=113,k=1,V=2,Q=3,j=4;function ie(E,Y){return E.msg=c[Y],Y}function ee(E){return(E<<1)-(4<E?9:0)}function le(E){for(var Y=E.length;0<=--Y;)E[Y]=0}function G(E){var Y=E.state,N=Y.pending;N>E.avail_out&&(N=E.avail_out),N!==0&&(a.arraySet(E.output,Y.pending_buf,Y.pending_out,N,E.next_out),E.next_out+=N,Y.pending_out+=N,E.total_out+=N,E.avail_out-=N,Y.pending-=N,Y.pending===0&&(Y.pending_out=0))}function D(E,Y){o._tr_flush_block(E,0<=E.block_start?E.block_start:-1,E.strstart-E.block_start,Y),E.block_start=E.strstart,G(E.strm)}function $(E,Y){E.pending_buf[E.pending++]=Y}function X(E,Y){E.pending_buf[E.pending++]=Y>>>8&255,E.pending_buf[E.pending++]=255&Y}function re(E,Y){var N,p,g=E.max_chain_length,S=E.strstart,F=E.prev_length,q=E.nice_match,z=E.strstart>E.w_size-oe?E.strstart-(E.w_size-oe):0,ne=E.window,ae=E.w_mask,se=E.prev,fe=E.strstart+J,pe=ne[S+F-1],ve=ne[S+F];E.prev_length>=E.good_match&&(g>>=2),q>E.lookahead&&(q=E.lookahead);do if(ne[(N=Y)+F]===ve&&ne[N+F-1]===pe&&ne[N]===ne[S]&&ne[++N]===ne[S+1]){S+=2,N++;do;while(ne[++S]===ne[++N]&&ne[++S]===ne[++N]&&ne[++S]===ne[++N]&&ne[++S]===ne[++N]&&ne[++S]===ne[++N]&&ne[++S]===ne[++N]&&ne[++S]===ne[++N]&&ne[++S]===ne[++N]&&S<fe);if(p=J-(fe-S),S=fe-J,F<p){if(E.match_start=Y,q<=(F=p))break;pe=ne[S+F-1],ve=ne[S+F]}}while((Y=se[Y&ae])>z&&--g!=0);return F<=E.lookahead?F:E.lookahead}function K(E){var Y,N,p,g,S,F,q,z,ne,ae,se=E.w_size;do{if(g=E.window_size-E.lookahead-E.strstart,E.strstart>=se+(se-oe)){for(a.arraySet(E.window,E.window,se,se,0),E.match_start-=se,E.strstart-=se,E.block_start-=se,Y=N=E.hash_size;p=E.head[--Y],E.head[Y]=se<=p?p-se:0,--N;);for(Y=N=se;p=E.prev[--Y],E.prev[Y]=se<=p?p-se:0,--N;);g+=se}if(E.strm.avail_in===0)break;if(F=E.strm,q=E.window,z=E.strstart+E.lookahead,ne=g,ae=void 0,ae=F.avail_in,ne<ae&&(ae=ne),N=ae===0?0:(F.avail_in-=ae,a.arraySet(q,F.input,F.next_in,ae,z),F.state.wrap===1?F.adler=l(F.adler,q,ae,z):F.state.wrap===2&&(F.adler=u(F.adler,q,ae,z)),F.next_in+=ae,F.total_in+=ae,ae),E.lookahead+=N,E.lookahead+E.insert>=R)for(S=E.strstart-E.insert,E.ins_h=E.window[S],E.ins_h=(E.ins_h<<E.hash_shift^E.window[S+1])&E.hash_mask;E.insert&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[S+R-1])&E.hash_mask,E.prev[S&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=S,S++,E.insert--,!(E.lookahead+E.insert<R)););}while(E.lookahead<oe&&E.strm.avail_in!==0)}function O(E,Y){for(var N,p;;){if(E.lookahead<oe){if(K(E),E.lookahead<oe&&Y===f)return k;if(E.lookahead===0)break}if(N=0,E.lookahead>=R&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+R-1])&E.hash_mask,N=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),N!==0&&E.strstart-N<=E.w_size-oe&&(E.match_length=re(E,N)),E.match_length>=R)if(p=o._tr_tally(E,E.strstart-E.match_start,E.match_length-R),E.lookahead-=E.match_length,E.match_length<=E.max_lazy_match&&E.lookahead>=R){for(E.match_length--;E.strstart++,E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+R-1])&E.hash_mask,N=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart,--E.match_length!=0;);E.strstart++}else E.strstart+=E.match_length,E.match_length=0,E.ins_h=E.window[E.strstart],E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+1])&E.hash_mask;else p=o._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++;if(p&&(D(E,!1),E.strm.avail_out===0))return k}return E.insert=E.strstart<R-1?E.strstart:R-1,Y===d?(D(E,!0),E.strm.avail_out===0?Q:j):E.last_lit&&(D(E,!1),E.strm.avail_out===0)?k:V}function A(E,Y){for(var N,p,g;;){if(E.lookahead<oe){if(K(E),E.lookahead<oe&&Y===f)return k;if(E.lookahead===0)break}if(N=0,E.lookahead>=R&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+R-1])&E.hash_mask,N=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),E.prev_length=E.match_length,E.prev_match=E.match_start,E.match_length=R-1,N!==0&&E.prev_length<E.max_lazy_match&&E.strstart-N<=E.w_size-oe&&(E.match_length=re(E,N),E.match_length<=5&&(E.strategy===1||E.match_length===R&&4096<E.strstart-E.match_start)&&(E.match_length=R-1)),E.prev_length>=R&&E.match_length<=E.prev_length){for(g=E.strstart+E.lookahead-R,p=o._tr_tally(E,E.strstart-1-E.prev_match,E.prev_length-R),E.lookahead-=E.prev_length-1,E.prev_length-=2;++E.strstart<=g&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+R-1])&E.hash_mask,N=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),--E.prev_length!=0;);if(E.match_available=0,E.match_length=R-1,E.strstart++,p&&(D(E,!1),E.strm.avail_out===0))return k}else if(E.match_available){if((p=o._tr_tally(E,0,E.window[E.strstart-1]))&&D(E,!1),E.strstart++,E.lookahead--,E.strm.avail_out===0)return k}else E.match_available=1,E.strstart++,E.lookahead--}return E.match_available&&(p=o._tr_tally(E,0,E.window[E.strstart-1]),E.match_available=0),E.insert=E.strstart<R-1?E.strstart:R-1,Y===d?(D(E,!0),E.strm.avail_out===0?Q:j):E.last_lit&&(D(E,!1),E.strm.avail_out===0)?k:V}function W(E,Y,N,p,g){this.good_length=E,this.max_lazy=Y,this.nice_length=N,this.max_chain=p,this.func=g}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*M),this.dyn_dtree=new a.Buf16(2*(2*T+1)),this.bl_tree=new a.Buf16(2*(2*P+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(U+1),this.heap=new a.Buf16(2*w+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*w+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function I(E){var Y;return E&&E.state?(E.total_in=E.total_out=0,E.data_type=m,(Y=E.state).pending=0,Y.pending_out=0,Y.wrap<0&&(Y.wrap=-Y.wrap),Y.status=Y.wrap?C:H,E.adler=Y.wrap===2?0:1,Y.last_flush=f,o._tr_init(Y),h):ie(E,y)}function L(E){var Y=I(E);return Y===h&&(function(N){N.window_size=2*N.w_size,le(N.head),N.max_lazy_match=s[N.level].max_lazy,N.good_match=s[N.level].good_length,N.nice_match=s[N.level].nice_length,N.max_chain_length=s[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=R-1,N.match_available=0,N.ins_h=0})(E.state),Y}function Z(E,Y,N,p,g,S){if(!E)return y;var F=1;if(Y===v&&(Y=6),p<0?(F=0,p=-p):15<p&&(F=2,p-=16),g<1||b<g||N!==_||p<8||15<p||Y<0||9<Y||S<0||x<S)return ie(E,y);p===8&&(p=9);var q=new B;return(E.state=q).strm=E,q.wrap=F,q.gzhead=null,q.w_bits=p,q.w_size=1<<q.w_bits,q.w_mask=q.w_size-1,q.hash_bits=g+7,q.hash_size=1<<q.hash_bits,q.hash_mask=q.hash_size-1,q.hash_shift=~~((q.hash_bits+R-1)/R),q.window=new a.Buf8(2*q.w_size),q.head=new a.Buf16(q.hash_size),q.prev=new a.Buf16(q.w_size),q.lit_bufsize=1<<g+6,q.pending_buf_size=4*q.lit_bufsize,q.pending_buf=new a.Buf8(q.pending_buf_size),q.d_buf=1*q.lit_bufsize,q.l_buf=3*q.lit_bufsize,q.level=Y,q.strategy=S,q.method=N,L(E)}s=[new W(0,0,0,0,function(E,Y){var N=65535;for(N>E.pending_buf_size-5&&(N=E.pending_buf_size-5);;){if(E.lookahead<=1){if(K(E),E.lookahead===0&&Y===f)return k;if(E.lookahead===0)break}E.strstart+=E.lookahead,E.lookahead=0;var p=E.block_start+N;if((E.strstart===0||E.strstart>=p)&&(E.lookahead=E.strstart-p,E.strstart=p,D(E,!1),E.strm.avail_out===0)||E.strstart-E.block_start>=E.w_size-oe&&(D(E,!1),E.strm.avail_out===0))return k}return E.insert=0,Y===d?(D(E,!0),E.strm.avail_out===0?Q:j):(E.strstart>E.block_start&&(D(E,!1),E.strm.avail_out),k)}),new W(4,4,8,4,O),new W(4,5,16,8,O),new W(4,6,32,32,O),new W(4,4,16,16,A),new W(8,16,32,32,A),new W(8,16,128,128,A),new W(8,32,128,256,A),new W(32,128,258,1024,A),new W(32,258,258,4096,A)],i.deflateInit=function(E,Y){return Z(E,Y,_,15,8,0)},i.deflateInit2=Z,i.deflateReset=L,i.deflateResetKeep=I,i.deflateSetHeader=function(E,Y){return E&&E.state?E.state.wrap!==2?y:(E.state.gzhead=Y,h):y},i.deflate=function(E,Y){var N,p,g,S;if(!E||!E.state||5<Y||Y<0)return E?ie(E,y):y;if(p=E.state,!E.output||!E.input&&E.avail_in!==0||p.status===666&&Y!==d)return ie(E,E.avail_out===0?-5:y);if(p.strm=E,N=p.last_flush,p.last_flush=Y,p.status===C)if(p.wrap===2)E.adler=0,$(p,31),$(p,139),$(p,8),p.gzhead?($(p,(p.gzhead.text?1:0)+(p.gzhead.hcrc?2:0)+(p.gzhead.extra?4:0)+(p.gzhead.name?8:0)+(p.gzhead.comment?16:0)),$(p,255&p.gzhead.time),$(p,p.gzhead.time>>8&255),$(p,p.gzhead.time>>16&255),$(p,p.gzhead.time>>24&255),$(p,p.level===9?2:2<=p.strategy||p.level<2?4:0),$(p,255&p.gzhead.os),p.gzhead.extra&&p.gzhead.extra.length&&($(p,255&p.gzhead.extra.length),$(p,p.gzhead.extra.length>>8&255)),p.gzhead.hcrc&&(E.adler=u(E.adler,p.pending_buf,p.pending,0)),p.gzindex=0,p.status=69):($(p,0),$(p,0),$(p,0),$(p,0),$(p,0),$(p,p.level===9?2:2<=p.strategy||p.level<2?4:0),$(p,3),p.status=H);else{var F=_+(p.w_bits-8<<4)<<8;F|=(2<=p.strategy||p.level<2?0:p.level<6?1:p.level===6?2:3)<<6,p.strstart!==0&&(F|=32),F+=31-F%31,p.status=H,X(p,F),p.strstart!==0&&(X(p,E.adler>>>16),X(p,65535&E.adler)),E.adler=1}if(p.status===69)if(p.gzhead.extra){for(g=p.pending;p.gzindex<(65535&p.gzhead.extra.length)&&(p.pending!==p.pending_buf_size||(p.gzhead.hcrc&&p.pending>g&&(E.adler=u(E.adler,p.pending_buf,p.pending-g,g)),G(E),g=p.pending,p.pending!==p.pending_buf_size));)$(p,255&p.gzhead.extra[p.gzindex]),p.gzindex++;p.gzhead.hcrc&&p.pending>g&&(E.adler=u(E.adler,p.pending_buf,p.pending-g,g)),p.gzindex===p.gzhead.extra.length&&(p.gzindex=0,p.status=73)}else p.status=73;if(p.status===73)if(p.gzhead.name){g=p.pending;do{if(p.pending===p.pending_buf_size&&(p.gzhead.hcrc&&p.pending>g&&(E.adler=u(E.adler,p.pending_buf,p.pending-g,g)),G(E),g=p.pending,p.pending===p.pending_buf_size)){S=1;break}S=p.gzindex<p.gzhead.name.length?255&p.gzhead.name.charCodeAt(p.gzindex++):0,$(p,S)}while(S!==0);p.gzhead.hcrc&&p.pending>g&&(E.adler=u(E.adler,p.pending_buf,p.pending-g,g)),S===0&&(p.gzindex=0,p.status=91)}else p.status=91;if(p.status===91)if(p.gzhead.comment){g=p.pending;do{if(p.pending===p.pending_buf_size&&(p.gzhead.hcrc&&p.pending>g&&(E.adler=u(E.adler,p.pending_buf,p.pending-g,g)),G(E),g=p.pending,p.pending===p.pending_buf_size)){S=1;break}S=p.gzindex<p.gzhead.comment.length?255&p.gzhead.comment.charCodeAt(p.gzindex++):0,$(p,S)}while(S!==0);p.gzhead.hcrc&&p.pending>g&&(E.adler=u(E.adler,p.pending_buf,p.pending-g,g)),S===0&&(p.status=103)}else p.status=103;if(p.status===103&&(p.gzhead.hcrc?(p.pending+2>p.pending_buf_size&&G(E),p.pending+2<=p.pending_buf_size&&($(p,255&E.adler),$(p,E.adler>>8&255),E.adler=0,p.status=H)):p.status=H),p.pending!==0){if(G(E),E.avail_out===0)return p.last_flush=-1,h}else if(E.avail_in===0&&ee(Y)<=ee(N)&&Y!==d)return ie(E,-5);if(p.status===666&&E.avail_in!==0)return ie(E,-5);if(E.avail_in!==0||p.lookahead!==0||Y!==f&&p.status!==666){var q=p.strategy===2?(function(z,ne){for(var ae;;){if(z.lookahead===0&&(K(z),z.lookahead===0)){if(ne===f)return k;break}if(z.match_length=0,ae=o._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++,ae&&(D(z,!1),z.strm.avail_out===0))return k}return z.insert=0,ne===d?(D(z,!0),z.strm.avail_out===0?Q:j):z.last_lit&&(D(z,!1),z.strm.avail_out===0)?k:V})(p,Y):p.strategy===3?(function(z,ne){for(var ae,se,fe,pe,ve=z.window;;){if(z.lookahead<=J){if(K(z),z.lookahead<=J&&ne===f)return k;if(z.lookahead===0)break}if(z.match_length=0,z.lookahead>=R&&0<z.strstart&&(se=ve[fe=z.strstart-1])===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]){pe=z.strstart+J;do;while(se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&fe<pe);z.match_length=J-(pe-fe),z.match_length>z.lookahead&&(z.match_length=z.lookahead)}if(z.match_length>=R?(ae=o._tr_tally(z,1,z.match_length-R),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(ae=o._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++),ae&&(D(z,!1),z.strm.avail_out===0))return k}return z.insert=0,ne===d?(D(z,!0),z.strm.avail_out===0?Q:j):z.last_lit&&(D(z,!1),z.strm.avail_out===0)?k:V})(p,Y):s[p.level].func(p,Y);if(q!==Q&&q!==j||(p.status=666),q===k||q===Q)return E.avail_out===0&&(p.last_flush=-1),h;if(q===V&&(Y===1?o._tr_align(p):Y!==5&&(o._tr_stored_block(p,0,0,!1),Y===3&&(le(p.head),p.lookahead===0&&(p.strstart=0,p.block_start=0,p.insert=0))),G(E),E.avail_out===0))return p.last_flush=-1,h}return Y!==d?h:p.wrap<=0?1:(p.wrap===2?($(p,255&E.adler),$(p,E.adler>>8&255),$(p,E.adler>>16&255),$(p,E.adler>>24&255),$(p,255&E.total_in),$(p,E.total_in>>8&255),$(p,E.total_in>>16&255),$(p,E.total_in>>24&255)):(X(p,E.adler>>>16),X(p,65535&E.adler)),G(E),0<p.wrap&&(p.wrap=-p.wrap),p.pending!==0?h:1)},i.deflateEnd=function(E){var Y;return E&&E.state?(Y=E.state.status)!==C&&Y!==69&&Y!==73&&Y!==91&&Y!==103&&Y!==H&&Y!==666?ie(E,y):(E.state=null,Y===H?ie(E,-3):h):y},i.deflateSetDictionary=function(E,Y){var N,p,g,S,F,q,z,ne,ae=Y.length;if(!E||!E.state||(S=(N=E.state).wrap)===2||S===1&&N.status!==C||N.lookahead)return y;for(S===1&&(E.adler=l(E.adler,Y,ae,0)),N.wrap=0,ae>=N.w_size&&(S===0&&(le(N.head),N.strstart=0,N.block_start=0,N.insert=0),ne=new a.Buf8(N.w_size),a.arraySet(ne,Y,ae-N.w_size,N.w_size,0),Y=ne,ae=N.w_size),F=E.avail_in,q=E.next_in,z=E.input,E.avail_in=ae,E.next_in=0,E.input=Y,K(N);N.lookahead>=R;){for(p=N.strstart,g=N.lookahead-(R-1);N.ins_h=(N.ins_h<<N.hash_shift^N.window[p+R-1])&N.hash_mask,N.prev[p&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=p,p++,--g;);N.strstart=p,N.lookahead=R-1,K(N)}return N.strstart+=N.lookahead,N.block_start=N.strstart,N.insert=N.lookahead,N.lookahead=0,N.match_length=N.prev_length=R-1,N.match_available=0,E.next_in=q,E.input=z,E.avail_in=F,N.wrap=S,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,a){var o,l,u,c,f,d,h,y,v,x,m,_,b,w,T,P,M,U,R,J,oe,C,H,k,V;o=s.state,l=s.next_in,k=s.input,u=l+(s.avail_in-5),c=s.next_out,V=s.output,f=c-(a-s.avail_out),d=c+(s.avail_out-257),h=o.dmax,y=o.wsize,v=o.whave,x=o.wnext,m=o.window,_=o.hold,b=o.bits,w=o.lencode,T=o.distcode,P=(1<<o.lenbits)-1,M=(1<<o.distbits)-1;e:do{b<15&&(_+=k[l++]<<b,b+=8,_+=k[l++]<<b,b+=8),U=w[_&P];t:for(;;){if(_>>>=R=U>>>24,b-=R,(R=U>>>16&255)===0)V[c++]=65535&U;else{if(!(16&R)){if((64&R)==0){U=w[(65535&U)+(_&(1<<R)-1)];continue t}if(32&R){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}J=65535&U,(R&=15)&&(b<R&&(_+=k[l++]<<b,b+=8),J+=_&(1<<R)-1,_>>>=R,b-=R),b<15&&(_+=k[l++]<<b,b+=8,_+=k[l++]<<b,b+=8),U=T[_&M];r:for(;;){if(_>>>=R=U>>>24,b-=R,!(16&(R=U>>>16&255))){if((64&R)==0){U=T[(65535&U)+(_&(1<<R)-1)];continue r}s.msg="invalid distance code",o.mode=30;break e}if(oe=65535&U,b<(R&=15)&&(_+=k[l++]<<b,(b+=8)<R&&(_+=k[l++]<<b,b+=8)),h<(oe+=_&(1<<R)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(_>>>=R,b-=R,(R=c-f)<oe){if(v<(R=oe-R)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(H=m,(C=0)===x){if(C+=y-R,R<J){for(J-=R;V[c++]=m[C++],--R;);C=c-oe,H=V}}else if(x<R){if(C+=y+x-R,(R-=x)<J){for(J-=R;V[c++]=m[C++],--R;);if(C=0,x<J){for(J-=R=x;V[c++]=m[C++],--R;);C=c-oe,H=V}}}else if(C+=x-R,R<J){for(J-=R;V[c++]=m[C++],--R;);C=c-oe,H=V}for(;2<J;)V[c++]=H[C++],V[c++]=H[C++],V[c++]=H[C++],J-=3;J&&(V[c++]=H[C++],1<J&&(V[c++]=H[C++]))}else{for(C=c-oe;V[c++]=V[C++],V[c++]=V[C++],V[c++]=V[C++],2<(J-=3););J&&(V[c++]=V[C++],1<J&&(V[c++]=V[C++]))}break}}break}}while(l<u&&c<d);l-=J=b>>3,_&=(1<<(b-=J<<3))-1,s.next_in=l,s.next_out=c,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=c<d?d-c+257:257-(c-d),o.hold=_,o.bits=b}},{}],49:[function(r,n,i){var s=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),l=r("./inffast"),u=r("./inftrees"),c=1,f=2,d=0,h=-2,y=1,v=852,x=592;function m(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(C){var H;return C&&C.state?(H=C.state,C.total_in=C.total_out=H.total=0,C.msg="",H.wrap&&(C.adler=1&H.wrap),H.mode=y,H.last=0,H.havedict=0,H.dmax=32768,H.head=null,H.hold=0,H.bits=0,H.lencode=H.lendyn=new s.Buf32(v),H.distcode=H.distdyn=new s.Buf32(x),H.sane=1,H.back=-1,d):h}function w(C){var H;return C&&C.state?((H=C.state).wsize=0,H.whave=0,H.wnext=0,b(C)):h}function T(C,H){var k,V;return C&&C.state?(V=C.state,H<0?(k=0,H=-H):(k=1+(H>>4),H<48&&(H&=15)),H&&(H<8||15<H)?h:(V.window!==null&&V.wbits!==H&&(V.window=null),V.wrap=k,V.wbits=H,w(C))):h}function P(C,H){var k,V;return C?(V=new _,(C.state=V).window=null,(k=T(C,H))!==d&&(C.state=null),k):h}var M,U,R=!0;function J(C){if(R){var H;for(M=new s.Buf32(512),U=new s.Buf32(32),H=0;H<144;)C.lens[H++]=8;for(;H<256;)C.lens[H++]=9;for(;H<280;)C.lens[H++]=7;for(;H<288;)C.lens[H++]=8;for(u(c,C.lens,0,288,M,0,C.work,{bits:9}),H=0;H<32;)C.lens[H++]=5;u(f,C.lens,0,32,U,0,C.work,{bits:5}),R=!1}C.lencode=M,C.lenbits=9,C.distcode=U,C.distbits=5}function oe(C,H,k,V){var Q,j=C.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new s.Buf8(j.wsize)),V>=j.wsize?(s.arraySet(j.window,H,k-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):(V<(Q=j.wsize-j.wnext)&&(Q=V),s.arraySet(j.window,H,k-V,Q,j.wnext),(V-=Q)?(s.arraySet(j.window,H,k-V,V,0),j.wnext=V,j.whave=j.wsize):(j.wnext+=Q,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=Q))),0}i.inflateReset=w,i.inflateReset2=T,i.inflateResetKeep=b,i.inflateInit=function(C){return P(C,15)},i.inflateInit2=P,i.inflate=function(C,H){var k,V,Q,j,ie,ee,le,G,D,$,X,re,K,O,A,W,B,I,L,Z,E,Y,N,p,g=0,S=new s.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return h;(k=C.state).mode===12&&(k.mode=13),ie=C.next_out,Q=C.output,le=C.avail_out,j=C.next_in,V=C.input,ee=C.avail_in,G=k.hold,D=k.bits,$=ee,X=le,Y=d;e:for(;;)switch(k.mode){case y:if(k.wrap===0){k.mode=13;break}for(;D<16;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if(2&k.wrap&&G===35615){S[k.check=0]=255&G,S[1]=G>>>8&255,k.check=o(k.check,S,2,0),D=G=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&G)<<8)+(G>>8))%31){C.msg="incorrect header check",k.mode=30;break}if((15&G)!=8){C.msg="unknown compression method",k.mode=30;break}if(D-=4,E=8+(15&(G>>>=4)),k.wbits===0)k.wbits=E;else if(E>k.wbits){C.msg="invalid window size",k.mode=30;break}k.dmax=1<<E,C.adler=k.check=1,k.mode=512&G?10:12,D=G=0;break;case 2:for(;D<16;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if(k.flags=G,(255&k.flags)!=8){C.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){C.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=G>>8&1),512&k.flags&&(S[0]=255&G,S[1]=G>>>8&255,k.check=o(k.check,S,2,0)),D=G=0,k.mode=3;case 3:for(;D<32;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}k.head&&(k.head.time=G),512&k.flags&&(S[0]=255&G,S[1]=G>>>8&255,S[2]=G>>>16&255,S[3]=G>>>24&255,k.check=o(k.check,S,4,0)),D=G=0,k.mode=4;case 4:for(;D<16;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}k.head&&(k.head.xflags=255&G,k.head.os=G>>8),512&k.flags&&(S[0]=255&G,S[1]=G>>>8&255,k.check=o(k.check,S,2,0)),D=G=0,k.mode=5;case 5:if(1024&k.flags){for(;D<16;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}k.length=G,k.head&&(k.head.extra_len=G),512&k.flags&&(S[0]=255&G,S[1]=G>>>8&255,k.check=o(k.check,S,2,0)),D=G=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(ee<(re=k.length)&&(re=ee),re&&(k.head&&(E=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),s.arraySet(k.head.extra,V,j,re,E)),512&k.flags&&(k.check=o(k.check,V,re,j)),ee-=re,j+=re,k.length-=re),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(ee===0)break e;for(re=0;E=V[j+re++],k.head&&E&&k.length<65536&&(k.head.name+=String.fromCharCode(E)),E&&re<ee;);if(512&k.flags&&(k.check=o(k.check,V,re,j)),ee-=re,j+=re,E)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(ee===0)break e;for(re=0;E=V[j+re++],k.head&&E&&k.length<65536&&(k.head.comment+=String.fromCharCode(E)),E&&re<ee;);if(512&k.flags&&(k.check=o(k.check,V,re,j)),ee-=re,j+=re,E)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;D<16;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if(G!==(65535&k.check)){C.msg="header crc mismatch",k.mode=30;break}D=G=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),C.adler=k.check=0,k.mode=12;break;case 10:for(;D<32;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}C.adler=k.check=m(G),D=G=0,k.mode=11;case 11:if(k.havedict===0)return C.next_out=ie,C.avail_out=le,C.next_in=j,C.avail_in=ee,k.hold=G,k.bits=D,2;C.adler=k.check=1,k.mode=12;case 12:if(H===5||H===6)break e;case 13:if(k.last){G>>>=7&D,D-=7&D,k.mode=27;break}for(;D<3;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}switch(k.last=1&G,D-=1,3&(G>>>=1)){case 0:k.mode=14;break;case 1:if(J(k),k.mode=20,H!==6)break;G>>>=2,D-=2;break e;case 2:k.mode=17;break;case 3:C.msg="invalid block type",k.mode=30}G>>>=2,D-=2;break;case 14:for(G>>>=7&D,D-=7&D;D<32;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if((65535&G)!=(G>>>16^65535)){C.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&G,D=G=0,k.mode=15,H===6)break e;case 15:k.mode=16;case 16:if(re=k.length){if(ee<re&&(re=ee),le<re&&(re=le),re===0)break e;s.arraySet(Q,V,j,re,ie),ee-=re,j+=re,le-=re,ie+=re,k.length-=re;break}k.mode=12;break;case 17:for(;D<14;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if(k.nlen=257+(31&G),G>>>=5,D-=5,k.ndist=1+(31&G),G>>>=5,D-=5,k.ncode=4+(15&G),G>>>=4,D-=4,286<k.nlen||30<k.ndist){C.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;D<3;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}k.lens[F[k.have++]]=7&G,G>>>=3,D-=3}for(;k.have<19;)k.lens[F[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,N={bits:k.lenbits},Y=u(0,k.lens,0,19,k.lencode,0,k.work,N),k.lenbits=N.bits,Y){C.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;W=(g=k.lencode[G&(1<<k.lenbits)-1])>>>16&255,B=65535&g,!((A=g>>>24)<=D);){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if(B<16)G>>>=A,D-=A,k.lens[k.have++]=B;else{if(B===16){for(p=A+2;D<p;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if(G>>>=A,D-=A,k.have===0){C.msg="invalid bit length repeat",k.mode=30;break}E=k.lens[k.have-1],re=3+(3&G),G>>>=2,D-=2}else if(B===17){for(p=A+3;D<p;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}D-=A,E=0,re=3+(7&(G>>>=A)),G>>>=3,D-=3}else{for(p=A+7;D<p;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}D-=A,E=0,re=11+(127&(G>>>=A)),G>>>=7,D-=7}if(k.have+re>k.nlen+k.ndist){C.msg="invalid bit length repeat",k.mode=30;break}for(;re--;)k.lens[k.have++]=E}}if(k.mode===30)break;if(k.lens[256]===0){C.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,N={bits:k.lenbits},Y=u(c,k.lens,0,k.nlen,k.lencode,0,k.work,N),k.lenbits=N.bits,Y){C.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,N={bits:k.distbits},Y=u(f,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,N),k.distbits=N.bits,Y){C.msg="invalid distances set",k.mode=30;break}if(k.mode=20,H===6)break e;case 20:k.mode=21;case 21:if(6<=ee&&258<=le){C.next_out=ie,C.avail_out=le,C.next_in=j,C.avail_in=ee,k.hold=G,k.bits=D,l(C,X),ie=C.next_out,Q=C.output,le=C.avail_out,j=C.next_in,V=C.input,ee=C.avail_in,G=k.hold,D=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;W=(g=k.lencode[G&(1<<k.lenbits)-1])>>>16&255,B=65535&g,!((A=g>>>24)<=D);){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if(W&&(240&W)==0){for(I=A,L=W,Z=B;W=(g=k.lencode[Z+((G&(1<<I+L)-1)>>I)])>>>16&255,B=65535&g,!(I+(A=g>>>24)<=D);){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}G>>>=I,D-=I,k.back+=I}if(G>>>=A,D-=A,k.back+=A,k.length=B,W===0){k.mode=26;break}if(32&W){k.back=-1,k.mode=12;break}if(64&W){C.msg="invalid literal/length code",k.mode=30;break}k.extra=15&W,k.mode=22;case 22:if(k.extra){for(p=k.extra;D<p;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}k.length+=G&(1<<k.extra)-1,G>>>=k.extra,D-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;W=(g=k.distcode[G&(1<<k.distbits)-1])>>>16&255,B=65535&g,!((A=g>>>24)<=D);){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if((240&W)==0){for(I=A,L=W,Z=B;W=(g=k.distcode[Z+((G&(1<<I+L)-1)>>I)])>>>16&255,B=65535&g,!(I+(A=g>>>24)<=D);){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}G>>>=I,D-=I,k.back+=I}if(G>>>=A,D-=A,k.back+=A,64&W){C.msg="invalid distance code",k.mode=30;break}k.offset=B,k.extra=15&W,k.mode=24;case 24:if(k.extra){for(p=k.extra;D<p;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}k.offset+=G&(1<<k.extra)-1,G>>>=k.extra,D-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){C.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(le===0)break e;if(re=X-le,k.offset>re){if((re=k.offset-re)>k.whave&&k.sane){C.msg="invalid distance too far back",k.mode=30;break}K=re>k.wnext?(re-=k.wnext,k.wsize-re):k.wnext-re,re>k.length&&(re=k.length),O=k.window}else O=Q,K=ie-k.offset,re=k.length;for(le<re&&(re=le),le-=re,k.length-=re;Q[ie++]=O[K++],--re;);k.length===0&&(k.mode=21);break;case 26:if(le===0)break e;Q[ie++]=k.length,le--,k.mode=21;break;case 27:if(k.wrap){for(;D<32;){if(ee===0)break e;ee--,G|=V[j++]<<D,D+=8}if(X-=le,C.total_out+=X,k.total+=X,X&&(C.adler=k.check=k.flags?o(k.check,Q,X,ie-X):a(k.check,Q,X,ie-X)),X=le,(k.flags?G:m(G))!==k.check){C.msg="incorrect data check",k.mode=30;break}D=G=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;D<32;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if(G!==(4294967295&k.total)){C.msg="incorrect length check",k.mode=30;break}D=G=0}k.mode=29;case 29:Y=1;break e;case 30:Y=-3;break e;case 31:return-4;case 32:default:return h}return C.next_out=ie,C.avail_out=le,C.next_in=j,C.avail_in=ee,k.hold=G,k.bits=D,(k.wsize||X!==C.avail_out&&k.mode<30&&(k.mode<27||H!==4))&&oe(C,C.output,C.next_out,X-C.avail_out)?(k.mode=31,-4):($-=C.avail_in,X-=C.avail_out,C.total_in+=$,C.total_out+=X,k.total+=X,k.wrap&&X&&(C.adler=k.check=k.flags?o(k.check,Q,X,C.next_out-X):a(k.check,Q,X,C.next_out-X)),C.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),($==0&&X===0||H===4)&&Y===d&&(Y=-5),Y)},i.inflateEnd=function(C){if(!C||!C.state)return h;var H=C.state;return H.window&&(H.window=null),C.state=null,d},i.inflateGetHeader=function(C,H){var k;return C&&C.state?(2&(k=C.state).wrap)==0?h:((k.head=H).done=!1,d):h},i.inflateSetDictionary=function(C,H){var k,V=H.length;return C&&C.state?(k=C.state).wrap!==0&&k.mode!==11?h:k.mode===11&&a(1,H,V,0)!==k.check?-3:oe(C,H,V,V)?(k.mode=31,-4):(k.havedict=1,d):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(c,f,d,h,y,v,x,m){var _,b,w,T,P,M,U,R,J,oe=m.bits,C=0,H=0,k=0,V=0,Q=0,j=0,ie=0,ee=0,le=0,G=0,D=null,$=0,X=new s.Buf16(16),re=new s.Buf16(16),K=null,O=0;for(C=0;C<=15;C++)X[C]=0;for(H=0;H<h;H++)X[f[d+H]]++;for(Q=oe,V=15;1<=V&&X[V]===0;V--);if(V<Q&&(Q=V),V===0)return y[v++]=20971520,y[v++]=20971520,m.bits=1,0;for(k=1;k<V&&X[k]===0;k++);for(Q<k&&(Q=k),C=ee=1;C<=15;C++)if(ee<<=1,(ee-=X[C])<0)return-1;if(0<ee&&(c===0||V!==1))return-1;for(re[1]=0,C=1;C<15;C++)re[C+1]=re[C]+X[C];for(H=0;H<h;H++)f[d+H]!==0&&(x[re[f[d+H]]++]=H);if(M=c===0?(D=K=x,19):c===1?(D=a,$-=257,K=o,O-=257,256):(D=l,K=u,-1),C=k,P=v,ie=H=G=0,w=-1,T=(le=1<<(j=Q))-1,c===1&&852<le||c===2&&592<le)return 1;for(;;){for(U=C-ie,J=x[H]<M?(R=0,x[H]):x[H]>M?(R=K[O+x[H]],D[$+x[H]]):(R=96,0),_=1<<C-ie,k=b=1<<j;y[P+(G>>ie)+(b-=_)]=U<<24|R<<16|J|0,b!==0;);for(_=1<<C-1;G&_;)_>>=1;if(_!==0?(G&=_-1,G+=_):G=0,H++,--X[C]==0){if(C===V)break;C=f[d+x[H]]}if(Q<C&&(G&T)!==w){for(ie===0&&(ie=Q),P+=k,ee=1<<(j=C-ie);j+ie<V&&!((ee-=X[j+ie])<=0);)j++,ee<<=1;if(le+=1<<j,c===1&&852<le||c===2&&592<le)return 1;y[w=G&T]=Q<<24|j<<16|P-v|0}}return G!==0&&(y[P+G]=C-ie<<24|64<<16|0),m.bits=Q,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),a=0,o=1;function l(g){for(var S=g.length;0<=--S;)g[S]=0}var u=0,c=29,f=256,d=f+1+c,h=30,y=19,v=2*d+1,x=15,m=16,_=7,b=256,w=16,T=17,P=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=new Array(2*(d+2));l(oe);var C=new Array(2*h);l(C);var H=new Array(512);l(H);var k=new Array(256);l(k);var V=new Array(c);l(V);var Q,j,ie,ee=new Array(h);function le(g,S,F,q,z){this.static_tree=g,this.extra_bits=S,this.extra_base=F,this.elems=q,this.max_length=z,this.has_stree=g&&g.length}function G(g,S){this.dyn_tree=g,this.max_code=0,this.stat_desc=S}function D(g){return g<256?H[g]:H[256+(g>>>7)]}function $(g,S){g.pending_buf[g.pending++]=255&S,g.pending_buf[g.pending++]=S>>>8&255}function X(g,S,F){g.bi_valid>m-F?(g.bi_buf|=S<<g.bi_valid&65535,$(g,g.bi_buf),g.bi_buf=S>>m-g.bi_valid,g.bi_valid+=F-m):(g.bi_buf|=S<<g.bi_valid&65535,g.bi_valid+=F)}function re(g,S,F){X(g,F[2*S],F[2*S+1])}function K(g,S){for(var F=0;F|=1&g,g>>>=1,F<<=1,0<--S;);return F>>>1}function O(g,S,F){var q,z,ne=new Array(x+1),ae=0;for(q=1;q<=x;q++)ne[q]=ae=ae+F[q-1]<<1;for(z=0;z<=S;z++){var se=g[2*z+1];se!==0&&(g[2*z]=K(ne[se]++,se))}}function A(g){var S;for(S=0;S<d;S++)g.dyn_ltree[2*S]=0;for(S=0;S<h;S++)g.dyn_dtree[2*S]=0;for(S=0;S<y;S++)g.bl_tree[2*S]=0;g.dyn_ltree[2*b]=1,g.opt_len=g.static_len=0,g.last_lit=g.matches=0}function W(g){8<g.bi_valid?$(g,g.bi_buf):0<g.bi_valid&&(g.pending_buf[g.pending++]=g.bi_buf),g.bi_buf=0,g.bi_valid=0}function B(g,S,F,q){var z=2*S,ne=2*F;return g[z]<g[ne]||g[z]===g[ne]&&q[S]<=q[F]}function I(g,S,F){for(var q=g.heap[F],z=F<<1;z<=g.heap_len&&(z<g.heap_len&&B(S,g.heap[z+1],g.heap[z],g.depth)&&z++,!B(S,q,g.heap[z],g.depth));)g.heap[F]=g.heap[z],F=z,z<<=1;g.heap[F]=q}function L(g,S,F){var q,z,ne,ae,se=0;if(g.last_lit!==0)for(;q=g.pending_buf[g.d_buf+2*se]<<8|g.pending_buf[g.d_buf+2*se+1],z=g.pending_buf[g.l_buf+se],se++,q===0?re(g,z,S):(re(g,(ne=k[z])+f+1,S),(ae=M[ne])!==0&&X(g,z-=V[ne],ae),re(g,ne=D(--q),F),(ae=U[ne])!==0&&X(g,q-=ee[ne],ae)),se<g.last_lit;);re(g,b,S)}function Z(g,S){var F,q,z,ne=S.dyn_tree,ae=S.stat_desc.static_tree,se=S.stat_desc.has_stree,fe=S.stat_desc.elems,pe=-1;for(g.heap_len=0,g.heap_max=v,F=0;F<fe;F++)ne[2*F]!==0?(g.heap[++g.heap_len]=pe=F,g.depth[F]=0):ne[2*F+1]=0;for(;g.heap_len<2;)ne[2*(z=g.heap[++g.heap_len]=pe<2?++pe:0)]=1,g.depth[z]=0,g.opt_len--,se&&(g.static_len-=ae[2*z+1]);for(S.max_code=pe,F=g.heap_len>>1;1<=F;F--)I(g,ne,F);for(z=fe;F=g.heap[1],g.heap[1]=g.heap[g.heap_len--],I(g,ne,1),q=g.heap[1],g.heap[--g.heap_max]=F,g.heap[--g.heap_max]=q,ne[2*z]=ne[2*F]+ne[2*q],g.depth[z]=(g.depth[F]>=g.depth[q]?g.depth[F]:g.depth[q])+1,ne[2*F+1]=ne[2*q+1]=z,g.heap[1]=z++,I(g,ne,1),2<=g.heap_len;);g.heap[--g.heap_max]=g.heap[1],(function(ve,Me){var yt,tt,fr,Oe,ln,li,ct=Me.dyn_tree,wo=Me.max_code,Nd=Me.stat_desc.static_tree,Rd=Me.stat_desc.has_stree,Cd=Me.stat_desc.extra_bits,bo=Me.stat_desc.extra_base,hr=Me.stat_desc.max_length,un=0;for(Oe=0;Oe<=x;Oe++)ve.bl_count[Oe]=0;for(ct[2*ve.heap[ve.heap_max]+1]=0,yt=ve.heap_max+1;yt<v;yt++)hr<(Oe=ct[2*ct[2*(tt=ve.heap[yt])+1]+1]+1)&&(Oe=hr,un++),ct[2*tt+1]=Oe,wo<tt||(ve.bl_count[Oe]++,ln=0,bo<=tt&&(ln=Cd[tt-bo]),li=ct[2*tt],ve.opt_len+=li*(Oe+ln),Rd&&(ve.static_len+=li*(Nd[2*tt+1]+ln)));if(un!==0){do{for(Oe=hr-1;ve.bl_count[Oe]===0;)Oe--;ve.bl_count[Oe]--,ve.bl_count[Oe+1]+=2,ve.bl_count[hr]--,un-=2}while(0<un);for(Oe=hr;Oe!==0;Oe--)for(tt=ve.bl_count[Oe];tt!==0;)wo<(fr=ve.heap[--yt])||(ct[2*fr+1]!==Oe&&(ve.opt_len+=(Oe-ct[2*fr+1])*ct[2*fr],ct[2*fr+1]=Oe),tt--)}})(g,S),O(ne,pe,g.bl_count)}function E(g,S,F){var q,z,ne=-1,ae=S[1],se=0,fe=7,pe=4;for(ae===0&&(fe=138,pe=3),S[2*(F+1)+1]=65535,q=0;q<=F;q++)z=ae,ae=S[2*(q+1)+1],++se<fe&&z===ae||(se<pe?g.bl_tree[2*z]+=se:z!==0?(z!==ne&&g.bl_tree[2*z]++,g.bl_tree[2*w]++):se<=10?g.bl_tree[2*T]++:g.bl_tree[2*P]++,ne=z,pe=(se=0)===ae?(fe=138,3):z===ae?(fe=6,3):(fe=7,4))}function Y(g,S,F){var q,z,ne=-1,ae=S[1],se=0,fe=7,pe=4;for(ae===0&&(fe=138,pe=3),q=0;q<=F;q++)if(z=ae,ae=S[2*(q+1)+1],!(++se<fe&&z===ae)){if(se<pe)for(;re(g,z,g.bl_tree),--se!=0;);else z!==0?(z!==ne&&(re(g,z,g.bl_tree),se--),re(g,w,g.bl_tree),X(g,se-3,2)):se<=10?(re(g,T,g.bl_tree),X(g,se-3,3)):(re(g,P,g.bl_tree),X(g,se-11,7));ne=z,pe=(se=0)===ae?(fe=138,3):z===ae?(fe=6,3):(fe=7,4)}}l(ee);var N=!1;function p(g,S,F,q){X(g,(u<<1)+(q?1:0),3),(function(z,ne,ae,se){W(z),$(z,ae),$(z,~ae),s.arraySet(z.pending_buf,z.window,ne,ae,z.pending),z.pending+=ae})(g,S,F)}i._tr_init=function(g){N||((function(){var S,F,q,z,ne,ae=new Array(x+1);for(z=q=0;z<c-1;z++)for(V[z]=q,S=0;S<1<<M[z];S++)k[q++]=z;for(k[q-1]=z,z=ne=0;z<16;z++)for(ee[z]=ne,S=0;S<1<<U[z];S++)H[ne++]=z;for(ne>>=7;z<h;z++)for(ee[z]=ne<<7,S=0;S<1<<U[z]-7;S++)H[256+ne++]=z;for(F=0;F<=x;F++)ae[F]=0;for(S=0;S<=143;)oe[2*S+1]=8,S++,ae[8]++;for(;S<=255;)oe[2*S+1]=9,S++,ae[9]++;for(;S<=279;)oe[2*S+1]=7,S++,ae[7]++;for(;S<=287;)oe[2*S+1]=8,S++,ae[8]++;for(O(oe,d+1,ae),S=0;S<h;S++)C[2*S+1]=5,C[2*S]=K(S,5);Q=new le(oe,M,f+1,d,x),j=new le(C,U,0,h,x),ie=new le(new Array(0),R,0,y,_)})(),N=!0),g.l_desc=new G(g.dyn_ltree,Q),g.d_desc=new G(g.dyn_dtree,j),g.bl_desc=new G(g.bl_tree,ie),g.bi_buf=0,g.bi_valid=0,A(g)},i._tr_stored_block=p,i._tr_flush_block=function(g,S,F,q){var z,ne,ae=0;0<g.level?(g.strm.data_type===2&&(g.strm.data_type=(function(se){var fe,pe=4093624447;for(fe=0;fe<=31;fe++,pe>>>=1)if(1&pe&&se.dyn_ltree[2*fe]!==0)return a;if(se.dyn_ltree[18]!==0||se.dyn_ltree[20]!==0||se.dyn_ltree[26]!==0)return o;for(fe=32;fe<f;fe++)if(se.dyn_ltree[2*fe]!==0)return o;return a})(g)),Z(g,g.l_desc),Z(g,g.d_desc),ae=(function(se){var fe;for(E(se,se.dyn_ltree,se.l_desc.max_code),E(se,se.dyn_dtree,se.d_desc.max_code),Z(se,se.bl_desc),fe=y-1;3<=fe&&se.bl_tree[2*J[fe]+1]===0;fe--);return se.opt_len+=3*(fe+1)+5+5+4,fe})(g),z=g.opt_len+3+7>>>3,(ne=g.static_len+3+7>>>3)<=z&&(z=ne)):z=ne=F+5,F+4<=z&&S!==-1?p(g,S,F,q):g.strategy===4||ne===z?(X(g,2+(q?1:0),3),L(g,oe,C)):(X(g,4+(q?1:0),3),(function(se,fe,pe,ve){var Me;for(X(se,fe-257,5),X(se,pe-1,5),X(se,ve-4,4),Me=0;Me<ve;Me++)X(se,se.bl_tree[2*J[Me]+1],3);Y(se,se.dyn_ltree,fe-1),Y(se,se.dyn_dtree,pe-1)})(g,g.l_desc.max_code+1,g.d_desc.max_code+1,ae+1),L(g,g.dyn_ltree,g.dyn_dtree)),A(g),q&&W(g)},i._tr_tally=function(g,S,F){return g.pending_buf[g.d_buf+2*g.last_lit]=S>>>8&255,g.pending_buf[g.d_buf+2*g.last_lit+1]=255&S,g.pending_buf[g.l_buf+g.last_lit]=255&F,g.last_lit++,S===0?g.dyn_ltree[2*F]++:(g.matches++,S--,g.dyn_ltree[2*(k[F]+f+1)]++,g.dyn_dtree[2*D(S)]++),g.last_lit===g.lit_bufsize-1},i._tr_align=function(g){X(g,2,3),re(g,b,oe),(function(S){S.bi_valid===16?($(S,S.bi_buf),S.bi_buf=0,S.bi_valid=0):8<=S.bi_valid&&(S.pending_buf[S.pending++]=255&S.bi_buf,S.bi_buf>>=8,S.bi_valid-=8)})(g)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(a,o){if(!a.setImmediate){var l,u,c,f,d=1,h={},y=!1,v=a.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(a);x=x&&x.setTimeout?x:a,l={}.toString.call(a.process)==="[object process]"?function(w){Ce.nextTick(function(){_(w)})}:(function(){if(a.postMessage&&!a.importScripts){var w=!0,T=a.onmessage;return a.onmessage=function(){w=!1},a.postMessage("","*"),a.onmessage=T,w}})()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",b,!1):a.attachEvent("onmessage",b),function(w){a.postMessage(f+w,"*")}):a.MessageChannel?((c=new MessageChannel).port1.onmessage=function(w){_(w.data)},function(w){c.port2.postMessage(w)}):v&&"onreadystatechange"in v.createElement("script")?(u=v.documentElement,function(w){var T=v.createElement("script");T.onreadystatechange=function(){_(w),T.onreadystatechange=null,u.removeChild(T),T=null},u.appendChild(T)}):function(w){setTimeout(_,0,w)},x.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var T=new Array(arguments.length-1),P=0;P<T.length;P++)T[P]=arguments[P+1];var M={callback:w,args:T};return h[d]=M,l(d),d++},x.clearImmediate=m}function m(w){delete h[w]}function _(w){if(y)setTimeout(_,0,w);else{var T=h[w];if(T){y=!0;try{(function(P){var M=P.callback,U=P.args;switch(U.length){case 0:M();break;case 1:M(U[0]);break;case 2:M(U[0],U[1]);break;case 3:M(U[0],U[1],U[2]);break;default:M.apply(o,U)}})(T)}finally{m(w),y=!1}}}}function b(w){w.source===a&&typeof w.data=="string"&&w.data.indexOf(f)===0&&_(+w.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(vy)),vy.exports}function xJ(){if(L2)return yy;L2=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,i){return t[i]}):r}return yy=e,yy}function EJ(){if(F2)return Sa.exports;F2=1;var t=xJ(),e=h1().Stream,r="    ";function n(u,c){typeof c!="object"&&(c={indent:c});var f=c.stream?new e:null,d="",h=!1,y=c.indent?c.indent===!0?r:c.indent:"",v=!0;function x(T){v?Ce.nextTick(T):T()}function m(T,P){if(P!==void 0&&(d+=P),T&&!h&&(f=f||new e,h=!0),T&&h){var M=d;x(function(){f.emit("data",M)}),d=""}}function _(T,P){o(m,a(T,y,y?1:0),P)}function b(){if(f){var T=d;x(function(){f.emit("data",T),f.emit("end"),f.readable=!1,f.emit("close")})}}function w(T){var P=T.encoding||"UTF-8",M={version:"1.0",encoding:P};T.standalone&&(M.standalone=T.standalone),_({"?xml":{_attr:M}}),d=d.replace("/>","?>")}return x(function(){v=!1}),c.declaration&&w(c.declaration),u&&u.forEach?u.forEach(function(T,P){var M;P+1===u.length&&(M=b),_(T,M)}):_(u,b),f?(f.readable=!0,f):d}function i(){var u=Array.prototype.slice.call(arguments),c={_elem:a(u)};return c.push=function(f){if(!this.append)throw new Error("not assigned to a parent!");var d=this,h=this._elem.indent;o(this.append,a(f,h,this._elem.icount+(h?1:0)),function(){d.append(!0)})},c.close=function(f){f!==void 0&&this.push(f),this.end&&this.end()},c}function s(u,c){return new Array(c||0).join(u||"")}function a(u,c,f){f=f||0;var d=s(c,f),h,y=u,v=!1;if(typeof u=="object"){var x=Object.keys(u);if(h=x[0],y=u[h],y&&y._elem)return y._elem.name=h,y._elem.icount=f,y._elem.indent=c,y._elem.indents=d,y._elem.interrupt=y,y._elem}var m=[],_=[],b;function w(T){var P=Object.keys(T);P.forEach(function(M){m.push(l(M,T[M]))})}switch(typeof y){case"object":if(y===null)break;y._attr&&w(y._attr),y._cdata&&_.push(("<![CDATA["+y._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),y.forEach&&(b=!1,_.push(""),y.forEach(function(T){if(typeof T=="object"){var P=Object.keys(T)[0];P=="_attr"?w(T._attr):_.push(a(T,c,f+1))}else _.pop(),b=!0,_.push(t(T))}),b||_.push(""));break;default:_.push(t(y))}return{name:h,interrupt:v,attributes:m,content:_,icount:f,indents:d,indent:c}}function o(u,c,f){if(typeof c!="object")return u(!1,c);var d=c.interrupt?1:c.content.length;function h(){for(;c.content.length;){var v=c.content.shift();if(v!==void 0){if(y(v))return;o(u,v)}}u(!1,(d>1?c.indents:"")+(c.name?"</"+c.name+">":"")+(c.indent&&!f?`
`:"")),f&&f()}function y(v){return v.interrupt?(v.interrupt.append=u,v.interrupt.end=h,v.interrupt=!1,u(!0),!0):!1}if(u(!1,c.indents+(c.name?"<"+c.name:"")+(c.attributes.length?" "+c.attributes.join(" "):"")+(d?c.name?">":"":c.name?"/>":"")+(c.indent&&d>1?`
`:"")),!d)return u(!1,c.indent?`
`:"");y(c)||h()}function l(u,c){return u+'="'+t(c)+'"'}return Sa.exports=n,Sa.exports.element=Sa.exports.Element=i,Sa.exports}var mG,gG,vG,zD,yG,wG,by,Re,Tn,de,bG,Hs,_G,he,_r,be,xr,$e,qr,Lg,Bc,jD,Uc,WD,U2,st,jr,Wr,xn,Bs,Ri,Gc,kG,Ce,Fg,qD,Bg,_a,VD,Hc,KD,GD,Ug,Hg,zg,$D,jg,JD,Wg,XD,qg,YD,Vg,ZD,Kg,QD,Gg,eM,$g,tM,Jg,rM,Xg,nM,Yg,iM,Zg,sM,Qg,oM,ev,aM,tv,lM,rv,uM,nv,cM,iv,fM,sv,hM,ov,dM,av,pM,lv,mM,uv,gM,cv,vM,fv,yM,hv,wM,dv,bM,pv,_M,mv,xM,gv,EM,vv,SM,yv,kM,wv,TM,bv,AM,_v,OM,xv,Ev,NM,Sv,RM,kv,CM,IM,Tv,PM,Av,DM,Ov,MM,Nv,LM,Rv,FM,Cv,BM,Iv,UM,Pv,HM,Dv,zM,jM,Mv,WM,qM,Lv,VM,Fv,KM,Bv,GM,Uv,$M,Hv,JM,zv,XM,jv,YM,Wv,zc,ZM,QM,qv,e2,Vv,t2,Kv,r2,Gv,n2,$v,i2,Jv,s2,Xv,o2,Yv,a2,l2,Zv,u2,Qv,c2,ey,f2,ty,h2,ry,d2,ny,p2,iy,m2,a5,m1,Sy,ky,Ty,$c,Ct,_f,l5,g2,g1,u5,js,En,w$,St,b$,c5,_$,x$,E$,ge,Ta,kn,xa,Di,Ay,_n,Fe,mt,Oy,Jc,ze,Ny,v1,Ry,Cy,Iy,S$,y1,Ca,Ci,Ii,Pi,Mi,An,Py,Dy,My,Ly,Fy,Ws,f5,By,k$,Uy,Hy,zy,jy,Wy,qy,T$,Xc,Aa,h5,Vy,Ky,d5,Gy,On,$y,Yc,jc,Nn,et,sy,je,oy,v2,y2,ay,w2,Oi,zr,b2,ly,_2,uy,x2,cy,E2,fy,S2,hy,k2,T2,dy,A2,py,O2,N2,D$,M$,L$,F$,B$,Kt,xf,U$,H$,z$,j$,v5,R2,Ea,W$,q$,V$,K$,y5,w5,G$,$$,Jy,J$,X$,Y$,Z$,Xy,Yy,Zy,Qy,ew,tw,rw,b5,nw,iw,sw,ow,aw,lw,uw,cw,fw,hw,_5,Q$,eJ,C2,tJ,dw,pw,mw,gw,vw,yw,ww,bw,Zc,Wc,rJ,Qc,_w,xw,Ew,Sw,kw,Tw,ef,x5,E5,Aw,Ow,S5,Nw,Rw,nJ,Cw,iJ,sJ,my,Ia,Iw,tf,Pw,Pa,Dw,Mw,oJ,Lw,Rn,Fw,Bw,Uw,Hw,zw,jw,Ww,qw,er,qc,Vw,Li,Ka,Kw,Gw,Oa,$w,Jw,rf,Xw,qs,Da,Vs,Yw,Zw,Ma,Qw,e0,t0,aJ,Uee,r0,nf,n0,lJ,Us,i0,I2,Na,uJ,sf,s0,o0,a0,l0,u0,cJ,c0,f0,w1,h0,d0,Ni,gy,p0,m0,P2,Ks,g0,v0,y0,of,w0,b0,fJ,Qn,$t,Ga,_0,Fi,x0,E0,k5,af,S0,Sn,k0,T0,A0,T5,O0,lf,N0,R0,C0,Bi,Ms,Ls,uf,I0,P0,D0,hJ,cf,M0,La,L0,F0,B0,Fa,U0,H0,z0,j0,br,W0,Vt,q0,V0,K0,ff,G0,$0,J0,X0,Y0,Vc,dJ,pJ,mJ,Z0,Q0,gJ,eb,tb,rb,nb,D2,Ra,ib,sb,ob,ab,lb,ub,cb,fb,vJ,hb,db,Gt,pb,mb,gb,vb,yb,wb,bb,_b,xb,Eb,hf,Sb,kb,df,Tb,Ab,Ob,Nb,Rb,Cb,Ib,Pb,Db,Mb,pf,Lb,Fb,Bb,mf,Gs,$s,Vr,Ub,Hb,zb,jb,Wb,qb,Vb,Kb,Gb,$b,Jb,Xb,Yb,Ba,Zb,Qb,e1,t1,gf,vf,r1,n1,Ua,yJ,vy,M2,bJ,_J,Sa,yy,L2,F2,SJ,Qe,ka,wy,kJ,TJ,Ha,yf,i1,s1,AJ,B2,A5,O5,Wee,qee,Vee,Kee,Gee,$a=jt(()=>{mG=Object.defineProperty,gG=Object.defineProperties,vG=Object.getOwnPropertyDescriptors,zD=Object.getOwnPropertySymbols,yG=Object.prototype.hasOwnProperty,wG=Object.prototype.propertyIsEnumerable,by=(t,e,r)=>e in t?mG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Re=(t,e)=>{for(var r in e||(e={}))yG.call(e,r)&&by(t,r,e[r]);if(zD)for(var r of zD(e))wG.call(e,r)&&by(t,r,e[r]);return t},Tn=(t,e)=>gG(t,vG(e)),de=(t,e,r)=>by(t,typeof e!="symbol"?e+"":e,r),bG=(t,e,r)=>new Promise((n,i)=>{var s=l=>{try{o(r.next(l))}catch(u){i(u)}},a=l=>{try{o(r.throw(l))}catch(u){i(u)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((r=r.apply(t,e)).next())}),Hs=class{constructor(e){de(this,"rootKey"),this.rootKey=e}},_G=Object.seal({}),he=class extends Hs{constructor(e){super(e),de(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);let n=this.root.map(i=>i instanceof Hs?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:_G}}addChildElement(e){return this.root.push(e),this}},_r=class extends he{prepForXml(e){let r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}},be=class extends Hs{constructor(e){super("_attr"),de(this,"xmlKeys"),this.root=e}prepForXml(e){let r={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){let s=this.xmlKeys&&this.xmlKeys[n]||n;r[s]=i}}),{_attr:r}}},xr=class extends Hs{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>Tn(Re({},n),{[i]:s}),{})}}},$e=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}},qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};Lg={},Bc={exports:{}};Uc={exports:{}};U2={exports:{}},st=U2.exports={};(function(){try{typeof setTimeout=="function"?jr=setTimeout:jr=_y}catch{jr=_y}try{typeof clearTimeout=="function"?Wr=clearTimeout:Wr=xy}catch{Wr=xy}})();xn=[],Bs=!1,Gc=-1;st.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];xn.push(new j2(t,e)),xn.length===1&&!Bs&&H2(z2)};j2.prototype.run=function(){this.fun.apply(null,this.array)};st.title="browser";st.browser=!0;st.env={};st.argv=[];st.version="";st.versions={};st.on=Cn;st.addListener=Cn;st.once=Cn;st.off=Cn;st.removeListener=Cn;st.removeAllListeners=Cn;st.emit=Cn;st.prependListener=Cn;st.prependOnceListener=Cn;st.listeners=function(t){return[]};st.binding=function(t){throw new Error("process.binding is not supported")};st.cwd=function(){return"/"};st.chdir=function(t){throw new Error("process.chdir is not supported")};st.umask=function(){return 0};kG=U2.exports,Ce=xG(kG);Bg={},_a={};Hc={};Ug={},Hg={};xv={exports:{}};Bv={};Wv={},zc={exports:{}};a5=y$(),m1=t=>{switch(t.type){case void 0:case"element":let e=new ky(t.name,t.attributes),r=t.elements||[];for(let n of r){let i=m1(n);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}},Sy=class extends be{},ky=class extends he{static fromXmlString(e){let r=a5.xml2js(e,{compact:!1});return m1(r)}constructor(e,r){super(e),r&&this.root.push(new Sy(r))}push(e){this.root.push(e)}},Ty=class extends he{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}},$c=class extends he{constructor(e,r){super(e),r&&(this.root=r.root)}},Ct=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},_f=t=>{let e=Ct(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},l5=(t,e)=>{let r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},g2=t=>l5(t,1),g1=t=>{let e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},u5=t=>{let e=g1(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},js=t=>{if(t==="auto")return t;let e=t.charAt(0)==="#"?t.substring(1):t;return l5(e,3)},En=t=>typeof t=="string"?g1(t):Ct(t),w$=t=>typeof t=="string"?u5(t):_f(t),St=t=>typeof t=="string"?u5(t):_f(t),b$=t=>{let e=t.substring(0,t.length-1);return`${Number(e)}%`},c5=t=>typeof t=="number"?Ct(t):t.slice(-1)==="%"?b$(t):g1(t),_$=_f,x$=_f,E$=t=>t.toISOString(),ge=class extends he{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new $e({val:r}))}},Ta=class extends he{constructor(e,r){super(e),this.root.push(new $e({val:w$(r)}))}},kn=class extends he{constructor(e,r){super(e),this.root.push(new $e({val:r}))}},xa=(t,e)=>new Fe({name:t,attributes:{value:{key:"w:val",value:e}}}),Di=class extends he{constructor(e,r){super(e),this.root.push(new $e({val:r}))}},Ay=class extends he{constructor(e,r){super(e),this.root.push(new $e({val:r}))}},_n=class extends he{constructor(e,r){super(e),this.root.push(r)}},Fe=class extends he{constructor({name:e,attributes:r,children:n}){super(e),r&&this.root.push(new xr(r)),n&&this.root.push(...n)}},mt={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"},Oy=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{val:"w:val"})}},Jc=class extends he{constructor(e){super("w:jc"),this.root.push(new Oy({val:e}))}},ze=class extends he{constructor(e,{color:r,size:n,space:i,style:s}){super(e),this.root.push(new Ny({style:s,color:r===void 0?void 0:js(r),size:n===void 0?void 0:_$(n),space:i===void 0?void 0:x$(i)}))}},Ny=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}},v1={SINGLE:"single",DASH_DOT_STROKED:"dashDotStroked",DASHED:"dashed",DASH_SMALL_GAP:"dashSmallGap",DOT_DASH:"dotDash",DOT_DOT_DASH:"dotDotDash",DOTTED:"dotted",DOUBLE:"double",DOUBLE_WAVE:"doubleWave",INSET:"inset",NIL:"nil",NONE:"none",OUTSET:"outset",THICK:"thick",THICK_THIN_LARGE_GAP:"thickThinLargeGap",THICK_THIN_MEDIUM_GAP:"thickThinMediumGap",THICK_THIN_SMALL_GAP:"thickThinSmallGap",THIN_THICK_LARGE_GAP:"thinThickLargeGap",THIN_THICK_MEDIUM_GAP:"thinThickMediumGap",THIN_THICK_SMALL_GAP:"thinThickSmallGap",THIN_THICK_THIN_LARGE_GAP:"thinThickThinLargeGap",THIN_THICK_THIN_MEDIUM_GAP:"thinThickThinMediumGap",THIN_THICK_THIN_SMALL_GAP:"thinThickThinSmallGap",THREE_D_EMBOSS:"threeDEmboss",THREE_D_ENGRAVE:"threeDEngrave",TRIPLE:"triple",WAVE:"wave"},Ry=class extends _r{constructor(e){super("w:pBdr"),e.top&&this.root.push(new ze("w:top",e.top)),e.bottom&&this.root.push(new ze("w:bottom",e.bottom)),e.left&&this.root.push(new ze("w:left",e.left)),e.right&&this.root.push(new ze("w:right",e.right))}},Cy=class extends he{constructor(){super("w:pBdr");let e=new ze("w:bottom",{color:"auto",space:1,style:v1.SINGLE,size:6});this.root.push(e)}},Iy=class extends he{constructor({start:e,end:r,left:n,right:i,hanging:s,firstLine:a}){super("w:ind"),this.root.push(new xr({start:{key:"w:start",value:e===void 0?void 0:En(e)},end:{key:"w:end",value:r===void 0?void 0:En(r)},left:{key:"w:left",value:n===void 0?void 0:En(n)},right:{key:"w:right",value:i===void 0?void 0:En(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:St(s)},firstLine:{key:"w:firstLine",value:a===void 0?void 0:St(a)}}))}},S$=class extends he{constructor(){super("w:br")}},y1={BEGIN:"begin",END:"end",SEPARATE:"separate"},Ca=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}},Ci=class extends he{constructor(e){super("w:fldChar"),this.root.push(new Ca({type:y1.BEGIN,dirty:e}))}},Ii=class extends he{constructor(e){super("w:fldChar"),this.root.push(new Ca({type:y1.SEPARATE,dirty:e}))}},Pi=class extends he{constructor(e){super("w:fldChar"),this.root.push(new Ca({type:y1.END,dirty:e}))}},Mi={DEFAULT:"default",PRESERVE:"preserve"},An=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{space:"xml:space"})}},Py=class extends he{constructor(){super("w:instrText"),this.root.push(new An({space:Mi.PRESERVE})),this.root.push("PAGE")}},Dy=class extends he{constructor(){super("w:instrText"),this.root.push(new An({space:Mi.PRESERVE})),this.root.push("NUMPAGES")}},My=class extends he{constructor(){super("w:instrText"),this.root.push(new An({space:Mi.PRESERVE})),this.root.push("SECTIONPAGES")}},Ly=class extends he{constructor(){super("w:instrText"),this.root.push(new An({space:Mi.PRESERVE})),this.root.push("SECTION")}},Fy=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}},Ws=class extends he{constructor({fill:e,color:r,type:n}){super("w:shd"),this.root.push(new Fy({fill:e===void 0?void 0:js(e),color:r===void 0?void 0:js(r),type:n}))}},f5={CLEAR:"clear",DIAGONAL_CROSS:"diagCross",DIAGONAL_STRIPE:"diagStripe",HORIZONTAL_CROSS:"horzCross",HORIZONTAL_STRIPE:"horzStripe",NIL:"nil",PERCENT_5:"pct5",PERCENT_10:"pct10",PERCENT_12:"pct12",PERCENT_15:"pct15",PERCENT_20:"pct20",PERCENT_25:"pct25",PERCENT_30:"pct30",PERCENT_35:"pct35",PERCENT_37:"pct37",PERCENT_40:"pct40",PERCENT_45:"pct45",PERCENT_50:"pct50",PERCENT_55:"pct55",PERCENT_60:"pct60",PERCENT_62:"pct62",PERCENT_65:"pct65",PERCENT_70:"pct70",PERCENT_75:"pct75",PERCENT_80:"pct80",PERCENT_85:"pct85",PERCENT_87:"pct87",PERCENT_90:"pct90",PERCENT_95:"pct95",REVERSE_DIAGONAL_STRIPE:"reverseDiagStripe",SOLID:"solid",THIN_DIAGONAL_CROSS:"thinDiagCross",THIN_DIAGONAL_STRIPE:"thinDiagStripe",THIN_HORIZONTAL_CROSS:"thinHorzCross",THIN_REVERSE_DIAGONAL_STRIPE:"thinReverseDiagStripe",THIN_VERTICAL_STRIPE:"thinVertStripe",VERTICAL_STRIPE:"vertStripe"},By=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}},k$={DOT:"dot"},Uy=class extends he{constructor(e){super("w:em"),this.root.push(new $e({val:e}))}},Hy=class extends Uy{constructor(e=k$.DOT){super(e)}},zy=class extends he{constructor(e){super("w:spacing"),this.root.push(new $e({val:En(e)}))}},jy=class extends he{constructor(e){super("w:color"),this.root.push(new $e({val:js(e)}))}},Wy=class extends he{constructor(e){super("w:highlight"),this.root.push(new $e({val:e}))}},qy=class extends he{constructor(e){super("w:highlightCs"),this.root.push(new $e({val:e}))}},T$=t=>new Fe({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}}),Xc=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}},Aa=class extends he{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){let n=e;this.root.push(new Xc({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{let n=e;this.root.push(new Xc(n))}}},h5=class extends he{constructor(e){super("w:vertAlign"),this.root.push(new $e({val:e}))}},Vy=class extends h5{constructor(){super("superscript")}},Ky=class extends h5{constructor(){super("subscript")}},d5={SINGLE:"single",WORDS:"words",DOUBLE:"double",THICK:"thick",DOTTED:"dotted",DOTTEDHEAVY:"dottedHeavy",DASH:"dash",DASHEDHEAVY:"dashedHeavy",DASHLONG:"dashLong",DASHLONGHEAVY:"dashLongHeavy",DOTDASH:"dotDash",DASHDOTHEAVY:"dashDotHeavy",DOTDOTDASH:"dotDotDash",DASHDOTDOTHEAVY:"dashDotDotHeavy",WAVE:"wave",WAVYHEAVY:"wavyHeavy",WAVYDOUBLE:"wavyDouble",NONE:"none"},Gy=class extends he{constructor(e=d5.SINGLE,r){super("w:u"),this.root.push(new $e({val:e,color:r===void 0?void 0:js(r)}))}},On=class extends _r{constructor(e){var r,n;if(super("w:rPr"),!e)return;e.style&&this.push(new kn("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new Aa(e.font)):"name"in e.font?this.push(new Aa(e.font.name,e.font.hint)):this.push(new Aa(e.font))),e.bold!==void 0&&this.push(new ge("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new ge("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new ge("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new ge("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new ge("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new ge("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new ge("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new ge("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new ge("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new ge("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new ge("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new ge("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new ge("w:vanish",e.vanish)),e.color&&this.push(new jy(e.color)),e.characterSpacing&&this.push(new zy(e.characterSpacing)),e.scale!==void 0&&this.push(new Di("w:w",e.scale)),e.kern&&this.push(new Ta("w:kern",e.kern)),e.position&&this.push(new kn("w:position",e.position)),e.size!==void 0&&this.push(new Ta("w:sz",e.size));let i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new Ta("w:szCs",i)),e.highlight&&this.push(new Wy(e.highlight));let s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new qy(s)),e.underline&&this.push(new Gy(e.underline.type,e.underline.color)),e.effect&&this.push(new kn("w:effect",e.effect)),e.border&&this.push(new ze("w:bdr",e.border)),e.shading&&this.push(new Ws(e.shading)),e.subScript&&this.push(new Ky),e.superScript&&this.push(new Vy),e.rightToLeft!==void 0&&this.push(new ge("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new Hy(e.emphasisMark.type)),e.language&&this.push(T$(e.language)),e.specVanish&&this.push(new ge("w:specVanish",e.vanish)),e.math&&this.push(new ge("w:oMath",e.math)),e.revision&&this.push(new $y(e.revision))}push(e){this.root.push(e)}},$y=class extends he{constructor(e){super("w:rPrChange"),this.root.push(new By({id:e.id,author:e.author,date:e.date})),this.addChildElement(new On(e))}},Yc=class extends he{constructor(e){var r;super("w:t"),typeof e=="string"?(this.root.push(new An({space:Mi.PRESERVE})),this.root.push(e)):(this.root.push(new An({space:(r=e.space)!=null?r:Mi.DEFAULT})),this.root.push(e.text))}},jc={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"},Nn=class extends he{constructor(e){if(super("w:r"),de(this,"properties"),this.properties=new On(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new S$);if(e.children)for(let r of e.children){if(typeof r=="string"){switch(r){case jc.CURRENT:this.root.push(new Ci),this.root.push(new Py),this.root.push(new Ii),this.root.push(new Pi);break;case jc.TOTAL_PAGES:this.root.push(new Ci),this.root.push(new Dy),this.root.push(new Ii),this.root.push(new Pi);break;case jc.TOTAL_PAGES_IN_SECTION:this.root.push(new Ci),this.root.push(new My),this.root.push(new Ii),this.root.push(new Pi);break;case jc.CURRENT_SECTION:this.root.push(new Ci),this.root.push(new Ly),this.root.push(new Ii),this.root.push(new Pi);break;default:this.root.push(new Yc(r));break}continue}this.root.push(r)}else e.text!==void 0&&this.root.push(new Yc(e.text))}},et=class extends Nn{constructor(e){super(typeof e=="string"?{text:e}:e)}},sy={},je={};ay={};Oi={},zr={};dy={};D$=P$(),M$=o1(D$),L$="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",F$=(t,e=21)=>(r=e)=>{let n="",i=r|0;for(;i--;)n+=t[Math.random()*t.length|0];return n},B$=(t=21)=>{let e="",r=t|0;for(;r--;)e+=L$[Math.random()*64|0];return e},Kt=t=>Math.floor(t*72*20),xf=(t=0)=>{let e=t;return()=>++e},U$=()=>xf(),H$=()=>xf(1),z$=()=>xf(),j$=()=>xf(),v5=()=>B$().toLowerCase(),R2=t=>M$.sha1().update(t instanceof ArrayBuffer?new Uint8Array(t):t).digest("hex"),Ea=t=>F$("1234567890abcdef",t)(),W$=()=>`${Ea(8)}-${Ea(4)}-${Ea(4)}-${Ea(4)}-${Ea(12)}`,q$={CHARACTER:"character",COLUMN:"column",INSIDE_MARGIN:"insideMargin",LEFT_MARGIN:"leftMargin",MARGIN:"margin",OUTSIDE_MARGIN:"outsideMargin",PAGE:"page",RIGHT_MARGIN:"rightMargin"},V$={BOTTOM_MARGIN:"bottomMargin",INSIDE_MARGIN:"insideMargin",LINE:"line",MARGIN:"margin",OUTSIDE_MARGIN:"outsideMargin",PAGE:"page",PARAGRAPH:"paragraph",TOP_MARGIN:"topMargin"},K$=()=>new Fe({name:"wp:simplePos",attributes:{x:{key:"x",value:0},y:{key:"y",value:0}}}),y5=t=>new Fe({name:"wp:align",children:[t]}),w5=t=>new Fe({name:"wp:posOffset",children:[t.toString()]}),G$=({relative:t,align:e,offset:r})=>new Fe({name:"wp:positionH",attributes:{relativeFrom:{key:"relativeFrom",value:t??q$.PAGE}},children:[(()=>{if(e)return y5(e);if(r!==void 0)return w5(r);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]}),$$=({relative:t,align:e,offset:r})=>new Fe({name:"wp:positionV",attributes:{relativeFrom:{key:"relativeFrom",value:t??V$.PAGE}},children:[(()=>{if(e)return y5(e);if(r!==void 0)return w5(r);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]}),Jy=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{uri:"uri"})}},J$=t=>new Fe({name:"asvg:svgBlip",attributes:{asvg:{key:"xmlns:asvg",value:"http://schemas.microsoft.com/office/drawing/2016/SVG/main"},embed:{key:"r:embed",value:`rId{${t.fileName}}`}}}),X$=t=>new Fe({name:"a:ext",attributes:{uri:{key:"uri",value:"{96DAC541-7B7A-43D3-8B79-37D633B846F1}"}},children:[J$(t)]}),Y$=t=>new Fe({name:"a:extLst",children:[X$(t)]}),Z$=t=>new Fe({name:"a:blip",attributes:{embed:{key:"r:embed",value:`rId{${t.type==="svg"?t.fallback.fileName:t.fileName}}`},cstate:{key:"cstate",value:"none"}},children:t.type==="svg"?[Y$(t)]:[]}),Xy=class extends he{constructor(){super("a:srcRect")}},Yy=class extends he{constructor(){super("a:fillRect")}},Zy=class extends he{constructor(){super("a:stretch"),this.root.push(new Yy)}},Qy=class extends he{constructor(e){super("pic:blipFill"),this.root.push(Z$(e)),this.root.push(new Xy),this.root.push(new Zy)}},ew=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}},tw=class extends he{constructor(){super("a:picLocks"),this.root.push(new ew({noChangeAspect:1,noChangeArrowheads:1}))}},rw=class extends he{constructor(){super("pic:cNvPicPr"),this.root.push(new tw)}},b5=(t,e)=>new Fe({name:"a:hlinkClick",attributes:Tn(Re({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${t}`}})}),nw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}},iw=class extends he{constructor(){super("pic:cNvPr"),this.root.push(new nw({id:0,name:"",descr:""}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){let n=e.stack[r];if(n instanceof qs){this.root.push(b5(n.linkId,!1));break}}return super.prepForXml(e)}},sw=class extends he{constructor(){super("pic:nvPicPr"),this.root.push(new iw),this.root.push(new rw)}},ow=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{xmlns:"xmlns:pic"})}},aw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{cx:"cx",cy:"cy"})}},lw=class extends he{constructor(e,r){super("a:ext"),de(this,"attributes"),this.attributes=new aw({cx:e,cy:r}),this.root.push(this.attributes)}},uw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{x:"x",y:"y"})}},cw=class extends he{constructor(){super("a:off"),this.root.push(new uw({x:0,y:0}))}},fw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}},hw=class extends he{constructor(e){var r,n;super("a:xfrm"),de(this,"extents"),this.root.push(new fw({flipVertical:(r=e.flip)==null?void 0:r.vertical,flipHorizontal:(n=e.flip)==null?void 0:n.horizontal,rotation:e.rotation})),this.extents=new lw(e.emus.x,e.emus.y),this.root.push(new cw),this.root.push(this.extents)}},_5=()=>new Fe({name:"a:noFill"}),Q$=t=>new Fe({name:"a:srgbClr",attributes:{value:{key:"val",value:t.value}}}),eJ=t=>new Fe({name:"a:schemeClr",attributes:{value:{key:"val",value:t.value}}}),C2=t=>new Fe({name:"a:solidFill",children:[t.type==="rgb"?Q$(t):eJ(t)]}),tJ=t=>new Fe({name:"a:ln",attributes:{width:{key:"w",value:t.width},cap:{key:"cap",value:t.cap},compoundLine:{key:"cmpd",value:t.compoundLine},align:{key:"algn",value:t.align}},children:[t.type==="noFill"?_5():t.solidFillType==="rgb"?C2({type:"rgb",value:t.value}):C2({type:"scheme",value:t.value})]}),dw=class extends he{constructor(){super("a:avLst")}},pw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{prst:"prst"})}},mw=class extends he{constructor(){super("a:prstGeom"),this.root.push(new pw({prst:"rect"})),this.root.push(new dw)}},gw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{bwMode:"bwMode"})}},vw=class extends he{constructor({outline:e,transform:r}){super("pic:spPr"),de(this,"form"),this.root.push(new gw({bwMode:"auto"})),this.form=new hw(r),this.root.push(this.form),this.root.push(new mw),e&&(this.root.push(_5()),this.root.push(tJ(e)))}},yw=class extends he{constructor({mediaData:e,transform:r,outline:n}){super("pic:pic"),this.root.push(new ow({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new sw),this.root.push(new Qy(e)),this.root.push(new vw({transform:r,outline:n}))}},ww=class extends he{constructor({mediaData:e,transform:r,outline:n}){super("a:graphicData"),de(this,"pic"),this.root.push(new Jy({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new yw({mediaData:e,transform:r,outline:n}),this.root.push(this.pic)}},bw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{a:"xmlns:a"})}},Zc=class extends he{constructor({mediaData:e,transform:r,outline:n}){super("a:graphic"),de(this,"data"),this.root.push(new bw({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new ww({mediaData:e,transform:r,outline:n}),this.root.push(this.data)}},Wc={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},rJ={BOTH_SIDES:"bothSides",LEFT:"left",RIGHT:"right",LARGEST:"largest"},Qc=class extends he{constructor(){super("wp:wrapNone")}},_w=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}},xw=class extends he{constructor(e,r={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new _w({wrapText:e.side||rJ.BOTH_SIDES,distT:r.top,distB:r.bottom,distL:r.left,distR:r.right}))}},Ew=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{distT:"distT",distB:"distB"})}},Sw=class extends he{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new Ew({distT:e.top,distB:e.bottom}))}},kw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{distT:"distT",distB:"distB"})}},Tw=class extends he{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new kw({distT:e.top,distB:e.bottom}))}},ef=class extends he{constructor({name:e,description:r,title:n}={name:"",description:"",title:""}){super("wp:docPr"),de(this,"docPropertiesUniqueNumericId",z$());let i={id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e}};r!=null&&(i.description={key:"descr",value:r}),n!=null&&(i.title={key:"title",value:n}),this.root.push(new xr(i))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){let n=e.stack[r];if(n instanceof qs){this.root.push(b5(n.linkId,!0));break}}return super.prepForXml(e)}},x5=({top:t,right:e,bottom:r,left:n})=>new Fe({name:"wp:effectExtent",attributes:{top:{key:"t",value:t},right:{key:"r",value:e},bottom:{key:"b",value:r},left:{key:"l",value:n}}}),E5=({x:t,y:e})=>new Fe({name:"wp:extent",attributes:{x:{key:"cx",value:t},y:{key:"cy",value:e}}}),Aw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}},Ow=class extends he{constructor(){super("a:graphicFrameLocks"),this.root.push(new Aw({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}},S5=()=>new Fe({name:"wp:cNvGraphicFramePr",children:[new Ow]}),Nw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}},Rw=class extends he{constructor({mediaData:e,transform:r,drawingOptions:n}){super("wp:anchor");let i=Re({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},n.floating);if(this.root.push(new Nw({distT:i.margins&&i.margins.top||0,distB:i.margins&&i.margins.bottom||0,distL:i.margins&&i.margins.left||0,distR:i.margins&&i.margins.right||0,simplePos:"0",allowOverlap:i.allowOverlap===!0?"1":"0",behindDoc:i.behindDocument===!0?"1":"0",locked:i.lockAnchor===!0?"1":"0",layoutInCell:i.layoutInCell===!0?"1":"0",relativeHeight:i.zIndex?i.zIndex:r.emus.y})),this.root.push(K$()),this.root.push(G$(i.horizontalPosition)),this.root.push($$(i.verticalPosition)),this.root.push(E5({x:r.emus.x,y:r.emus.y})),this.root.push(x5({top:0,right:0,bottom:0,left:0})),n.floating!==void 0&&n.floating.wrap!==void 0)switch(n.floating.wrap.type){case Wc.SQUARE:this.root.push(new xw(n.floating.wrap,n.floating.margins));break;case Wc.TIGHT:this.root.push(new Sw(n.floating.margins));break;case Wc.TOP_AND_BOTTOM:this.root.push(new Tw(n.floating.margins));break;case Wc.NONE:default:this.root.push(new Qc)}else this.root.push(new Qc);this.root.push(new ef(n.docProperties)),this.root.push(S5()),this.root.push(new Zc({mediaData:e,transform:r,outline:n.outline}))}},nJ=({mediaData:t,transform:e,docProperties:r,outline:n})=>{var i,s,a,o;return new Fe({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[E5({x:e.emus.x,y:e.emus.y}),x5(n?{top:((i=n.width)!=null?i:9525)*2,right:((s=n.width)!=null?s:9525)*2,bottom:((a=n.width)!=null?a:9525)*2,left:((o=n.width)!=null?o:9525)*2}:{top:0,right:0,bottom:0,left:0}),new ef(r),S5(),new Zc({mediaData:t,transform:e,outline:n})]})},Cw=class extends he{constructor(e,r={}){super("w:drawing"),r.floating?this.root.push(new Rw({mediaData:e,transform:e.transformation,drawingOptions:r})):this.root.push(nJ({mediaData:e,transform:e.transformation,docProperties:r.docProperties,outline:r.outline}))}},iJ=t=>{if(typeof atob=="function"){let e=";base64,",r=t.indexOf(e),n=r===-1?0:r+e.length;return new Uint8Array(atob(t.substring(n)).split("").map(i=>i.charCodeAt(0)))}else{let e=require("buffer");return new e.Buffer(t,"base64")}},sJ=t=>typeof t=="string"?iJ(t):t,my=(t,e)=>({data:sJ(t.data),fileName:e,transformation:{pixels:{x:Math.round(t.transformation.width),y:Math.round(t.transformation.height)},emus:{x:Math.round(t.transformation.width*9525),y:Math.round(t.transformation.height*9525)},flip:t.transformation.flip,rotation:t.transformation.rotation?t.transformation.rotation*6e4:void 0}}),Ia=class extends Nn{constructor(e){super({}),de(this,"imageData");let n=`${R2(e.data)}.${e.type}`;this.imageData=e.type==="svg"?Tn(Re({type:e.type},my(e,n)),{fallback:Re({type:e.fallback.type},my(Tn(Re({},e.fallback),{transformation:e.transformation}),`${R2(e.fallback.data)}.${e.fallback.type}`))}):Re({type:e.type},my(e,n));let i=new Cw(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(i)}prepForXml(e){return e.file.Media.addImage(this.imageData.fileName,this.imageData),this.imageData.type==="svg"&&e.file.Media.addImage(this.imageData.fallback.fileName,this.imageData.fallback),super.prepForXml(e)}},Iw=class extends he{constructor(e){super("w:instrText"),this.root.push(new An({space:Mi.PRESERVE})),this.root.push(`SEQ ${e}`)}},tf=class extends Nn{constructor(e){super({}),this.root.push(new Ci(!0)),this.root.push(new Iw(e)),this.root.push(new Ii),this.root.push(new Pi)}},Pw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{instr:"w:instr"})}},Pa=class extends he{constructor(e,r){super("w:fldSimple"),this.root.push(new Pw({instr:e})),r!==void 0&&this.root.push(new et(r))}},Dw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{xmlns:"xmlns"})}},Mw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}},oJ={EXTERNAL:"External"},Lw=class extends he{constructor(e,r,n,i){super("Relationship"),this.root.push(new Mw({id:e,type:r,target:n,targetMode:i}))}},Rn=class extends he{constructor(){super("Relationships"),this.root.push(new Dw({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,n,i){let s=new Lw(`rId${e}`,r,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}},Fw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}},Bw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}},Uw=class extends he{constructor({id:e,initials:r,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new Fw({id:e,initials:r,author:n,date:i.toISOString()}));for(let a of s)this.root.push(a)}},Hw=class extends he{constructor({children:e}){super("w:comments"),de(this,"relationships"),this.root.push(new Bw({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(let r of e)this.root.push(new Uw(r));this.relationships=new Rn}get Relationships(){return this.relationships}},zw=class extends he{constructor(){super("w:pageBreakBefore")}},jw={AT_LEAST:"atLeast",EXACTLY:"exactly",EXACT:"exact",AUTO:"auto"},Ww=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}},qw=class extends he{constructor(e){super("w:spacing"),this.root.push(new Ww(e))}},er={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6",TITLE:"Title"},qc=class extends he{constructor(e){super("w:pStyle"),this.root.push(new $e({val:e}))}},Vw=class extends he{constructor(e){super("w:tabs");for(let r of e)this.root.push(new Gw(r))}},Li={LEFT:"left",RIGHT:"right",CENTER:"center",BAR:"bar",CLEAR:"clear",DECIMAL:"decimal",END:"end",NUM:"num",START:"start"},Ka={MAX:9026},Kw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}},Gw=class extends he{constructor({type:e,position:r,leader:n}){super("w:tab"),this.root.push(new Kw({val:e,pos:r,leader:n}))}},Oa=class extends he{constructor(e,r){super("w:numPr"),this.root.push(new $w(r)),this.root.push(new Jw(e))}},$w=class extends he{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new $e({val:e}))}},Jw=class extends he{constructor(e){super("w:numId"),this.root.push(new $e({val:typeof e=="string"?`{${e}}`:e}))}},rf=class extends he{constructor(){super(...arguments),de(this,"fileChild",Symbol())}},Xw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}},qs=class extends he{constructor(e,r,n){super("w:hyperlink"),de(this,"linkId"),this.linkId=r;let i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new Xw(i);this.root.push(s),e.forEach(a=>{this.root.push(a)})}},Da=class extends qs{constructor(e){super(e.children,v5(),e.anchor)}},Vs=class extends he{constructor(e){super("w:externalHyperlink"),this.options=e}},Yw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{id:"w:id",name:"w:name"})}},Zw=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{id:"w:id"})}},Ma=class{constructor(e){de(this,"bookmarkUniqueNumericId",j$()),de(this,"start"),de(this,"children"),de(this,"end");let r=this.bookmarkUniqueNumericId();this.start=new Qw(e.id,r),this.children=e.children,this.end=new e0(r)}},Qw=class extends he{constructor(e,r){super("w:bookmarkStart");let n=new Yw({name:e,id:r});this.root.push(n)}},e0=class extends he{constructor(e){super("w:bookmarkEnd");let r=new Zw({id:e});this.root.push(r)}},t0=class extends he{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new $e({val:e}))}},aJ={TOP:"top",CENTER:"center",BOTTOM:"bottom"},Uee=Tn(Re({},aJ),{BOTH:"both"}),r0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{verticalAlign:"w:val"})}},nf=class extends he{constructor(e){super("w:vAlign"),this.root.push(new r0({verticalAlign:e}))}},n0=class extends he{constructor({space:e,count:r,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new xr({space:{key:"w:space",value:e===void 0?void 0:St(e)},count:{key:"w:num",value:r===void 0?void 0:Ct(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(a=>this.addChildElement(a))}},lJ=({type:t,linePitch:e,charSpace:r})=>new Fe({name:"w:docGrid",attributes:{type:{key:"w:type",value:t},linePitch:{key:"w:linePitch",value:Ct(e)},charSpace:{key:"w:charSpace",value:r?Ct(r):void 0}}}),Us={DEFAULT:"default",FIRST:"first",EVEN:"even"},i0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{type:"w:type",id:"r:id"})}},I2={HEADER:"w:headerReference",FOOTER:"w:footerReference"},Na=class extends he{constructor(e,r){super(e),this.root.push(new i0({type:r.type||Us.DEFAULT,id:`rId${r.id}`}))}},uJ=({countBy:t,start:e,restart:r,distance:n})=>new Fe({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:Ct(t)},start:{key:"w:start",value:e===void 0?void 0:Ct(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:St(n)}}}),sf=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}},s0=class extends _r{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new sf({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new sf({})),e.pageBorderTop&&this.root.push(new ze("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new ze("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new ze("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new ze("w:right",e.pageBorderRight))}},o0=class extends he{constructor(e,r,n,i,s,a,o){super("w:pgMar"),this.root.push(new xr({top:{key:"w:top",value:En(e)},right:{key:"w:right",value:St(r)},bottom:{key:"w:bottom",value:En(n)},left:{key:"w:left",value:St(i)},header:{key:"w:header",value:St(s)},footer:{key:"w:footer",value:St(a)},gutter:{key:"w:gutter",value:St(o)}}))}},a0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}},l0=class extends he{constructor({start:e,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new a0({start:e===void 0?void 0:Ct(e),formatType:r,separator:n}))}},u0={PORTRAIT:"portrait",LANDSCAPE:"landscape"},cJ=({width:t,height:e,orientation:r,code:n})=>{let i=St(t),s=St(e);return new Fe({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===u0.LANDSCAPE?s:i},height:{key:"w:h",value:r===u0.LANDSCAPE?i:s},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})},c0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{val:"w:val"})}},f0=class extends he{constructor(e){super("w:textDirection"),this.root.push(new c0({val:e}))}},w1={NEXT_PAGE:"nextPage",NEXT_COLUMN:"nextColumn",CONTINUOUS:"continuous",EVEN_PAGE:"evenPage",ODD_PAGE:"oddPage"},h0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{val:"w:val"})}},d0=class extends he{constructor(e){super("w:type"),this.root.push(new h0({val:e}))}},Ni={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},gy={WIDTH:11906,HEIGHT:16838,ORIENTATION:u0.PORTRAIT},p0=class extends he{constructor({page:{size:{width:e=gy.WIDTH,height:r=gy.HEIGHT,orientation:n=gy.ORIENTATION}={},margin:{top:i=Ni.TOP,right:s=Ni.RIGHT,bottom:a=Ni.BOTTOM,left:o=Ni.LEFT,header:l=Ni.HEADER,footer:u=Ni.FOOTER,gutter:c=Ni.GUTTER}={},pageNumbers:f={},borders:d,textDirection:h}={},grid:{linePitch:y=360,charSpace:v,type:x}={},headerWrapperGroup:m={},footerWrapperGroup:_={},lineNumbers:b,titlePage:w,verticalAlign:T,column:P,type:M}={}){super("w:sectPr"),this.addHeaderFooterGroup(I2.HEADER,m),this.addHeaderFooterGroup(I2.FOOTER,_),M&&this.root.push(new d0(M)),this.root.push(cJ({width:e,height:r,orientation:n})),this.root.push(new o0(i,s,a,o,l,u,c)),d&&this.root.push(new s0(d)),b&&this.root.push(uJ(b)),this.root.push(new l0(f)),P&&this.root.push(new n0(P)),T&&this.root.push(new nf(T)),w!==void 0&&this.root.push(new ge("w:titlePg",w)),h&&this.root.push(new f0(h)),this.root.push(lJ({linePitch:y,charSpace:v,type:x}))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new Na(e,{type:Us.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new Na(e,{type:Us.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new Na(e,{type:Us.EVEN,id:r.even.View.ReferenceId}))}},m0=class extends he{constructor(){super("w:body"),de(this,"sections",[])}addSection(e){let r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new p0(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){let r=new $t({}),n=new Qn({});return n.push(e),r.addChildElement(n),r}},P2={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ks=class extends be{constructor(e,r){super(Re({Ignorable:r},Object.fromEntries(e.map(n=>[n,P2[n]])))),de(this,"xmlKeys",Re({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(P2).map(n=>[n,`xmlns:${n}`]))))}},g0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}},v0=class extends he{constructor(e){super("w:background"),this.root.push(new g0({color:e.color===void 0?void 0:js(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:g2(e.themeShade),themeTint:e.themeTint===void 0?void 0:g2(e.themeTint)}))}},y0=class extends he{constructor(e){super("w:document"),de(this,"body"),this.root.push(new Ks(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new m0,e.background&&this.root.push(new v0(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}},of=class{constructor(e){de(this,"document"),de(this,"relationships"),this.document=new y0(e),this.relationships=new Rn}get View(){return this.document}get Relationships(){return this.relationships}},w0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{val:"w:val"})}},b0=class extends he{constructor(){super("w:wordWrap"),this.root.push(new w0({val:0}))}},fJ=t=>{var e,r;return new Fe({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})},Qn=class extends _r{constructor(e){var r,n;if(super("w:pPr"),de(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new qc(e.heading)),e.bullet&&this.push(new qc("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new qc("ListParagraph"))),e.style&&this.push(new qc(e.style)),e.keepNext!==void 0&&this.push(new ge("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new ge("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new zw),e.frame&&this.push(fJ(e.frame)),e.widowControl!==void 0&&this.push(new ge("w:widowControl",e.widowControl)),e.bullet&&this.push(new Oa(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new Oa(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new Oa(0,0)),e.border&&this.push(new Ry(e.border)),e.thematicBreak&&this.push(new Cy),e.shading&&this.push(new Ws(e.shading)),e.wordWrap&&this.push(new b0),e.overflowPunctuation&&this.push(new ge("w:overflowPunct",e.overflowPunctuation));let i=[...e.rightTabStop!==void 0?[{type:Li.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:Li.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new Vw(i)),e.bidirectional!==void 0&&this.push(new ge("w:bidi",e.bidirectional)),e.spacing&&this.push(new qw(e.spacing)),e.indent&&this.push(new Iy(e.indent)),e.contextualSpacing!==void 0&&this.push(new ge("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new Jc(e.alignment)),e.outlineLevel!==void 0&&this.push(new t0(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new ge("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new ge("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new On(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof of)for(let r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}},$t=class extends rf{constructor(e){if(super("w:p"),de(this,"properties"),typeof e=="string")return this.properties=new Qn({}),this.root.push(this.properties),this.root.push(new et(e)),this;if(this.properties=new Qn(e),this.root.push(this.properties),e.text&&this.root.push(new et(e.text)),e.children)for(let r of e.children){if(r instanceof Ma){this.root.push(r.start);for(let n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(let r of this.root)if(r instanceof Vs){let n=this.root.indexOf(r),i=new qs(r.options.children,v5());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,oJ.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}},Ga=class extends he{constructor(e){super("m:oMath");for(let r of e.children)this.root.push(r)}},_0=class extends he{constructor(e){super("m:t"),this.root.push(e)}},Fi=class extends he{constructor(e){super("m:r"),this.root.push(new _0(e))}},x0=class extends he{constructor(e){super("w:tblGrid");for(let r of e)this.root.push(new E0(r))}},E0=class extends he{constructor(e){super("w:gridCol"),e!==void 0&&this.root.push(new xr({width:{key:"w:w",value:St(e)}}))}},k5={TABLE:"w:tblCellMar",TABLE_CELL:"w:tcMar"},af=class extends _r{constructor(e,{marginUnitType:r=S0.DXA,top:n,left:i,bottom:s,right:a}){super(e),n!==void 0&&this.root.push(new Sn("w:top",{type:r,size:n})),i!==void 0&&this.root.push(new Sn("w:left",{type:r,size:i})),s!==void 0&&this.root.push(new Sn("w:bottom",{type:r,size:s})),a!==void 0&&this.root.push(new Sn("w:right",{type:r,size:a}))}},S0={AUTO:"auto",DXA:"dxa",NIL:"nil",PERCENTAGE:"pct"},Sn=class extends he{constructor(e,{type:r=S0.AUTO,size:n}){super(e);let i=n;r===S0.PERCENTAGE&&typeof n=="number"&&(i=`${n}%`),this.root.push(new xr({type:{key:"w:type",value:r},size:{key:"w:w",value:c5(i)}}))}},k0=class extends _r{constructor(e){super("w:tcBorders"),e.top&&this.root.push(new ze("w:top",e.top)),e.start&&this.root.push(new ze("w:start",e.start)),e.left&&this.root.push(new ze("w:left",e.left)),e.bottom&&this.root.push(new ze("w:bottom",e.bottom)),e.end&&this.root.push(new ze("w:end",e.end)),e.right&&this.root.push(new ze("w:right",e.right))}},T0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{val:"w:val"})}},A0=class extends he{constructor(e){super("w:gridSpan"),this.root.push(new T0({val:Ct(e)}))}},T5={CONTINUE:"continue",RESTART:"restart"},O0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{val:"w:val"})}},lf=class extends he{constructor(e){super("w:vMerge"),this.root.push(new O0({val:e}))}},N0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{val:"w:val"})}},R0=class extends he{constructor(e){super("w:textDirection"),this.root.push(new N0({val:e}))}},C0=class extends _r{constructor(e){super("w:tcPr"),e.width&&this.root.push(new Sn("w:tcW",e.width)),e.columnSpan&&this.root.push(new A0(e.columnSpan)),e.verticalMerge?this.root.push(new lf(e.verticalMerge)):e.rowSpan&&e.rowSpan>1&&this.root.push(new lf(T5.RESTART)),e.borders&&this.root.push(new k0(e.borders)),e.shading&&this.root.push(new Ws(e.shading)),e.margins&&this.root.push(new af(k5.TABLE_CELL,e.margins)),e.textDirection&&this.root.push(new R0(e.textDirection)),e.verticalAlign&&this.root.push(new nf(e.verticalAlign))}},Bi=class extends he{constructor(e){super("w:tc"),this.options=e,this.root.push(new C0(e));for(let r of e.children)this.root.push(r)}prepForXml(e){return this.root[this.root.length-1]instanceof $t||this.root.push(new $t({})),super.prepForXml(e)}},Ms={style:v1.NONE,size:0,color:"auto"},Ls={style:v1.SINGLE,size:4,color:"auto"},uf=class extends he{constructor(e){super("w:tblBorders"),e.top?this.root.push(new ze("w:top",e.top)):this.root.push(new ze("w:top",Ls)),e.left?this.root.push(new ze("w:left",e.left)):this.root.push(new ze("w:left",Ls)),e.bottom?this.root.push(new ze("w:bottom",e.bottom)):this.root.push(new ze("w:bottom",Ls)),e.right?this.root.push(new ze("w:right",e.right)):this.root.push(new ze("w:right",Ls)),e.insideHorizontal?this.root.push(new ze("w:insideH",e.insideHorizontal)):this.root.push(new ze("w:insideH",Ls)),e.insideVertical?this.root.push(new ze("w:insideV",e.insideVertical)):this.root.push(new ze("w:insideV",Ls))}};de(uf,"NONE",{top:Ms,bottom:Ms,left:Ms,right:Ms,insideHorizontal:Ms,insideVertical:Ms});I0=class extends he{constructor({horizontalAnchor:e,verticalAnchor:r,absoluteHorizontalPosition:n,relativeHorizontalPosition:i,absoluteVerticalPosition:s,relativeVerticalPosition:a,bottomFromText:o,topFromText:l,leftFromText:u,rightFromText:c,overlap:f}){super("w:tblpPr"),this.root.push(new xr({leftFromText:{key:"w:leftFromText",value:u===void 0?void 0:St(u)},rightFromText:{key:"w:rightFromText",value:c===void 0?void 0:St(c)},topFromText:{key:"w:topFromText",value:l===void 0?void 0:St(l)},bottomFromText:{key:"w:bottomFromText",value:o===void 0?void 0:St(o)},absoluteHorizontalPosition:{key:"w:tblpX",value:n===void 0?void 0:En(n)},absoluteVerticalPosition:{key:"w:tblpY",value:s===void 0?void 0:En(s)},horizontalAnchor:{key:"w:horzAnchor",value:e===void 0?void 0:e},relativeHorizontalPosition:{key:"w:tblpXSpec",value:i},relativeVerticalPosition:{key:"w:tblpYSpec",value:a},verticalAnchor:{key:"w:vertAnchor",value:r}})),f&&this.root.push(new Ay("w:tblOverlap",f))}},P0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{type:"w:type"})}},D0=class extends he{constructor(e){super("w:tblLayout"),this.root.push(new P0({type:e}))}},hJ={DXA:"dxa"},cf=class extends he{constructor({type:e=hJ.DXA,value:r}){super("w:tblCellSpacing"),this.root.push(new xr({type:{key:"w:type",value:e},value:{key:"w:w",value:c5(r)}}))}},M0=class extends _r{constructor(e){super("w:tblPr"),e.style&&this.root.push(new kn("w:tblStyle",e.style)),e.float&&this.root.push(new I0(e.float)),e.visuallyRightToLeft!==void 0&&this.root.push(new ge("w:bidiVisual",e.visuallyRightToLeft)),e.width&&this.root.push(new Sn("w:tblW",e.width)),e.alignment&&this.root.push(new Jc(e.alignment)),e.indent&&this.root.push(new Sn("w:tblInd",e.indent)),e.borders&&this.root.push(new uf(e.borders)),e.shading&&this.root.push(new Ws(e.shading)),e.layout&&this.root.push(new D0(e.layout)),e.cellMargin&&this.root.push(new af(k5.TABLE,e.cellMargin)),e.cellSpacing&&this.root.push(new cf(e.cellSpacing))}},La=class extends rf{constructor({rows:e,width:r,columnWidths:n=Array(Math.max(...e.map(h=>h.CellCount))).fill(100),margins:i,indent:s,float:a,layout:o,style:l,borders:u,alignment:c,visuallyRightToLeft:f,cellSpacing:d}){super("w:tbl"),this.root.push(new M0({borders:u??{},width:r??{size:100},indent:s,float:a,layout:o,style:l,alignment:c,cellMargin:i,visuallyRightToLeft:f,cellSpacing:d})),this.root.push(new x0(n));for(let h of e)this.root.push(h);e.forEach((h,y)=>{if(y===e.length-1)return;let v=0;h.cells.forEach(x=>{if(x.options.rowSpan&&x.options.rowSpan>1){let m=new Bi({rowSpan:x.options.rowSpan-1,columnSpan:x.options.columnSpan,borders:x.options.borders,children:[],verticalMerge:T5.CONTINUE});e[y+1].addCellToColumnIndex(m,v)}v+=x.options.columnSpan||1})})}},L0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{value:"w:val",rule:"w:hRule"})}},F0=class extends he{constructor(e,r){super("w:trHeight"),this.root.push(new L0({value:St(e),rule:r}))}},B0=class extends _r{constructor(e){super("w:trPr"),e.cantSplit!==void 0&&this.root.push(new ge("w:cantSplit",e.cantSplit)),e.tableHeader!==void 0&&this.root.push(new ge("w:tblHeader",e.tableHeader)),e.height&&this.root.push(new F0(e.height.value,e.height.rule)),e.cellSpacing&&this.root.push(new cf(e.cellSpacing))}},Fa=class extends he{constructor(e){super("w:tr"),this.options=e,this.root.push(new B0(e));for(let r of e.children)this.root.push(r)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(e=>e instanceof Bi)}addCellToIndex(e,r){this.root.splice(r+1,0,e)}addCellToColumnIndex(e,r){let n=this.columnIndexToRootIndex(r,!0);this.addCellToIndex(e,n-1)}rootIndexToColumnIndex(e){if(e<1||e>=this.root.length)throw new Error(`cell 'rootIndex' should between 1 to ${this.root.length-1}`);let r=0;for(let n=1;n<e;n++){let i=this.root[n];r+=i.options.columnSpan||1}return r}columnIndexToRootIndex(e,r=!1){if(e<0)throw new Error("cell 'columnIndex' should not less than zero");let n=0,i=1;for(;n<=e;){if(i>=this.root.length){if(r)return this.root.length;throw new Error(`cell 'columnIndex' should not great than ${n-1}`)}let s=this.root[i];i+=1,n+=s&&s.options.columnSpan||1}return i-1}},U0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}},H0=class extends he{constructor(){super("Properties"),this.root.push(new U0({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}},z0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{xmlns:"xmlns"})}},j0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}},br=class extends he{constructor(e,r){super("Default"),this.root.push(new j0({contentType:e,extension:r}))}},W0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}},Vt=class extends he{constructor(e,r){super("Override"),this.root.push(new W0({contentType:e,partName:r}))}},q0=class extends he{constructor(){super("Types"),this.root.push(new z0({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new br("image/png","png")),this.root.push(new br("image/jpeg","jpeg")),this.root.push(new br("image/jpeg","jpg")),this.root.push(new br("image/bmp","bmp")),this.root.push(new br("image/gif","gif")),this.root.push(new br("image/svg+xml","svg")),this.root.push(new br("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new br("application/xml","xml")),this.root.push(new br("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Vt("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Vt("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Vt("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Vt("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Vt("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Vt("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Vt("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Vt("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Vt("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Vt("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Vt("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Vt("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}},V0=class extends he{constructor(e){super("cp:coreProperties"),this.root.push(new Ks(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new _n("dc:title",e.title)),e.subject&&this.root.push(new _n("dc:subject",e.subject)),e.creator&&this.root.push(new _n("dc:creator",e.creator)),e.keywords&&this.root.push(new _n("cp:keywords",e.keywords)),e.description&&this.root.push(new _n("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new _n("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new _n("cp:revision",String(e.revision))),this.root.push(new ff("dcterms:created")),this.root.push(new ff("dcterms:modified"))}},K0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{type:"xsi:type"})}},ff=class extends he{constructor(e){super(e),this.root.push(new K0({type:"dcterms:W3CDTF"})),this.root.push(E$(new Date))}},G0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}},$0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}},J0=class extends he{constructor(e,r){super("property"),this.root.push(new $0({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new X0(r.value))}},X0=class extends he{constructor(e){super("vt:lpwstr"),this.root.push(e)}},Y0=class extends he{constructor(e){super("Properties"),de(this,"nextId"),de(this,"properties",[]),this.root.push(new G0({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(let r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new J0(this.nextId++,e))}},Vc=({id:t,fontKey:e,subsetted:r},n)=>new Fe({name:n,attributes:Re({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new ge("w:subsetted",r)]:[]]}),dJ=({name:t,altName:e,panose1:r,charset:n,family:i,notTrueType:s,pitch:a,sig:o,embedRegular:l,embedBold:u,embedItalic:c,embedBoldItalic:f})=>new Fe({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[xa("w:altName",e)]:[],...r?[xa("w:panose1",r)]:[],...n?[xa("w:charset",n)]:[],xa("w:family",i),...s?[new ge("w:notTrueType",s)]:[],xa("w:pitch",a),...o?[new Fe({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:o.usb0},usb1:{key:"w:usb1",value:o.usb1},usb2:{key:"w:usb2",value:o.usb2},usb3:{key:"w:usb3",value:o.usb3},csb0:{key:"w:csb0",value:o.csb0},csb1:{key:"w:csb1",value:o.csb1}}})]:[],...l?[Vc(l,"w:embedRegular")]:[],...u?[Vc(u,"w:embedBold")]:[],...c?[Vc(c,"w:embedItalic")]:[],...f?[Vc(f,"w:embedBoldItalic")]:[]]}),pJ=({name:t,index:e,fontKey:r,characterSet:n})=>dJ({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),mJ=t=>new Fe({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>pJ({name:e.name,index:r+1,fontKey:e.fontKey}))}),Z0=class{constructor(e){de(this,"fontTable"),de(this,"relationships"),de(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>Tn(Re({},r),{fontKey:W$()})),this.fontTable=mJ(this.fontOptionsWithKey),this.relationships=new Rn;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}},Q0=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}},gJ=class extends $c{constructor(e,r){super("w:ftr",r),de(this,"refId"),this.refId=e,r||this.root.push(new Q0({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}},eb=class{constructor(e,r,n){de(this,"footer"),de(this,"relationships"),this.media=e,this.footer=new gJ(r,n),this.relationships=new Rn}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}},tb=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{type:"w:type",id:"w:id"})}},rb=class extends he{constructor(){super("w:footnoteRef")}},nb=class extends Nn{constructor(){super({style:"FootnoteReference"}),this.root.push(new rb)}},D2={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"},Ra=class extends he{constructor(e){super("w:footnote"),this.root.push(new tb({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){let n=e.children[r];r===0&&n.addRunToFront(new nb),this.root.push(n)}}},ib=class extends he{constructor(){super("w:continuationSeparator")}},sb=class extends Nn{constructor(){super({}),this.root.push(new ib)}},ob=class extends he{constructor(){super("w:separator")}},ab=class extends Nn{constructor(){super({}),this.root.push(new ob)}},lb=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}},ub=class extends he{constructor(){super("w:footnotes"),this.root.push(new lb({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));let e=new Ra({id:-1,type:D2.SEPERATOR,children:[new $t({spacing:{after:0,line:240,lineRule:jw.AUTO},children:[new ab]})]});this.root.push(e);let r=new Ra({id:0,type:D2.CONTINUATION_SEPERATOR,children:[new $t({spacing:{after:0,line:240,lineRule:jw.AUTO},children:[new sb]})]});this.root.push(r)}createFootNote(e,r){let n=new Ra({id:e,children:r});this.root.push(n)}},cb=class{constructor(){de(this,"footnotess"),de(this,"relationships"),this.footnotess=new ub,this.relationships=new Rn}get View(){return this.footnotess}get Relationships(){return this.relationships}},fb=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}},vJ=class extends $c{constructor(e,r){super("w:hdr",r),de(this,"refId"),this.refId=e,r||this.root.push(new fb({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}},hb=class{constructor(e,r,n){de(this,"header"),de(this,"relationships"),this.media=e,this.header=new vJ(r,n),this.relationships=new Rn}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}},db=class{constructor(){de(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}},Gt={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH__DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULLSTOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PARENTHESES:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW1:"hebrew1",HEBREW2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText",CUSTOM:"custom"},pb=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}},mb=class extends he{constructor(e){super("w:numFmt"),this.root.push(new $e({val:e}))}},gb=class extends he{constructor(e){super("w:lvlText"),this.root.push(new $e({val:e}))}},vb=class extends he{constructor(e){super("w:lvlJc"),this.root.push(new $e({val:e}))}},yb=class extends he{constructor(e){super("w:suff"),this.root.push(new $e({val:e}))}},wb=class extends he{constructor(){super("w:isLgl")}},bb=class extends he{constructor({level:e,format:r,text:n,alignment:i=mt.START,start:s=1,style:a,suffix:o,isLegalNumberingStyle:l}){if(super("w:lvl"),de(this,"paragraphProperties"),de(this,"runProperties"),this.root.push(new Di("w:start",Ct(s))),r&&this.root.push(new mb(r)),o&&this.root.push(new yb(o)),l&&this.root.push(new wb),n&&this.root.push(new gb(n)),this.root.push(new vb(i)),this.paragraphProperties=new Qn(a&&a.paragraph),this.runProperties=new On(a&&a.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new pb({ilvl:Ct(e),tentative:1}))}},_b=class extends bb{},xb=class extends he{constructor(e){super("w:multiLevelType"),this.root.push(new $e({val:e}))}},Eb=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}},hf=class extends he{constructor(e,r){super("w:abstractNum"),de(this,"id"),this.root.push(new Eb({abstractNumId:Ct(e),restartNumberingAfterBreak:0})),this.root.push(new xb("hybridMultilevel")),this.id=e;for(let n of r)this.root.push(new _b(n))}},Sb=class extends he{constructor(e){super("w:abstractNumId"),this.root.push(new $e({val:e}))}},kb=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{numId:"w:numId"})}},df=class extends he{constructor(e){if(super("w:num"),de(this,"numId"),de(this,"reference"),de(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new kb({numId:Ct(e.numId)})),this.root.push(new Sb(Ct(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(let r of e.overrideLevels)this.root.push(new Ab(r.num,r.start))}},Tb=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{ilvl:"w:ilvl"})}},Ab=class extends he{constructor(e,r){super("w:lvlOverride"),this.root.push(new Tb({ilvl:e})),r!==void 0&&this.root.push(new Nb(r))}},Ob=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{val:"w:val"})}},Nb=class extends he{constructor(e){super("w:startOverride"),this.root.push(new Ob({val:e}))}},Rb=class extends he{constructor(e){super("w:numbering"),de(this,"abstractNumberingMap",new Map),de(this,"concreteNumberingMap",new Map),de(this,"referenceConfigMap",new Map),de(this,"abstractNumUniqueNumericId",U$()),de(this,"concreteNumUniqueNumericId",H$()),this.root.push(new Ks(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));let r=new hf(this.abstractNumUniqueNumericId(),[{level:0,format:Gt.BULLET,text:"\u25CF",alignment:mt.LEFT,style:{paragraph:{indent:{left:Kt(.5),hanging:Kt(.25)}}}},{level:1,format:Gt.BULLET,text:"\u25CB",alignment:mt.LEFT,style:{paragraph:{indent:{left:Kt(1),hanging:Kt(.25)}}}},{level:2,format:Gt.BULLET,text:"\u25A0",alignment:mt.LEFT,style:{paragraph:{indent:{left:2160,hanging:Kt(.25)}}}},{level:3,format:Gt.BULLET,text:"\u25CF",alignment:mt.LEFT,style:{paragraph:{indent:{left:2880,hanging:Kt(.25)}}}},{level:4,format:Gt.BULLET,text:"\u25CB",alignment:mt.LEFT,style:{paragraph:{indent:{left:3600,hanging:Kt(.25)}}}},{level:5,format:Gt.BULLET,text:"\u25A0",alignment:mt.LEFT,style:{paragraph:{indent:{left:4320,hanging:Kt(.25)}}}},{level:6,format:Gt.BULLET,text:"\u25CF",alignment:mt.LEFT,style:{paragraph:{indent:{left:5040,hanging:Kt(.25)}}}},{level:7,format:Gt.BULLET,text:"\u25CF",alignment:mt.LEFT,style:{paragraph:{indent:{left:5760,hanging:Kt(.25)}}}},{level:8,format:Gt.BULLET,text:"\u25CF",alignment:mt.LEFT,style:{paragraph:{indent:{left:6480,hanging:Kt(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new df({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(let n of e.config)this.abstractNumberingMap.set(n.reference,new hf(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(let r of this.abstractNumberingMap.values())this.root.push(r);for(let r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){let n=this.abstractNumberingMap.get(e);if(!n)return;let i=`${e}-${r}`;if(this.concreteNumberingMap.has(i))return;let s=this.referenceConfigMap.get(e),a=s&&s[0].start,o={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:r,overrideLevels:[a&&Number.isInteger(a)?{num:0,start:a}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new df(o))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}},Cb=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}},Ib=class extends he{constructor(e){super("w:compatSetting"),this.root.push(new Cb({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}},Pb=class extends he{constructor(e){super("w:compat"),e.version&&this.root.push(new Ib(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new ge("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new ge("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new ge("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new ge("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new ge("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new ge("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new ge("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new ge("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new ge("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new ge("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new ge("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new ge("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new ge("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new ge("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new ge("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new ge("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new ge("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new ge("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new ge("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new ge("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new ge("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new ge("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new ge("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new ge("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new ge("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new ge("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new ge("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new ge("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new ge("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new ge("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new ge("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new ge("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new ge("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new ge("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new ge("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new ge("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new ge("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new ge("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new ge("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new ge("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new ge("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new ge("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new ge("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new ge("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new ge("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new ge("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new ge("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new ge("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new ge("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new ge("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new ge("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new ge("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new ge("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new ge("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new ge("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new ge("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new ge("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new ge("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new ge("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new ge("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new ge("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new ge("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new ge("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new ge("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new ge("w:cachedColBalance",e.cachedColumnBalance))}},Db=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}},Mb=class extends he{constructor(e){var r,n,i,s,a,o,l,u;super("w:settings"),this.root.push(new Db({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new ge("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new ge("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new ge("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new ge("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Di("w:defaultTabStop",e.defaultTabStop)),((r=e.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new ge("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new Di("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new Di("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new ge("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new Pb(Tn(Re({},(a=e.compatibility)!=null?a:{}),{version:(u=(l=(o=e.compatibility)==null?void 0:o.version)!=null?l:e.compatibilityModeVersion)!=null?u:15})))}},pf=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{val:"w:val"})}},Lb=class extends he{constructor(e){super("w:name"),this.root.push(new pf({val:e}))}},Fb=class extends he{constructor(e){super("w:uiPriority"),this.root.push(new pf({val:Ct(e)}))}},Bb=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}},mf=class extends he{constructor(e,r){super("w:style"),this.root.push(new Bb(e)),r.name&&this.root.push(new Lb(r.name)),r.basedOn&&this.root.push(new kn("w:basedOn",r.basedOn)),r.next&&this.root.push(new kn("w:next",r.next)),r.link&&this.root.push(new kn("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new Fb(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new ge("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new ge("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new ge("w:qFormat",r.quickFormat))}},Gs=class extends mf{constructor(e){super({type:"paragraph",styleId:e.id},e),de(this,"paragraphProperties"),de(this,"runProperties"),this.paragraphProperties=new Qn(e.paragraph),this.runProperties=new On(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}},$s=class extends mf{constructor(e){super({type:"character",styleId:e.id},Re({uiPriority:99,unhideWhenUsed:!0},e)),de(this,"runProperties"),this.runProperties=new On(e.run),this.root.push(this.runProperties)}},Vr=class extends Gs{constructor(e){super(Re({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}},Ub=class extends Vr{constructor(e){super(Re({id:"Title",name:"Title"},e))}},Hb=class extends Vr{constructor(e){super(Re({id:"Heading1",name:"Heading 1"},e))}},zb=class extends Vr{constructor(e){super(Re({id:"Heading2",name:"Heading 2"},e))}},jb=class extends Vr{constructor(e){super(Re({id:"Heading3",name:"Heading 3"},e))}},Wb=class extends Vr{constructor(e){super(Re({id:"Heading4",name:"Heading 4"},e))}},qb=class extends Vr{constructor(e){super(Re({id:"Heading5",name:"Heading 5"},e))}},Vb=class extends Vr{constructor(e){super(Re({id:"Heading6",name:"Heading 6"},e))}},Kb=class extends Vr{constructor(e){super(Re({id:"Strong",name:"Strong"},e))}},Gb=class extends Gs{constructor(e){super(Re({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}},$b=class extends Gs{constructor(e){super(Re({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:jw.AUTO}},run:{size:20}},e))}},Jb=class extends $s{constructor(e){super(Re({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}},Xb=class extends $s{constructor(e){super(Re({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}},Yb=class extends $s{constructor(e){super(Re({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:d5.SINGLE}}},e))}},Ba=class extends he{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(let r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(let r of e.paragraphStyles)this.root.push(new Gs(r));if(e.characterStyles)for(let r of e.characterStyles)this.root.push(new $s(r))}},Zb=class extends he{constructor(e){super("w:pPrDefault"),this.root.push(new Qn(e))}},Qb=class extends he{constructor(e){super("w:rPrDefault"),this.root.push(new On(e))}},e1=class extends he{constructor(e){super("w:docDefaults"),de(this,"runPropertiesDefaults"),de(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new Qb(e.run),this.paragraphPropertiesDefaults=new Zb(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}},t1=class{newInstance(e){let r=a5.xml2js(e,{compact:!1}),n;for(let a of r.elements||[])a.name==="w:styles"&&(n=a);if(n===void 0)throw new Error("can not find styles element");let i=n.elements||[];return new Ba({initialStyles:new Ty(n.attributes),importedStyles:i.map(a=>m1(a))})}},gf=class{newInstance(e={}){var r;return{initialStyles:new Ks(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new e1((r=e.document)!=null?r:{}),new Ub(Re({run:{size:56}},e.title)),new Hb(Re({run:{color:"2E74B5",size:32}},e.heading1)),new zb(Re({run:{color:"2E74B5",size:26}},e.heading2)),new jb(Re({run:{color:"1F4D78",size:24}},e.heading3)),new Wb(Re({run:{color:"2E74B5",italics:!0}},e.heading4)),new qb(Re({run:{color:"2E74B5"}},e.heading5)),new Vb(Re({run:{color:"1F4D78"}},e.heading6)),new Kb(Re({run:{bold:!0}},e.strong)),new Gb(e.listParagraph||{}),new Yb(e.hyperlink||{}),new Jb(e.footnoteReference||{}),new $b(e.footnoteText||{}),new Xb(e.footnoteTextChar||{})]}}},vf=class{constructor(e){de(this,"currentRelationshipId",1),de(this,"documentWrapper"),de(this,"headers",[]),de(this,"footers",[]),de(this,"coreProperties"),de(this,"numbering"),de(this,"media"),de(this,"fileRelationships"),de(this,"footnotesWrapper"),de(this,"settings"),de(this,"contentTypes"),de(this,"customProperties"),de(this,"appProperties"),de(this,"styles"),de(this,"comments"),de(this,"fontWrapper");var r,n,i,s,a,o,l,u,c,f,d,h;if(this.coreProperties=new V0(Tn(Re({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new Rb(e.numbering?e.numbering:{config:[]}),this.comments=new Hw((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new Rn,this.customProperties=new Y0((a=e.customProperties)!=null?a:[]),this.appProperties=new H0,this.footnotesWrapper=new cb,this.contentTypes=new q0,this.documentWrapper=new of({background:e.background}),this.settings=new Mb({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(o=e.features)==null?void 0:o.trackRevisions,updateFields:(l=e.features)==null?void 0:l.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(u=e.hyphenation)==null?void 0:u.autoHyphenation,hyphenationZone:(c=e.hyphenation)==null?void 0:c.hyphenationZone,consecutiveHyphenLimit:(f=e.hyphenation)==null?void 0:f.consecutiveHyphenLimit,doNotHyphenateCaps:(d=e.hyphenation)==null?void 0:d.doNotHyphenateCaps}}),this.media=new db,e.externalStyles!==void 0){let y=new t1;this.styles=y.newInstance(e.externalStyles)}else if(e.styles){let v=new gf().newInstance(e.styles.default);this.styles=new Ba(Re(Re({},v),e.styles))}else{let y=new gf;this.styles=new Ba(y.newInstance())}this.addDefaultRelationships();for(let y of e.sections)this.addSection(y);if(e.footnotes)for(let y in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(y),e.footnotes[y].children);this.fontWrapper=new Z0((h=e.fonts)!=null?h:[])}addSection({headers:e={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(Tn(Re({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(let s of n)this.documentWrapper.View.add(s)}createHeader(e){let r=new hb(this.media,this.currentRelationshipId++);for(let n of e.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(e){let r=new eb(this.media,this.currentRelationshipId++);for(let n of e.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=Us.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=Us.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}},r1=class extends be{constructor(){super(...arguments),de(this,"xmlKeys",{id:"w:id"})}},n1=class extends he{constructor(e){super("w:footnoteReference"),this.root.push(new r1({id:e}))}},Ua=class extends Nn{constructor(e){super({style:"FootnoteReference"}),this.root.push(new n1(e))}},yJ=h1();vy={exports:{}};bJ=wJ(),_J=o1(bJ),Sa={exports:{}};SJ=EJ(),Qe=o1(SJ),ka=0,wy=32,kJ=32,TJ=(t,e)=>{let r=e.replace(/-/g,"");if(r.length!==kJ)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);let i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(l=>parseInt(l,16));i.reverse();let a=t.slice(ka,wy).map((l,u)=>l^i[u%i.length]),o=new Uint8Array(ka+a.length+Math.max(0,t.length-wy));return o.set(t.slice(0,ka)),o.set(a,ka),o.set(t.slice(wy),ka+a.length),o},Ha=class{format(e,r={stack:[]}){let n=e.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}},yf=class{replace(e,r,n){let i=e;return r.forEach((s,a)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+a).toString())}),i}getMediaData(e,r){return r.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}},i1=class{replace(e,r){let n=e;for(let i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}},s1=class{constructor(){de(this,"formatter"),de(this,"imageReplacer"),de(this,"numberingReplacer"),this.formatter=new Ha,this.imageReplacer=new yf,this.numberingReplacer=new i1}compile(e,r,n=[]){let i=new _J,s=this.xmlifyFile(e,r),a=new Map(Object.entries(s));for(let[,o]of a)if(Array.isArray(o))for(let l of o)i.file(l.path,l.data);else i.file(o.path,o.data);for(let o of n)i.file(o.path,o.data);for(let o of e.Media.Array)o.type!=="svg"?i.file(`word/media/${o.fileName}`,o.data):(i.file(`word/media/${o.fileName}`,o.data),i.file(`word/media/${o.fallback.fileName}`,o.fallback.data));for(let{data:o,name:l,fontKey:u}of e.FontTable.fontOptionsWithKey){let[c]=l.split(".");i.file(`word/fonts/${c}.odttf`,TJ(o,u))}return i}xmlifyFile(e,r){let n=e.Document.Relationships.RelationshipCount+1,i=Qe(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,a=Qe(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(i,e.Media),l=this.imageReplacer.getMediaData(a,e.Media);return{Relationships:{data:(o.forEach((u,c)=>{e.Document.Relationships.createRelationship(n+c,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Qe(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{let u=this.imageReplacer.replace(i,o,n);return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{let u=Qe(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Qe(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Qe(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Qe(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((u,c)=>{let f=Qe(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((h,y)=>{u.Relationships.createRelationship(y,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),{data:Qe(this.formatter.format(u.Relationships,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${c+1}.xml.rels`}}),FooterRelationships:e.Footers.map((u,c)=>{let f=Qe(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((h,y)=>{u.Relationships.createRelationship(y,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),{data:Qe(this.formatter.format(u.Relationships,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${c+1}.xml.rels`}}),Headers:e.Headers.map((u,c)=>{let f=Qe(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),d=this.imageReplacer.getMediaData(f,e.Media),h=this.imageReplacer.replace(f,d,0);return{data:this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering),path:`word/header${c+1}.xml`}}),Footers:e.Footers.map((u,c)=>{let f=Qe(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),d=this.imageReplacer.getMediaData(f,e.Media),h=this.imageReplacer.replace(f,d,0);return{data:this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering),path:`word/footer${c+1}.xml`}}),ContentTypes:{data:Qe(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Qe(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Qe(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Qe(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Qe(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Qe(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{let u=this.imageReplacer.replace(a,l,s);return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(l.forEach((u,c)=>{e.Comments.Relationships.createRelationship(s+c,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),Qe(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Qe(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Qe(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}},AJ={NONE:"",WITH_2_BLANKS:"  ",WITH_4_BLANKS:"    ",WITH_TAB:"	"},B2=t=>t===!0?AJ.WITH_2_BLANKS:t===!1?void 0:t,A5=class Fs{static pack(e,r,n){return bG(this,arguments,function*(i,s,a,o=[]){return this.compiler.compile(i,B2(a),o).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,r,n=[]){return Fs.pack(e,"string",r,n)}static toBuffer(e,r,n=[]){return Fs.pack(e,"nodebuffer",r,n)}static toBase64String(e,r,n=[]){return Fs.pack(e,"base64",r,n)}static toBlob(e,r,n=[]){return Fs.pack(e,"blob",r,n)}static toArrayBuffer(e,r,n=[]){return Fs.pack(e,"arraybuffer",r,n)}static toStream(e,r,n=[]){let i=new yJ.Stream;return this.compiler.compile(e,B2(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(a=>{i.emit("data",a),i.emit("end")}),i}};de(A5,"compiler",new s1);O5=A5,Wee=new Ha,qee=new Ha,Vee=new yf,Kee=new Uint8Array([255,254]),Gee=new Uint8Array([254,255])});function Ui(t,e,r){return t.byteLength>=e+r}function In(t,e,r=!1){if(Ui(t,e,4))return t.getUint32(e,r)}function Hi(t,e,r=!1){if(Ui(t,e,2))return t.getUint16(e,r)}function Ef(t){if(t.length<16||!(t[4]===102&&t[5]===116&&t[6]===121&&t[7]===112))return;let r=new DataView(t.buffer,t.byteOffset,t.byteLength),n=In(r,0);if(n===void 0||n<16||n>t.length)return;let i=[];i.push(String.fromCodePoint(...t.slice(8,12)));for(let s=16;s+4<=n;s+=4)i.push(String.fromCodePoint(...t.slice(s,s+4)));return i}function Sf(t,e){let r=new DataView(t.buffer,t.byteOffset,t.byteLength),n=In(r,e);if(n!==void 0&&!(t.length<n+e||n<8))return{type:String.fromCodePoint(...t.slice(e+4,e+8)),data:t.slice(e+8,e+n),tail:e+n}}function kf(t){let e=[],r=0;for(;r<t.length;){let n=Sf(t,r);if(!n)break;n.type==="meta"&&OJ(n.data,e),r=n.tail}return e}function OJ(t,e){let r=4;for(;r<t.length;){let n=Sf(t,r);if(!n)break;n.type==="iprp"&&NJ(n.data,e),r=n.tail}return e}function NJ(t,e){let r=0;for(;r<t.length;){let n=Sf(t,r);if(!n)break;n.type==="ipco"&&RJ(n.data,e),r=n.tail}}function RJ(t,e){let r=0;for(;r<t.length;){let n=Sf(t,r);if(!n)break;if(n.type==="ispe"){let i=new DataView(n.data.buffer,n.data.byteOffset,n.data.byteLength),s=In(i,4),a=In(i,8);if(s===void 0||a===void 0)return;e.push({width:s,height:a})}r=n.tail}}function Tf(t){let e=t[0];for(let r of t)r.width*r.height>e.width*e.height&&(e=r);return e}var zi=jt(()=>{});function b1(t){if(!CJ(t))return;let e=new DataView(t.buffer),r=IJ(t),n=In(e,r?32:16,!1),i=In(e,r?36:20,!1);if(!(n===void 0||i===void 0))return{width:n,height:i,type:"png"}}var CJ,IJ,N5=jt(()=>{zi();CJ=t=>t[0]===137&&t[1]===80&&t[2]===78&&t[3]===71&&t[4]===13&&t[5]===10&&t[6]===26&&t[7]===10,IJ=t=>t[12]===67&&t[13]===103&&t[14]===66&&t[15]===73});function _1(t){if(!MJ(t))return;let e=new DataView(t.buffer),r=2;for(;Ui(e,r,2);){let n=e.getUint16(r);if(r+=2,n>=PJ&&n<=DJ){let s=Hi(e,r+3,!1),a=Hi(e,r+5,!1);return s===void 0||a===void 0?void 0:{height:s,width:a,type:"jpeg"}}let i=Hi(e,r);if(i===void 0||(r+=i,r>e.byteLength))return}}var PJ,DJ,MJ,R5=jt(()=>{zi();PJ=65472,DJ=65475,MJ=t=>t[0]===255&&t[1]===216&&t[2]===255});function x1(t){if(!LJ(t))return;let e=new DataView(t.buffer),r=Hi(e,6,!0),n=Hi(e,8,!0);if(!(r===void 0||n===void 0))return{width:r,height:n,type:"gif"}}var LJ,C5=jt(()=>{zi();LJ=t=>t[0]===71&&t[1]===73&&t[2]===70&&t[3]===56&&(t[4]===55||t[4]===57)&&t[5]===97});function I5(t,e){let r=t.getUint8(e),n=t.getUint8(e+1);return t.getUint8(e+2)<<16|n<<8|r}function E1(t){if(!FJ(t))return;let e=new DataView(t.buffer),r=16383;if(BJ(t))return Ui(e,28,2)?{width:e.getUint16(26,!0)&r,height:e.getUint16(28,!0)&r,type:"webp"}:void 0;if(UJ(t)){let n=In(e,21,!0);return n===void 0?void 0:{width:(n&r)+1,height:(n>>14&r)+1,type:"webp"}}if(HJ(t))return Ui(e,27,3)?{width:I5(e,24)+1,height:I5(e,27)+1,type:"webp"}:void 0}var FJ,BJ,UJ,HJ,P5=jt(()=>{zi();FJ=t=>t[0]===82&&t[1]===73&&t[2]===70&&t[3]===70&&t[8]===87&&t[9]===69&&t[10]===66&&t[11]===80,BJ=t=>t[12]===86&&t[13]===80&&t[14]===56&&t[15]===32,UJ=t=>t[12]===86&&t[13]===80&&t[14]===56&&t[15]===76,HJ=t=>t[12]===86&&t[13]===80&&t[14]===56&&t[15]===88});function S1(t){if(!jJ(t))return;let e=kf(t);if(e.length!==0)return{...Tf(e),type:"avif"}}var zJ,jJ,D5=jt(()=>{zi();zJ=new Set(["avif","avis","avio"]),jJ=t=>{let e=Ef(t);return e?e.some(r=>zJ.has(r)):!1}});function k1(t){if(!qJ(t))return;let e=kf(t);if(e.length!==0)return{...Tf(e),type:"heic"}}var WJ,qJ,M5=jt(()=>{zi();WJ=new Set(["mif1","msf1","heic","heix","hevc","hevx","heim","heis","hevm","hevs"]),qJ=t=>{let e=Ef(t);return e?e.some(r=>WJ.has(r)):!1}});function T1(t){if(!(t.length<3))return t=new Uint8Array(t),b1(t)??x1(t)??_1(t)??E1(t)??S1(t)??k1(t)}var L5=jt(()=>{N5();R5();C5();P5();D5();M5()});function F5(t){return{alignment:mt.START,style:{paragraph:{indent:{left:Kt(t),hanging:Kt(.18)}}}}}function A1(t,e){return{reference:t,levels:GJ[e]}}var VJ,KJ,GJ,B5=jt(()=>{$a();VJ=Array(3).fill([Gt.DECIMAL,Gt.LOWER_LETTER,Gt.LOWER_ROMAN]).flat().map((t,e)=>Object.assign({level:e,format:t,text:`%${e+1}.`},F5((e+1)/2))),KJ=Array(3).fill(["\u25CF","\u25CB","\u25A0"]).flat().map((t,e)=>Object.assign({level:e,format:Gt.BULLET,text:t},F5((e+1)/2))),GJ={numbered:VJ,bullets:KJ}});function Ja(){return Math.random().toString(36).slice(2,11)}function Xs(t,e){var r;let n=(r=t?.sections)===null||r===void 0?void 0:r.map(s=>({properties:s.config.properties||{type:w1.CONTINUOUS},headers:s.config.headers,footers:s.config.footers,children:s.children}));return n||(n=[{headers:void 0,footers:void 0,properties:{type:w1.CONTINUOUS},children:t?.children||[]}]),new vf(Object.assign({footnotes:t.footnotes,numbering:{config:t.numbering},sections:n},e||{}))}function U5(t){return Xs({numbering:t.numbering,sections:[{config:{},children:t.children}],footnotes:t.footnotes})}function H5(t,e){return $J(this,void 0,void 0,function*(){let r=yield O5.toBuffer(t);return yield e?.(r),r})}function Xa(t){let e="";return t.forEach(r=>{r.isText&&(e+=r.text)}),e}var $J,Af=jt(()=>{$a();$J=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(c){try{u(n.next(c))}catch(f){a(f)}}function l(c){try{u(n.throw(c))}catch(f){a(f)}}function u(c){c.done?s(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}});function Of(t,e,r,n){let i=r?[new et(r)]:[],s=n?[new et(n)]:[];return new Ma({id:t,children:[...i,new tf(e),...s]})}var Gr,ti,Ya,Ys,Za,Zs,O1=jt(()=>{$a();L5();B5();Af();Gr=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(c){try{u(n.next(c))}catch(f){a(f)}}function l(c){try{u(n.throw(c))}catch(f){a(f)}}function u(c){c.done?s(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})},ti=600;Ya=class{constructor(e,r,n){this.currentSectionIndex=0,this.footnotes={},this.current=[],this.maxImageWidth=ti,this.$footnoteCounter=0,this.nodes=e,this.marks=r,this.options=n??{},this.children=[],this.numbering=[],n.sections&&n.sections.length>0?(this.sections=n.sections.map(i=>({config:i,children:[]})),this.children=this.sections[0].children):this.sections=[]}renderContent(e,r){e.forEach((n,i,s)=>{r&&this.addParagraphOptions(r),this.render(n,e,s)})}render(e,r,n){if(typeof r=="number")throw new Error("!");if(!this.nodes[e.type.name])throw new Error(`Token type \`${e.type.name}\` not supported by Word renderer`);this.nodes[e.type.name](this,e,r,n)}renderMarks(e,r){return r.map(n=>{var i,s;return(s=(i=this.marks)[n.type.name])===null||s===void 0?void 0:s.call(i,this,e,n)}).reduce((n,i)=>Object.assign(Object.assign({},n),i),{})}renderInline(e){let r,n=()=>{if(!r)return;let a=new Vs({link:r.link,children:this.current});this.current=[...r.stack,a],r=void 0},i=a=>{let o=a===r?.link;if(this.addRunOptions({style:"Hyperlink"}),!!0)n();else{if(r&&o)return;r&&!o&&n()}r={link:a,stack:this.current},this.current=[]},s=(a,o,l)=>{let u=a.marks.filter(f=>f.type.name==="link"),c=u.length>0;c?i(u[0].attrs.href):!c&&r&&n(),a.isText?this.text(a.text,this.renderMarks(a,[...a.marks])):this.render(a,e,l)};e.forEach(s),n()}renderList(e,r){if(this.currentNumbering){let{reference:n,level:i}=this.currentNumbering;this.currentNumbering={reference:n,level:i+1}}else{let n=Ja();this.numbering.push(A1(n,r)),this.currentNumbering={reference:n,level:0}}if(this.renderContent(e),this.currentNumbering.level===0)delete this.currentNumbering;else{let{reference:n,level:i}=this.currentNumbering;this.currentNumbering={reference:n,level:i-1}}}renderListItem(e){if(!this.currentNumbering)throw new Error("Trying to create a list item without a list?");this.addParagraphOptions({numbering:this.currentNumbering}),this.renderContent(e)}addParagraphOptions(e){this.nextParentParagraphOpts=Object.assign(Object.assign({},this.nextParentParagraphOpts),e)}addRunOptions(e){this.nextRunOpts=Object.assign(Object.assign({},this.nextRunOpts),e)}text(e,r){e&&(this.current.push(new et(Object.assign(Object.assign({text:e},this.nextRunOpts),r))),delete this.nextRunOpts)}math(e,r={inline:!0}){var n;if(r.inline||!r.numbered){this.current.push(new Ga({children:[new Fi(e)]}));return}let i=(n=r.id)!==null&&n!==void 0?n:Ja();this.current=[new et("	"),new Ga({children:[new Fi(e)]}),new et("	("),Of(i,"Equation"),new et(")")],this.addParagraphOptions({tabStops:[{type:Li.CENTER,position:Ka.MAX/2},{type:Li.RIGHT,position:Ka.MAX}]})}image(e,r=70,n="center",i,s){let a=this.options.getImageBuffer(e),o=T1(a);if(!o)return;let l=o.height/o.width,u=this.maxImageWidth*(r/100),c;try{c=s||e.replace(/.*\./,"").toLowerCase()}catch{c="png"}this.current.push(new Ia(Object.assign(Object.assign({data:a},i),{type:c,transformation:Object.assign(Object.assign({},i?.transformation||{}),{width:u,height:u*l})})));let f;switch(n){case"right":f=mt.RIGHT;break;case"left":f=mt.LEFT;break;default:f=mt.CENTER}this.addParagraphOptions({alignment:f})}table(e,r={}){let{getCellOptions:n,getRowOptions:i,tableOptions:s}=r,a=this.children,o=[];e.content.forEach(u=>{let c=[],f=!0;u.content.forEach(d=>{d.type.name!=="table_header"&&(f=!1)}),this.maxImageWidth=ti/u.content.childCount,u.content.forEach(d=>{var h,y;this.children=[],this.renderContent(d);let v={children:this.children},x=(h=d.attrs.colspan)!==null&&h!==void 0?h:1,m=(y=d.attrs.rowspan)!==null&&y!==void 0?y:1;x>1&&(v.columnSpan=x),m>1&&(v.rowSpan=m),c.push(new Bi(Object.assign(Object.assign({},v),n?.(d)||{})))}),o.push(new Fa(Object.assign(Object.assign({},i?.(u)||{}),{children:c,tableHeader:f})))}),this.maxImageWidth=ti;let l=new La(Object.assign(Object.assign({},s),{rows:o}));a.push(l),a.push(new $t("")),this.children=a}captionLabel(e,r,{suffix:n}={suffix:": "}){this.current.push(Of(e,r,`${r} `),new et(n))}footnote(e){let{current:r,nextRunOpts:n}=this;this.current=[],delete this.nextRunOpts,this.$footnoteCounter+=1,this.renderInline(e),this.footnotes[this.$footnoteCounter]={children:[new $t({children:this.current})]},this.current=r,this.nextRunOpts=n,this.current.push(new Ua(this.$footnoteCounter))}closeBlock(e,r){let n=new $t(Object.assign(Object.assign({children:this.current},this.nextParentParagraphOpts),r));this.current=[],delete this.nextParentParagraphOpts,this.children.push(n)}nextSection(){this.currentSectionIndex<this.sections.length-1&&(this.currentSectionIndex+=1,this.children=this.sections[this.currentSectionIndex].children)}setSectionConfig(e){this.sections[this.currentSectionIndex].config=Object.assign(Object.assign({},this.sections[this.currentSectionIndex].config),e)}addSection(e={}){this.sections.push({config:e,children:[]}),this.currentSectionIndex=this.sections.length-1,this.children=this.sections[this.currentSectionIndex].children}getCurrentSectionIndex(){return this.currentSectionIndex}getCurrentSectionConfig(){return this.sections[this.currentSectionIndex].config}getSerializationState(){return{numbering:this.numbering,sections:this.sections,footnotes:this.footnotes}}createReference(e,r,n){let i=[];r&&i.push(new et(r)),i.push(new Pa(`REF ${e} \\h`)),n&&i.push(new et(n));let s=new Da({anchor:e,children:i});this.current.push(s)}},Ys=class{constructor(e,r){this.nodes=e,this.marks=r}serialize(e,r,n){let i=new Ya(this.nodes,this.marks,r);return i.renderContent(e),Xs(i,n?.(i))}},Za=class{constructor(e,r,n){this.currentSectionIndex=0,this.footnotes={},this.current=[],this.maxImageWidth=ti,this.$footnoteCounter=0,this.nodes=e,this.marks=r,this.options=n??{},this.children=[],this.numbering=[],n.sections&&n.sections.length>0?(this.sections=n.sections.map(i=>({config:i,children:[]})),this.children=this.sections[0].children):this.sections=[]}renderContent(e,r){return Gr(this,void 0,void 0,function*(){for(let n=0;n<e.childCount;n+=1){let i=e.child(n);r&&this.addParagraphOptions(r),yield this.render(i,e,n)}})}render(e,r,n){return Gr(this,void 0,void 0,function*(){if(typeof r=="number")throw new Error("!");if(!this.nodes[e.type.name])throw new Error(`Token type \`${e.type.name}\` not supported by Word renderer`);yield Promise.resolve(this.nodes[e.type.name](this,e,r,n))})}renderMarks(e,r){return r.map(n=>{var i,s;return(s=(i=this.marks)[n.type.name])===null||s===void 0?void 0:s.call(i,this,e,n)}).reduce((n,i)=>Object.assign(Object.assign({},n),i),{})}renderInline(e){return Gr(this,void 0,void 0,function*(){let r,n=()=>{if(!r)return;let a=new Vs({link:r.link,children:this.current});this.current=[...r.stack,a],r=void 0},i=a=>{let o=a===r?.link;if(this.addRunOptions({style:"Hyperlink"}),!!0)n();else{if(r&&o)return;r&&!o&&n()}r={link:a,stack:this.current},this.current=[]},s=(a,o,l)=>Gr(this,void 0,void 0,function*(){let u=a.marks.filter(f=>f.type.name==="link"),c=u.length>0;c?i(u[0].attrs.href):!c&&r&&n(),a.isText?this.text(a.text,this.renderMarks(a,[...a.marks])):yield this.render(a,e,l)});for(let a=0;a<e.childCount;a+=1)yield s(e.child(a),0,a);n()})}renderList(e,r){return Gr(this,void 0,void 0,function*(){if(this.currentNumbering){let{reference:n,level:i}=this.currentNumbering;this.currentNumbering={reference:n,level:i+1}}else{let n=Ja();this.numbering.push(A1(n,r)),this.currentNumbering={reference:n,level:0}}if(yield this.renderContent(e),this.currentNumbering.level===0)delete this.currentNumbering;else{let{reference:n,level:i}=this.currentNumbering;this.currentNumbering={reference:n,level:i-1}}})}renderListItem(e){return Gr(this,void 0,void 0,function*(){if(!this.currentNumbering)throw new Error("Trying to create a list item without a list?");this.addParagraphOptions({numbering:this.currentNumbering}),yield this.renderContent(e)})}addParagraphOptions(e){this.nextParentParagraphOpts=Object.assign(Object.assign({},this.nextParentParagraphOpts),e)}addRunOptions(e){this.nextRunOpts=Object.assign(Object.assign({},this.nextRunOpts),e)}text(e,r){e&&(this.current.push(new et(Object.assign(Object.assign({text:e},this.nextRunOpts),r))),delete this.nextRunOpts)}math(e,r={inline:!0}){var n;if(r.inline||!r.numbered){this.current.push(new Ga({children:[new Fi(e)]}));return}let i=(n=r.id)!==null&&n!==void 0?n:Ja();this.current=[new et("	"),new Ga({children:[new Fi(e)]}),new et("	("),Of(i,"Equation"),new et(")")],this.addParagraphOptions({tabStops:[{type:Li.CENTER,position:Ka.MAX/2},{type:Li.RIGHT,position:Ka.MAX}]})}image(e,r=70,n="center",i,s){return Gr(this,void 0,void 0,function*(){let a=yield Promise.resolve(this.options.getImageBuffer(e)),o=T1(a);if(!o)return;let l=o.height/o.width,u=this.maxImageWidth*(r/100),c;try{c=s||e.replace(/.*\./,"").toLowerCase()}catch{c="png"}this.current.push(new Ia(Object.assign(Object.assign({data:a},i),{type:c,transformation:Object.assign(Object.assign({},i?.transformation||{}),{width:u,height:u*l})})));let f;switch(n){case"right":f=mt.RIGHT;break;case"left":f=mt.LEFT;break;default:f=mt.CENTER}this.addParagraphOptions({alignment:f})})}table(e,r={}){var n,i;return Gr(this,void 0,void 0,function*(){let{getCellOptions:s,getRowOptions:a,tableOptions:o}=r,l=this.children,u=[];for(let f=0;f<e.content.childCount;f+=1){let d=e.content.child(f),h=[],y=!0;for(let v=0;v<d.content.childCount;v+=1)d.content.child(v).type.name!=="table_header"&&(y=!1);this.maxImageWidth=ti/d.content.childCount;for(let v=0;v<d.content.childCount;v+=1){let x=d.content.child(v);this.children=[],yield this.renderContent(x);let m={children:this.children},_=(n=x.attrs.colspan)!==null&&n!==void 0?n:1,b=(i=x.attrs.rowspan)!==null&&i!==void 0?i:1;_>1&&(m.columnSpan=_),b>1&&(m.rowSpan=b),h.push(new Bi(Object.assign(Object.assign({},m),s?.(x)||{})))}u.push(new Fa(Object.assign(Object.assign({},a?.(d)||{}),{children:h,tableHeader:y})))}this.maxImageWidth=ti;let c=new La(Object.assign(Object.assign({},o),{rows:u}));l.push(c),l.push(new $t("")),this.children=l})}captionLabel(e,r,{suffix:n}={suffix:": "}){this.current.push(Of(e,r,`${r} `),new et(n))}footnote(e){return Gr(this,void 0,void 0,function*(){let{current:r,nextRunOpts:n}=this;this.current=[],delete this.nextRunOpts,this.$footnoteCounter+=1,yield this.renderInline(e),this.footnotes[this.$footnoteCounter]={children:[new $t({children:this.current})]},this.current=r,this.nextRunOpts=n,this.current.push(new Ua(this.$footnoteCounter))})}closeBlock(e,r){let n=new $t(Object.assign(Object.assign({children:this.current},this.nextParentParagraphOpts),r));this.current=[],delete this.nextParentParagraphOpts,this.children.push(n)}nextSection(){this.currentSectionIndex<this.sections.length-1&&(this.currentSectionIndex+=1,this.children=this.sections[this.currentSectionIndex].children)}setSectionConfig(e){this.sections[this.currentSectionIndex].config=Object.assign(Object.assign({},this.sections[this.currentSectionIndex].config),e)}addSection(e={}){this.sections.push({config:e,children:[]}),this.currentSectionIndex=this.sections.length-1,this.children=this.sections[this.currentSectionIndex].children}getCurrentSectionIndex(){return this.currentSectionIndex}getCurrentSectionConfig(){return this.sections[this.currentSectionIndex].config}getSerializationState(){return{numbering:this.numbering,sections:this.sections,footnotes:this.footnotes}}createReference(e,r,n){let i=[];r&&i.push(new et(r)),i.push(new Pa(`REF ${e} \\h`)),n&&i.push(new et(n));let s=new Da({anchor:e,children:i});this.current.push(s)}},Zs=class{constructor(e,r){this.nodes=e,this.marks=r}serializeAsync(e,r,n){return Gr(this,void 0,void 0,function*(){let i=new Za(this.nodes,this.marks,r);return yield i.renderContent(e),Xs(i,n?.(i))})}}});var ji,N1,R1,Nf,z5,j5,W5=jt(()=>{$a();O1();Af();ji=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(c){try{u(n.next(c))}catch(f){a(f)}}function l(c){try{u(n.throw(c))}catch(f){a(f)}}function u(c){c.done?s(c.value):i(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})},N1={text(t,e){var r;t.text((r=e.text)!==null&&r!==void 0?r:"")},paragraph(t,e){t.renderInline(e),t.closeBlock(e)},heading(t,e){t.renderInline(e);let r=[er.HEADING_1,er.HEADING_2,er.HEADING_3,er.HEADING_4,er.HEADING_5,er.HEADING_6][e.attrs.level-1];t.closeBlock(e,{heading:r})},blockquote(t,e){t.renderContent(e,{style:"IntenseQuote"})},code_block(t,e){t.renderContent(e),t.closeBlock(e)},horizontal_rule(t,e){t.closeBlock(e,{thematicBreak:!0}),t.closeBlock(e)},hard_break(t){t.addRunOptions({break:1})},ordered_list(t,e){t.renderList(e,"numbered")},bullet_list(t,e){t.renderList(e,"bullets")},list_item(t,e){t.renderListItem(e)},image(t,e){let{src:r}=e.attrs;t.image(r),t.closeBlock(e)},math(t,e){t.math(Xa(e),{inline:!0})},equation(t,e){let{id:r,numbered:n}=e.attrs;t.math(Xa(e),{inline:!1,numbered:n,id:r}),t.closeBlock(e)},table(t,e){t.table(e)}},R1={text(t,e){var r;t.text((r=e.text)!==null&&r!==void 0?r:"")},paragraph(t,e){return ji(this,void 0,void 0,function*(){yield t.renderInline(e),t.closeBlock(e)})},heading(t,e){return ji(this,void 0,void 0,function*(){yield t.renderInline(e);let r=[er.HEADING_1,er.HEADING_2,er.HEADING_3,er.HEADING_4,er.HEADING_5,er.HEADING_6][e.attrs.level-1];t.closeBlock(e,{heading:r})})},blockquote(t,e){t.renderContent(e,{style:"IntenseQuote"})},code_block(t,e){t.renderContent(e),t.closeBlock(e)},horizontal_rule(t,e){t.closeBlock(e,{thematicBreak:!0}),t.closeBlock(e)},hard_break(t){t.addRunOptions({break:1})},ordered_list(t,e){return ji(this,void 0,void 0,function*(){yield t.renderList(e,"numbered")})},bullet_list(t,e){return ji(this,void 0,void 0,function*(){yield t.renderList(e,"bullets")})},list_item(t,e){return ji(this,void 0,void 0,function*(){yield t.renderListItem(e)})},image(t,e){return ji(this,void 0,void 0,function*(){let{src:r}=e.attrs;yield t.image(r),t.closeBlock(e)})},math(t,e){t.math(Xa(e),{inline:!0})},equation(t,e){let{id:r,numbered:n}=e.attrs;t.math(Xa(e),{inline:!1,numbered:n,id:r}),t.closeBlock(e)},table(t,e){return ji(this,void 0,void 0,function*(){yield t.table(e)})}},Nf={em(){return{italics:!0}},strong(){return{bold:!0}},italic(){return{italics:!0}},bold(){return{bold:!0}},link(){return{}},code(){return{font:{name:"Monospace"},color:"000000",shading:{type:f5.SOLID,color:"D2D3D2",fill:"D2D3D2"}}},abbr(){return{}},subscript(){return{subScript:!0}},superscript(){return{superScript:!0}},strikethrough(){return{strike:!0}},underline(){return{underline:{}}},smallcaps(){return{smallCaps:!0}},allcaps(){return{allCaps:!0}}},z5=new Ys(N1,Nf),j5=new Zs(R1,Nf)});var q5={};y4(q5,{DocxSerializer:()=>Ys,DocxSerializerAsync:()=>Zs,DocxSerializerState:()=>Ya,DocxSerializerStateAsync:()=>Za,MAX_IMAGE_WIDTH:()=>ti,buildDoc:()=>Xs,createDocFromState:()=>U5,defaultAsyncNodes:()=>R1,defaultDocxSerializer:()=>z5,defaultDocxSerializerAsync:()=>j5,defaultMarks:()=>Nf,defaultNodes:()=>N1,writeDocx:()=>H5});var V5=jt(()=>{O1();W5();Af()});var d4=xe(te=>{"use strict";var JJ=Object.defineProperty,XJ=Object.defineProperties,YJ=Object.getOwnPropertyDescriptors,Bf=Object.getOwnPropertySymbols,VL=Object.prototype.hasOwnProperty,KL=Object.prototype.propertyIsEnumerable,gx=(t,e,r)=>e in t?JJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Te=(t,e)=>{for(var r in e||(e={}))VL.call(e,r)&&gx(t,r,e[r]);if(Bf)for(var r of Bf(e))KL.call(e,r)&&gx(t,r,e[r]);return t},It=(t,e)=>XJ(t,YJ(e)),ZJ=(t,e)=>{var r={};for(var n in t)VL.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Bf)for(var n of Bf(t))e.indexOf(n)<0&&KL.call(t,n)&&(r[n]=t[n]);return r},ce=(t,e,r)=>gx(t,typeof e!="symbol"?e+"":e,r),cT=(t,e,r)=>new Promise((n,i)=>{var s=l=>{try{o(r.next(l))}catch(u){i(u)}},a=l=>{try{o(r.throw(l))}catch(u){i(u)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((r=r.apply(t,e)).next())});Object.defineProperty(te,Symbol.toStringTag,{value:"Module"});var Ki=class{constructor(e){ce(this,"rootKey"),this.rootKey=e}},GL=Object.seal({}),ue=class extends Ki{constructor(e){super(e),ce(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);let n=this.root.map(i=>i instanceof Ki?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:GL}}addChildElement(e){return this.root.push(e),this}},cr=class extends ue{prepForXml(e){let r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}},we=class extends Ki{constructor(e){super("_attr"),ce(this,"xmlKeys"),this.root=e}prepForXml(e){let r={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){let s=this.xmlKeys&&this.xmlKeys[n]||n;r[s]=i}}),{_attr:r}}},Xt=class extends Ki{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>It(Te({},n),{[i]:s}),{})}}},Ve=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}},Qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var C1={},Rf={exports:{}},K5;function hT(){if(K5)return Rf.exports;K5=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(T,P,M){return Function.prototype.apply.call(T,P,M)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:r=function(T){return Object.getOwnPropertyNames(T)};function n(w){console&&console.warn&&console.warn(w)}var i=Number.isNaN||function(T){return T!==T};function s(){s.init.call(this)}Rf.exports=s,Rf.exports.once=m,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(w){if(typeof w!="number"||w<0||i(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");a=w}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function l(w){return w._maxListeners===void 0?s.defaultMaxListeners:w._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(T){for(var P=[],M=1;M<arguments.length;M++)P.push(arguments[M]);var U=T==="error",R=this._events;if(R!==void 0)U=U&&R.error===void 0;else if(!U)return!1;if(U){var J;if(P.length>0&&(J=P[0]),J instanceof Error)throw J;var oe=new Error("Unhandled error."+(J?" ("+J.message+")":""));throw oe.context=J,oe}var C=R[T];if(C===void 0)return!1;if(typeof C=="function")e(C,this,P);else for(var H=C.length,k=y(C,H),M=0;M<H;++M)e(k[M],this,P);return!0};function u(w,T,P,M){var U,R,J;if(o(P),R=w._events,R===void 0?(R=w._events=Object.create(null),w._eventsCount=0):(R.newListener!==void 0&&(w.emit("newListener",T,P.listener?P.listener:P),R=w._events),J=R[T]),J===void 0)J=R[T]=P,++w._eventsCount;else if(typeof J=="function"?J=R[T]=M?[P,J]:[J,P]:M?J.unshift(P):J.push(P),U=l(w),U>0&&J.length>U&&!J.warned){J.warned=!0;var oe=new Error("Possible EventEmitter memory leak detected. "+J.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");oe.name="MaxListenersExceededWarning",oe.emitter=w,oe.type=T,oe.count=J.length,n(oe)}return w}s.prototype.addListener=function(T,P){return u(this,T,P,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(T,P){return u(this,T,P,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(w,T,P){var M={fired:!1,wrapFn:void 0,target:w,type:T,listener:P},U=c.bind(M);return U.listener=P,M.wrapFn=U,U}s.prototype.once=function(T,P){return o(P),this.on(T,f(this,T,P)),this},s.prototype.prependOnceListener=function(T,P){return o(P),this.prependListener(T,f(this,T,P)),this},s.prototype.removeListener=function(T,P){var M,U,R,J,oe;if(o(P),U=this._events,U===void 0)return this;if(M=U[T],M===void 0)return this;if(M===P||M.listener===P)--this._eventsCount===0?this._events=Object.create(null):(delete U[T],U.removeListener&&this.emit("removeListener",T,M.listener||P));else if(typeof M!="function"){for(R=-1,J=M.length-1;J>=0;J--)if(M[J]===P||M[J].listener===P){oe=M[J].listener,R=J;break}if(R<0)return this;R===0?M.shift():v(M,R),M.length===1&&(U[T]=M[0]),U.removeListener!==void 0&&this.emit("removeListener",T,oe||P)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(T){var P,M,U;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[T]),this;if(arguments.length===0){var R=Object.keys(M),J;for(U=0;U<R.length;++U)J=R[U],J!=="removeListener"&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(P=M[T],typeof P=="function")this.removeListener(T,P);else if(P!==void 0)for(U=P.length-1;U>=0;U--)this.removeListener(T,P[U]);return this};function d(w,T,P){var M=w._events;if(M===void 0)return[];var U=M[T];return U===void 0?[]:typeof U=="function"?P?[U.listener||U]:[U]:P?x(U):y(U,U.length)}s.prototype.listeners=function(T){return d(this,T,!0)},s.prototype.rawListeners=function(T){return d(this,T,!1)},s.listenerCount=function(w,T){return typeof w.listenerCount=="function"?w.listenerCount(T):h.call(w,T)},s.prototype.listenerCount=h;function h(w){var T=this._events;if(T!==void 0){var P=T[w];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function y(w,T){for(var P=new Array(T),M=0;M<T;++M)P[M]=w[M];return P}function v(w,T){for(;T+1<w.length;T++)w[T]=w[T+1];w.pop()}function x(w){for(var T=new Array(w.length),P=0;P<T.length;++P)T[P]=w[P].listener||w[P];return T}function m(w,T){return new Promise(function(P,M){function U(J){w.removeListener(T,R),M(J)}function R(){typeof w.removeListener=="function"&&w.removeListener("error",U),P([].slice.call(arguments))}b(w,T,R,{once:!0}),T!=="error"&&_(w,U,{once:!0})})}function _(w,T,P){typeof w.on=="function"&&b(w,"error",T,P)}function b(w,T,P,M){if(typeof w.on=="function")M.once?w.once(T,P):w.on(T,P);else if(typeof w.addEventListener=="function")w.addEventListener(T,function U(R){M.once&&w.removeEventListener(T,U),P(R)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}return Rf.exports}var Cf={exports:{}},G5;function oi(){return G5||(G5=1,typeof Object.create=="function"?Cf.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Cf.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Cf.exports}function QJ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $L={exports:{}},ot=$L.exports={},Xr,Yr;function vx(){throw new Error("setTimeout has not been defined")}function yx(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Xr=setTimeout:Xr=vx}catch{Xr=vx}try{typeof clearTimeout=="function"?Yr=clearTimeout:Yr=yx}catch{Yr=yx}})();function JL(t){if(Xr===setTimeout)return setTimeout(t,0);if((Xr===vx||!Xr)&&setTimeout)return Xr=setTimeout,setTimeout(t,0);try{return Xr(t,0)}catch{try{return Xr.call(null,t,0)}catch{return Xr.call(this,t,0)}}}function eX(t){if(Yr===clearTimeout)return clearTimeout(t);if((Yr===yx||!Yr)&&clearTimeout)return Yr=clearTimeout,clearTimeout(t);try{return Yr(t)}catch{try{return Yr.call(null,t)}catch{return Yr.call(this,t)}}}var Pn=[],io=!1,qi,Lf=-1;function tX(){!io||!qi||(io=!1,qi.length?Pn=qi.concat(Pn):Lf=-1,Pn.length&&XL())}function XL(){if(!io){var t=JL(tX);io=!0;for(var e=Pn.length;e;){for(qi=Pn,Pn=[];++Lf<e;)qi&&qi[Lf].run();Lf=-1,e=Pn.length}qi=null,io=!1,eX(t)}}ot.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Pn.push(new YL(t,e)),Pn.length===1&&!io&&JL(XL)};function YL(t,e){this.fun=t,this.array=e}YL.prototype.run=function(){this.fun.apply(null,this.array)};ot.title="browser";ot.browser=!0;ot.env={};ot.argv=[];ot.version="";ot.versions={};function Mn(){}ot.on=Mn;ot.addListener=Mn;ot.once=Mn;ot.off=Mn;ot.removeListener=Mn;ot.removeAllListeners=Mn;ot.emit=Mn;ot.prependListener=Mn;ot.prependOnceListener=Mn;ot.listeners=function(t){return[]};ot.binding=function(t){throw new Error("process.binding is not supported")};ot.cwd=function(){return"/"};ot.chdir=function(t){throw new Error("process.chdir is not supported")};ot.umask=function(){return 0};var rX=$L.exports,Ie=QJ(rX),I1,$5;function ZL(){return $5||($5=1,I1=hT().EventEmitter),I1}var P1={},Qa={},J5;function nX(){if(J5)return Qa;J5=1,Qa.byteLength=o,Qa.toByteArray=u,Qa.fromByteArray=d;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(h){var y=h.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=h.indexOf("=");v===-1&&(v=y);var x=v===y?0:4-v%4;return[v,x]}function o(h){var y=a(h),v=y[0],x=y[1];return(v+x)*3/4-x}function l(h,y,v){return(y+v)*3/4-v}function u(h){var y,v=a(h),x=v[0],m=v[1],_=new r(l(h,x,m)),b=0,w=m>0?x-4:x,T;for(T=0;T<w;T+=4)y=e[h.charCodeAt(T)]<<18|e[h.charCodeAt(T+1)]<<12|e[h.charCodeAt(T+2)]<<6|e[h.charCodeAt(T+3)],_[b++]=y>>16&255,_[b++]=y>>8&255,_[b++]=y&255;return m===2&&(y=e[h.charCodeAt(T)]<<2|e[h.charCodeAt(T+1)]>>4,_[b++]=y&255),m===1&&(y=e[h.charCodeAt(T)]<<10|e[h.charCodeAt(T+1)]<<4|e[h.charCodeAt(T+2)]>>2,_[b++]=y>>8&255,_[b++]=y&255),_}function c(h){return t[h>>18&63]+t[h>>12&63]+t[h>>6&63]+t[h&63]}function f(h,y,v){for(var x,m=[],_=y;_<v;_+=3)x=(h[_]<<16&16711680)+(h[_+1]<<8&65280)+(h[_+2]&255),m.push(c(x));return m.join("")}function d(h){for(var y,v=h.length,x=v%3,m=[],_=16383,b=0,w=v-x;b<w;b+=_)m.push(f(h,b,b+_>w?w:b+_));return x===1?(y=h[v-1],m.push(t[y>>2]+t[y<<4&63]+"==")):x===2&&(y=(h[v-2]<<8)+h[v-1],m.push(t[y>>10]+t[y>>4&63]+t[y<<2&63]+"=")),m.join("")}return Qa}var If={};var X5;function iX(){return X5||(X5=1,If.read=function(t,e,r,n,i){var s,a,o=i*8-n-1,l=(1<<o)-1,u=l>>1,c=-7,f=r?i-1:0,d=r?-1:1,h=t[e+f];for(f+=d,s=h&(1<<-c)-1,h>>=-c,c+=o;c>0;s=s*256+t[e+f],f+=d,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=n;c>0;a=a*256+t[e+f],f+=d,c-=8);if(s===0)s=1-u;else{if(s===l)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-u}return(h?-1:1)*a*Math.pow(2,s-n)},If.write=function(t,e,r,n,i,s){var a,o,l,u=s*8-i-1,c=(1<<u)-1,f=c>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:s-1,y=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+f>=1?e+=d/l:e+=d*Math.pow(2,1-f),e*l>=2&&(a++,l/=2),a+f>=c?(o=0,a=c):a+f>=1?(o=(e*l-1)*Math.pow(2,i),a=a+f):(o=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[r+h]=o&255,h+=y,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;t[r+h]=a&255,h+=y,a/=256,u-=8);t[r+h-y]|=v*128}),If}var Y5;function bd(){return Y5||(Y5=1,(function(t){var e=nX(),r=iX(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var N=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(N,p),N.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(N){if(N>i)throw new RangeError('The value "'+N+'" is invalid for option "size"');var p=new Uint8Array(N);return Object.setPrototypeOf(p,o.prototype),p}function o(N,p,g){if(typeof N=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(N)}return l(N,p,g)}o.poolSize=8192;function l(N,p,g){if(typeof N=="string")return d(N,p);if(ArrayBuffer.isView(N))return y(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(Z(N,ArrayBuffer)||N&&Z(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Z(N,SharedArrayBuffer)||N&&Z(N.buffer,SharedArrayBuffer)))return v(N,p,g);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var S=N.valueOf&&N.valueOf();if(S!=null&&S!==N)return o.from(S,p,g);var F=x(N);if(F)return F;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return o.from(N[Symbol.toPrimitive]("string"),p,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}o.from=function(N,p,g){return l(N,p,g)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function c(N,p,g){return u(N),N<=0?a(N):p!==void 0?typeof g=="string"?a(N).fill(p,g):a(N).fill(p):a(N)}o.alloc=function(N,p,g){return c(N,p,g)};function f(N){return u(N),a(N<0?0:m(N)|0)}o.allocUnsafe=function(N){return f(N)},o.allocUnsafeSlow=function(N){return f(N)};function d(N,p){if((typeof p!="string"||p==="")&&(p="utf8"),!o.isEncoding(p))throw new TypeError("Unknown encoding: "+p);var g=b(N,p)|0,S=a(g),F=S.write(N,p);return F!==g&&(S=S.slice(0,F)),S}function h(N){for(var p=N.length<0?0:m(N.length)|0,g=a(p),S=0;S<p;S+=1)g[S]=N[S]&255;return g}function y(N){if(Z(N,Uint8Array)){var p=new Uint8Array(N);return v(p.buffer,p.byteOffset,p.byteLength)}return h(N)}function v(N,p,g){if(p<0||N.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<p+(g||0))throw new RangeError('"length" is outside of buffer bounds');var S;return p===void 0&&g===void 0?S=new Uint8Array(N):g===void 0?S=new Uint8Array(N,p):S=new Uint8Array(N,p,g),Object.setPrototypeOf(S,o.prototype),S}function x(N){if(o.isBuffer(N)){var p=m(N.length)|0,g=a(p);return g.length===0||N.copy(g,0,0,p),g}if(N.length!==void 0)return typeof N.length!="number"||E(N.length)?a(0):h(N);if(N.type==="Buffer"&&Array.isArray(N.data))return h(N.data)}function m(N){if(N>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return N|0}function _(N){return+N!=N&&(N=0),o.alloc(+N)}o.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==o.prototype},o.compare=function(p,g){if(Z(p,Uint8Array)&&(p=o.from(p,p.offset,p.byteLength)),Z(g,Uint8Array)&&(g=o.from(g,g.offset,g.byteLength)),!o.isBuffer(p)||!o.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===g)return 0;for(var S=p.length,F=g.length,q=0,z=Math.min(S,F);q<z;++q)if(p[q]!==g[q]){S=p[q],F=g[q];break}return S<F?-1:F<S?1:0},o.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(p,g){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return o.alloc(0);var S;if(g===void 0)for(g=0,S=0;S<p.length;++S)g+=p[S].length;var F=o.allocUnsafe(g),q=0;for(S=0;S<p.length;++S){var z=p[S];if(Z(z,Uint8Array))q+z.length>F.length?o.from(z).copy(F,q):Uint8Array.prototype.set.call(F,z,q);else if(o.isBuffer(z))z.copy(F,q);else throw new TypeError('"list" argument must be an Array of Buffers');q+=z.length}return F};function b(N,p){if(o.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||Z(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);var g=N.length,S=arguments.length>2&&arguments[2]===!0;if(!S&&g===0)return 0;for(var F=!1;;)switch(p){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return A(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return I(N).length;default:if(F)return S?-1:A(N).length;p=(""+p).toLowerCase(),F=!0}}o.byteLength=b;function w(N,p,g){var S=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,p>>>=0,g<=p))return"";for(N||(N="utf8");;)switch(N){case"hex":return ee(this,p,g);case"utf8":case"utf-8":return k(this,p,g);case"ascii":return j(this,p,g);case"latin1":case"binary":return ie(this,p,g);case"base64":return H(this,p,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,p,g);default:if(S)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),S=!0}}o.prototype._isBuffer=!0;function T(N,p,g){var S=N[p];N[p]=N[g],N[g]=S}o.prototype.swap16=function(){var p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var g=0;g<p;g+=2)T(this,g,g+1);return this},o.prototype.swap32=function(){var p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var g=0;g<p;g+=4)T(this,g,g+3),T(this,g+1,g+2);return this},o.prototype.swap64=function(){var p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var g=0;g<p;g+=8)T(this,g,g+7),T(this,g+1,g+6),T(this,g+2,g+5),T(this,g+3,g+4);return this},o.prototype.toString=function(){var p=this.length;return p===0?"":arguments.length===0?k(this,0,p):w.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(p){if(!o.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:o.compare(this,p)===0},o.prototype.inspect=function(){var p="",g=t.INSPECT_MAX_BYTES;return p=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(p+=" ... "),"<Buffer "+p+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(p,g,S,F,q){if(Z(p,Uint8Array)&&(p=o.from(p,p.offset,p.byteLength)),!o.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(g===void 0&&(g=0),S===void 0&&(S=p?p.length:0),F===void 0&&(F=0),q===void 0&&(q=this.length),g<0||S>p.length||F<0||q>this.length)throw new RangeError("out of range index");if(F>=q&&g>=S)return 0;if(F>=q)return-1;if(g>=S)return 1;if(g>>>=0,S>>>=0,F>>>=0,q>>>=0,this===p)return 0;for(var z=q-F,ne=S-g,ae=Math.min(z,ne),se=this.slice(F,q),fe=p.slice(g,S),pe=0;pe<ae;++pe)if(se[pe]!==fe[pe]){z=se[pe],ne=fe[pe];break}return z<ne?-1:ne<z?1:0};function P(N,p,g,S,F){if(N.length===0)return-1;if(typeof g=="string"?(S=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,E(g)&&(g=F?0:N.length-1),g<0&&(g=N.length+g),g>=N.length){if(F)return-1;g=N.length-1}else if(g<0)if(F)g=0;else return-1;if(typeof p=="string"&&(p=o.from(p,S)),o.isBuffer(p))return p.length===0?-1:M(N,p,g,S,F);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(N,p,g):Uint8Array.prototype.lastIndexOf.call(N,p,g):M(N,[p],g,S,F);throw new TypeError("val must be string, number or Buffer")}function M(N,p,g,S,F){var q=1,z=N.length,ne=p.length;if(S!==void 0&&(S=String(S).toLowerCase(),S==="ucs2"||S==="ucs-2"||S==="utf16le"||S==="utf-16le")){if(N.length<2||p.length<2)return-1;q=2,z/=2,ne/=2,g/=2}function ae(Me,yt){return q===1?Me[yt]:Me.readUInt16BE(yt*q)}var se;if(F){var fe=-1;for(se=g;se<z;se++)if(ae(N,se)===ae(p,fe===-1?0:se-fe)){if(fe===-1&&(fe=se),se-fe+1===ne)return fe*q}else fe!==-1&&(se-=se-fe),fe=-1}else for(g+ne>z&&(g=z-ne),se=g;se>=0;se--){for(var pe=!0,ve=0;ve<ne;ve++)if(ae(N,se+ve)!==ae(p,ve)){pe=!1;break}if(pe)return se}return-1}o.prototype.includes=function(p,g,S){return this.indexOf(p,g,S)!==-1},o.prototype.indexOf=function(p,g,S){return P(this,p,g,S,!0)},o.prototype.lastIndexOf=function(p,g,S){return P(this,p,g,S,!1)};function U(N,p,g,S){g=Number(g)||0;var F=N.length-g;S?(S=Number(S),S>F&&(S=F)):S=F;var q=p.length;S>q/2&&(S=q/2);for(var z=0;z<S;++z){var ne=parseInt(p.substr(z*2,2),16);if(E(ne))return z;N[g+z]=ne}return z}function R(N,p,g,S){return L(A(p,N.length-g),N,g,S)}function J(N,p,g,S){return L(W(p),N,g,S)}function oe(N,p,g,S){return L(I(p),N,g,S)}function C(N,p,g,S){return L(B(p,N.length-g),N,g,S)}o.prototype.write=function(p,g,S,F){if(g===void 0)F="utf8",S=this.length,g=0;else if(S===void 0&&typeof g=="string")F=g,S=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(S)?(S=S>>>0,F===void 0&&(F="utf8")):(F=S,S=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var q=this.length-g;if((S===void 0||S>q)&&(S=q),p.length>0&&(S<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var z=!1;;)switch(F){case"hex":return U(this,p,g,S);case"utf8":case"utf-8":return R(this,p,g,S);case"ascii":case"latin1":case"binary":return J(this,p,g,S);case"base64":return oe(this,p,g,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,p,g,S);default:if(z)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),z=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(N,p,g){return p===0&&g===N.length?e.fromByteArray(N):e.fromByteArray(N.slice(p,g))}function k(N,p,g){g=Math.min(N.length,g);for(var S=[],F=p;F<g;){var q=N[F],z=null,ne=q>239?4:q>223?3:q>191?2:1;if(F+ne<=g){var ae,se,fe,pe;switch(ne){case 1:q<128&&(z=q);break;case 2:ae=N[F+1],(ae&192)===128&&(pe=(q&31)<<6|ae&63,pe>127&&(z=pe));break;case 3:ae=N[F+1],se=N[F+2],(ae&192)===128&&(se&192)===128&&(pe=(q&15)<<12|(ae&63)<<6|se&63,pe>2047&&(pe<55296||pe>57343)&&(z=pe));break;case 4:ae=N[F+1],se=N[F+2],fe=N[F+3],(ae&192)===128&&(se&192)===128&&(fe&192)===128&&(pe=(q&15)<<18|(ae&63)<<12|(se&63)<<6|fe&63,pe>65535&&pe<1114112&&(z=pe))}}z===null?(z=65533,ne=1):z>65535&&(z-=65536,S.push(z>>>10&1023|55296),z=56320|z&1023),S.push(z),F+=ne}return Q(S)}var V=4096;function Q(N){var p=N.length;if(p<=V)return String.fromCharCode.apply(String,N);for(var g="",S=0;S<p;)g+=String.fromCharCode.apply(String,N.slice(S,S+=V));return g}function j(N,p,g){var S="";g=Math.min(N.length,g);for(var F=p;F<g;++F)S+=String.fromCharCode(N[F]&127);return S}function ie(N,p,g){var S="";g=Math.min(N.length,g);for(var F=p;F<g;++F)S+=String.fromCharCode(N[F]);return S}function ee(N,p,g){var S=N.length;(!p||p<0)&&(p=0),(!g||g<0||g>S)&&(g=S);for(var F="",q=p;q<g;++q)F+=Y[N[q]];return F}function le(N,p,g){for(var S=N.slice(p,g),F="",q=0;q<S.length-1;q+=2)F+=String.fromCharCode(S[q]+S[q+1]*256);return F}o.prototype.slice=function(p,g){var S=this.length;p=~~p,g=g===void 0?S:~~g,p<0?(p+=S,p<0&&(p=0)):p>S&&(p=S),g<0?(g+=S,g<0&&(g=0)):g>S&&(g=S),g<p&&(g=p);var F=this.subarray(p,g);return Object.setPrototypeOf(F,o.prototype),F};function G(N,p,g){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+p>g)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(p,g,S){p=p>>>0,g=g>>>0,S||G(p,g,this.length);for(var F=this[p],q=1,z=0;++z<g&&(q*=256);)F+=this[p+z]*q;return F},o.prototype.readUintBE=o.prototype.readUIntBE=function(p,g,S){p=p>>>0,g=g>>>0,S||G(p,g,this.length);for(var F=this[p+--g],q=1;g>0&&(q*=256);)F+=this[p+--g]*q;return F},o.prototype.readUint8=o.prototype.readUInt8=function(p,g){return p=p>>>0,g||G(p,1,this.length),this[p]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(p,g){return p=p>>>0,g||G(p,2,this.length),this[p]|this[p+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(p,g){return p=p>>>0,g||G(p,2,this.length),this[p]<<8|this[p+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(p,g){return p=p>>>0,g||G(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(p,g){return p=p>>>0,g||G(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},o.prototype.readIntLE=function(p,g,S){p=p>>>0,g=g>>>0,S||G(p,g,this.length);for(var F=this[p],q=1,z=0;++z<g&&(q*=256);)F+=this[p+z]*q;return q*=128,F>=q&&(F-=Math.pow(2,8*g)),F},o.prototype.readIntBE=function(p,g,S){p=p>>>0,g=g>>>0,S||G(p,g,this.length);for(var F=g,q=1,z=this[p+--F];F>0&&(q*=256);)z+=this[p+--F]*q;return q*=128,z>=q&&(z-=Math.pow(2,8*g)),z},o.prototype.readInt8=function(p,g){return p=p>>>0,g||G(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},o.prototype.readInt16LE=function(p,g){p=p>>>0,g||G(p,2,this.length);var S=this[p]|this[p+1]<<8;return S&32768?S|4294901760:S},o.prototype.readInt16BE=function(p,g){p=p>>>0,g||G(p,2,this.length);var S=this[p+1]|this[p]<<8;return S&32768?S|4294901760:S},o.prototype.readInt32LE=function(p,g){return p=p>>>0,g||G(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},o.prototype.readInt32BE=function(p,g){return p=p>>>0,g||G(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},o.prototype.readFloatLE=function(p,g){return p=p>>>0,g||G(p,4,this.length),r.read(this,p,!0,23,4)},o.prototype.readFloatBE=function(p,g){return p=p>>>0,g||G(p,4,this.length),r.read(this,p,!1,23,4)},o.prototype.readDoubleLE=function(p,g){return p=p>>>0,g||G(p,8,this.length),r.read(this,p,!0,52,8)},o.prototype.readDoubleBE=function(p,g){return p=p>>>0,g||G(p,8,this.length),r.read(this,p,!1,52,8)};function D(N,p,g,S,F,q){if(!o.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>F||p<q)throw new RangeError('"value" argument is out of bounds');if(g+S>N.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(p,g,S,F){if(p=+p,g=g>>>0,S=S>>>0,!F){var q=Math.pow(2,8*S)-1;D(this,p,g,S,q,0)}var z=1,ne=0;for(this[g]=p&255;++ne<S&&(z*=256);)this[g+ne]=p/z&255;return g+S},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(p,g,S,F){if(p=+p,g=g>>>0,S=S>>>0,!F){var q=Math.pow(2,8*S)-1;D(this,p,g,S,q,0)}var z=S-1,ne=1;for(this[g+z]=p&255;--z>=0&&(ne*=256);)this[g+z]=p/ne&255;return g+S},o.prototype.writeUint8=o.prototype.writeUInt8=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,1,255,0),this[g]=p&255,g+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,2,65535,0),this[g]=p&255,this[g+1]=p>>>8,g+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,2,65535,0),this[g]=p>>>8,this[g+1]=p&255,g+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,4,4294967295,0),this[g+3]=p>>>24,this[g+2]=p>>>16,this[g+1]=p>>>8,this[g]=p&255,g+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,4,4294967295,0),this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=p&255,g+4},o.prototype.writeIntLE=function(p,g,S,F){if(p=+p,g=g>>>0,!F){var q=Math.pow(2,8*S-1);D(this,p,g,S,q-1,-q)}var z=0,ne=1,ae=0;for(this[g]=p&255;++z<S&&(ne*=256);)p<0&&ae===0&&this[g+z-1]!==0&&(ae=1),this[g+z]=(p/ne>>0)-ae&255;return g+S},o.prototype.writeIntBE=function(p,g,S,F){if(p=+p,g=g>>>0,!F){var q=Math.pow(2,8*S-1);D(this,p,g,S,q-1,-q)}var z=S-1,ne=1,ae=0;for(this[g+z]=p&255;--z>=0&&(ne*=256);)p<0&&ae===0&&this[g+z+1]!==0&&(ae=1),this[g+z]=(p/ne>>0)-ae&255;return g+S},o.prototype.writeInt8=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,1,127,-128),p<0&&(p=255+p+1),this[g]=p&255,g+1},o.prototype.writeInt16LE=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,2,32767,-32768),this[g]=p&255,this[g+1]=p>>>8,g+2},o.prototype.writeInt16BE=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,2,32767,-32768),this[g]=p>>>8,this[g+1]=p&255,g+2},o.prototype.writeInt32LE=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,4,2147483647,-2147483648),this[g]=p&255,this[g+1]=p>>>8,this[g+2]=p>>>16,this[g+3]=p>>>24,g+4},o.prototype.writeInt32BE=function(p,g,S){return p=+p,g=g>>>0,S||D(this,p,g,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=p&255,g+4};function $(N,p,g,S,F,q){if(g+S>N.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function X(N,p,g,S,F){return p=+p,g=g>>>0,F||$(N,p,g,4),r.write(N,p,g,S,23,4),g+4}o.prototype.writeFloatLE=function(p,g,S){return X(this,p,g,!0,S)},o.prototype.writeFloatBE=function(p,g,S){return X(this,p,g,!1,S)};function re(N,p,g,S,F){return p=+p,g=g>>>0,F||$(N,p,g,8),r.write(N,p,g,S,52,8),g+8}o.prototype.writeDoubleLE=function(p,g,S){return re(this,p,g,!0,S)},o.prototype.writeDoubleBE=function(p,g,S){return re(this,p,g,!1,S)},o.prototype.copy=function(p,g,S,F){if(!o.isBuffer(p))throw new TypeError("argument should be a Buffer");if(S||(S=0),!F&&F!==0&&(F=this.length),g>=p.length&&(g=p.length),g||(g=0),F>0&&F<S&&(F=S),F===S||p.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(S<0||S>=this.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),p.length-g<F-S&&(F=p.length-g+S);var q=F-S;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,S,F):Uint8Array.prototype.set.call(p,this.subarray(S,F),g),q},o.prototype.fill=function(p,g,S,F){if(typeof p=="string"){if(typeof g=="string"?(F=g,g=0,S=this.length):typeof S=="string"&&(F=S,S=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!o.isEncoding(F))throw new TypeError("Unknown encoding: "+F);if(p.length===1){var q=p.charCodeAt(0);(F==="utf8"&&q<128||F==="latin1")&&(p=q)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(g<0||this.length<g||this.length<S)throw new RangeError("Out of range index");if(S<=g)return this;g=g>>>0,S=S===void 0?this.length:S>>>0,p||(p=0);var z;if(typeof p=="number")for(z=g;z<S;++z)this[z]=p;else{var ne=o.isBuffer(p)?p:o.from(p,F),ae=ne.length;if(ae===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(z=0;z<S-g;++z)this[z+g]=ne[z%ae]}return this};var K=/[^+/0-9A-Za-z-_]/g;function O(N){if(N=N.split("=")[0],N=N.trim().replace(K,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function A(N,p){p=p||1/0;for(var g,S=N.length,F=null,q=[],z=0;z<S;++z){if(g=N.charCodeAt(z),g>55295&&g<57344){if(!F){if(g>56319){(p-=3)>-1&&q.push(239,191,189);continue}else if(z+1===S){(p-=3)>-1&&q.push(239,191,189);continue}F=g;continue}if(g<56320){(p-=3)>-1&&q.push(239,191,189),F=g;continue}g=(F-55296<<10|g-56320)+65536}else F&&(p-=3)>-1&&q.push(239,191,189);if(F=null,g<128){if((p-=1)<0)break;q.push(g)}else if(g<2048){if((p-=2)<0)break;q.push(g>>6|192,g&63|128)}else if(g<65536){if((p-=3)<0)break;q.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((p-=4)<0)break;q.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return q}function W(N){for(var p=[],g=0;g<N.length;++g)p.push(N.charCodeAt(g)&255);return p}function B(N,p){for(var g,S,F,q=[],z=0;z<N.length&&!((p-=2)<0);++z)g=N.charCodeAt(z),S=g>>8,F=g%256,q.push(F),q.push(S);return q}function I(N){return e.toByteArray(O(N))}function L(N,p,g,S){for(var F=0;F<S&&!(F+g>=p.length||F>=N.length);++F)p[F+g]=N[F];return F}function Z(N,p){return N instanceof p||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===p.name}function E(N){return N!==N}var Y=(function(){for(var N="0123456789abcdef",p=new Array(256),g=0;g<16;++g)for(var S=g*16,F=0;F<16;++F)p[S+F]=N[g]+N[F];return p})()})(P1)),P1}var D1={},M1={},L1,Z5;function QL(){return Z5||(Z5=1,L1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),L1}var F1,Q5;function dT(){if(Q5)return F1;Q5=1;var t=QL();return F1=function(){return t()&&!!Symbol.toStringTag},F1}var B1,e6;function e3(){return e6||(e6=1,B1=Object),B1}var U1,t6;function sX(){return t6||(t6=1,U1=Error),U1}var H1,r6;function oX(){return r6||(r6=1,H1=EvalError),H1}var z1,n6;function aX(){return n6||(n6=1,z1=RangeError),z1}var j1,i6;function lX(){return i6||(i6=1,j1=ReferenceError),j1}var W1,s6;function t3(){return s6||(s6=1,W1=SyntaxError),W1}var q1,o6;function Tl(){return o6||(o6=1,q1=TypeError),q1}var V1,a6;function uX(){return a6||(a6=1,V1=URIError),V1}var K1,l6;function cX(){return l6||(l6=1,K1=Math.abs),K1}var G1,u6;function fX(){return u6||(u6=1,G1=Math.floor),G1}var $1,c6;function hX(){return c6||(c6=1,$1=Math.max),$1}var J1,f6;function dX(){return f6||(f6=1,J1=Math.min),J1}var X1,h6;function pX(){return h6||(h6=1,X1=Math.pow),X1}var Y1,d6;function mX(){return d6||(d6=1,Y1=Math.round),Y1}var Z1,p6;function gX(){return p6||(p6=1,Z1=Number.isNaN||function(e){return e!==e}),Z1}var Q1,m6;function vX(){if(m6)return Q1;m6=1;var t=gX();return Q1=function(r){return t(r)||r===0?r:r<0?-1:1},Q1}var e_,g6;function yX(){return g6||(g6=1,e_=Object.getOwnPropertyDescriptor),e_}var t_,v6;function Al(){if(v6)return t_;v6=1;var t=yX();if(t)try{t([],"length")}catch{t=null}return t_=t,t_}var r_,y6;function _d(){if(y6)return r_;y6=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return r_=t,r_}var n_,w6;function wX(){if(w6)return n_;w6=1;var t=typeof Symbol<"u"&&Symbol,e=QL();return n_=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},n_}var i_,b6;function r3(){return b6||(b6=1,i_=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),i_}var s_,_6;function n3(){if(_6)return s_;_6=1;var t=e3();return s_=t.getPrototypeOf||null,s_}var o_,x6;function bX(){if(x6)return o_;x6=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var c=[],f=0;f<l.length;f+=1)c[f]=l[f];for(var d=0;d<u.length;d+=1)c[d+l.length]=u[d];return c},s=function(l,u){for(var c=[],f=u,d=0;f<l.length;f+=1,d+=1)c[d]=l[f];return c},a=function(o,l){for(var u="",c=0;c<o.length;c+=1)u+=o[c],c+1<o.length&&(u+=l);return u};return o_=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(t+u);for(var c=s(arguments,1),f,d=function(){if(this instanceof f){var m=u.apply(this,i(c,arguments));return Object(m)===m?m:this}return u.apply(l,i(c,arguments))},h=r(0,u.length-c.length),y=[],v=0;v<h;v++)y[v]="$"+v;if(f=Function("binder","return function ("+a(y,",")+"){ return binder.apply(this,arguments); }")(d),u.prototype){var x=function(){};x.prototype=u.prototype,f.prototype=new x,x.prototype=null}return f},o_}var a_,E6;function Ol(){if(E6)return a_;E6=1;var t=bX();return a_=Function.prototype.bind||t,a_}var l_,S6;function pT(){return S6||(S6=1,l_=Function.prototype.call),l_}var u_,k6;function i3(){return k6||(k6=1,u_=Function.prototype.apply),u_}var c_,T6;function _X(){return T6||(T6=1,c_=typeof Reflect<"u"&&Reflect&&Reflect.apply),c_}var f_,A6;function xX(){if(A6)return f_;A6=1;var t=Ol(),e=i3(),r=pT(),n=_X();return f_=n||t.call(r,e),f_}var h_,O6;function EX(){if(O6)return h_;O6=1;var t=Ol(),e=Tl(),r=pT(),n=xX();return h_=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(t,r,s)},h_}var d_,N6;function SX(){if(N6)return d_;N6=1;var t=EX(),e=Al(),r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return d_=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?(function(o){return s(o==null?o:i(o))}):!1,d_}var p_,R6;function kX(){if(R6)return p_;R6=1;var t=r3(),e=n3(),r=SX();return p_=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,p_}var m_,C6;function TX(){if(C6)return m_;C6=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Ol();return m_=r.call(t,e),m_}var g_,I6;function mT(){if(I6)return g_;I6=1;var t,e=e3(),r=sX(),n=oX(),i=aX(),s=lX(),a=t3(),o=Tl(),l=uX(),u=cX(),c=fX(),f=hX(),d=dX(),h=pX(),y=mX(),v=vX(),x=Function,m=function(W){try{return x('"use strict"; return ('+W+").constructor;")()}catch{}},_=Al(),b=_d(),w=function(){throw new o},T=_?(function(){try{return arguments.callee,w}catch{try{return _(arguments,"callee").get}catch{return w}}})():w,P=wX()(),M=kX(),U=n3(),R=r3(),J=i3(),oe=pT(),C={},H=typeof Uint8Array>"u"||!M?t:M(Uint8Array),k={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":P&&M?M([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":C,"%AsyncGenerator%":C,"%AsyncGeneratorFunction%":C,"%AsyncIteratorPrototype%":C,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":x,"%GeneratorFunction%":C,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":P&&M?M(M([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!P||!M?t:M(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":_,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!P||!M?t:M(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":P&&M?M(""[Symbol.iterator]()):t,"%Symbol%":P?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":T,"%TypedArray%":H,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":oe,"%Function.prototype.apply%":J,"%Object.defineProperty%":b,"%Object.getPrototypeOf%":U,"%Math.abs%":u,"%Math.floor%":c,"%Math.max%":f,"%Math.min%":d,"%Math.pow%":h,"%Math.round%":y,"%Math.sign%":v,"%Reflect.getPrototypeOf%":R};if(M)try{null.error}catch(W){var V=M(M(W));k["%Error.prototype%"]=V}var Q=function W(B){var I;if(B==="%AsyncFunction%")I=m("async function () {}");else if(B==="%GeneratorFunction%")I=m("function* () {}");else if(B==="%AsyncGeneratorFunction%")I=m("async function* () {}");else if(B==="%AsyncGenerator%"){var L=W("%AsyncGeneratorFunction%");L&&(I=L.prototype)}else if(B==="%AsyncIteratorPrototype%"){var Z=W("%AsyncGenerator%");Z&&M&&(I=M(Z.prototype))}return k[B]=I,I},j={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ie=Ol(),ee=TX(),le=ie.call(oe,Array.prototype.concat),G=ie.call(J,Array.prototype.splice),D=ie.call(oe,String.prototype.replace),$=ie.call(oe,String.prototype.slice),X=ie.call(oe,RegExp.prototype.exec),re=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,K=/\\(\\)?/g,O=function(B){var I=$(B,0,1),L=$(B,-1);if(I==="%"&&L!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(L==="%"&&I!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var Z=[];return D(B,re,function(E,Y,N,p){Z[Z.length]=N?D(p,K,"$1"):Y||E}),Z},A=function(B,I){var L=B,Z;if(ee(j,L)&&(Z=j[L],L="%"+Z[0]+"%"),ee(k,L)){var E=k[L];if(E===C&&(E=Q(L)),typeof E>"u"&&!I)throw new o("intrinsic "+B+" exists, but is not available. Please file an issue!");return{alias:Z,name:L,value:E}}throw new a("intrinsic "+B+" does not exist!")};return g_=function(B,I){if(typeof B!="string"||B.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof I!="boolean")throw new o('"allowMissing" argument must be a boolean');if(X(/^%?[^%]*%?$/,B)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var L=O(B),Z=L.length>0?L[0]:"",E=A("%"+Z+"%",I),Y=E.name,N=E.value,p=!1,g=E.alias;g&&(Z=g[0],G(L,le([0,1],g)));for(var S=1,F=!0;S<L.length;S+=1){var q=L[S],z=$(q,0,1),ne=$(q,-1);if((z==='"'||z==="'"||z==="`"||ne==='"'||ne==="'"||ne==="`")&&z!==ne)throw new a("property names with quotes must have matching quotes");if((q==="constructor"||!F)&&(p=!0),Z+="."+q,Y="%"+Z+"%",ee(k,Y))N=k[Y];else if(N!=null){if(!(q in N)){if(!I)throw new o("base intrinsic for "+B+" exists, but the property is not available.");return}if(_&&S+1>=L.length){var ae=_(N,q);F=!!ae,F&&"get"in ae&&!("originalValue"in ae.get)?N=ae.get:N=N[q]}else F=ee(N,q),N=N[q];F&&!p&&(k[Y]=N)}}return N},g_}var v_={exports:{}},y_,P6;function AX(){if(P6)return y_;P6=1;var t=_d(),e=t3(),r=Tl(),n=Al();return y_=function(s,a,o){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,d=!!n&&n(s,a);if(t)t(s,a,{configurable:c===null&&d?d.configurable:!c,enumerable:l===null&&d?d.enumerable:!l,value:o,writable:u===null&&d?d.writable:!u});else if(f||!l&&!u&&!c)s[a]=o;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},y_}var w_,D6;function OX(){if(D6)return w_;D6=1;var t=_d(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},w_=e,w_}var b_,M6;function NX(){if(M6)return b_;M6=1;var t=mT(),e=AX(),r=OX()(),n=Al(),i=Tl(),s=t("%Math.floor%");return b_=function(o,l){if(typeof o!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],c=!0,f=!0;if("length"in o&&n){var d=n(o,"length");d&&!d.configurable&&(c=!1),d&&!d.writable&&(f=!1)}return(c||f||!u)&&(r?e(o,"length",l,!0,!0):e(o,"length",l)),o},b_}var L6;function s3(){return L6||(L6=1,(function(t){var e=Ol(),r=mT(),n=NX(),i=Tl(),s=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(a,s),l=_d(),u=r("%Math.max%");t.exports=function(d){if(typeof d!="function")throw new i("a function is required");var h=o(e,a,arguments);return n(h,1+u(0,d.length-(arguments.length-1)),!0)};var c=function(){return o(e,s,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c})(v_)),v_.exports}var __,F6;function o3(){if(F6)return __;F6=1;var t=mT(),e=s3(),r=e(t("String.prototype.indexOf"));return __=function(i,s){var a=t(i,!!s);return typeof a=="function"&&r(i,".prototype.")>-1?e(a):a},__}var x_,B6;function RX(){if(B6)return x_;B6=1;var t=dT()(),e=o3(),r=e("Object.prototype.toString"),n=function(o){return t&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:r(o)==="[object Arguments]"},i=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&r(o)!=="[object Array]"&&r(o.callee)==="[object Function]"},s=(function(){return n(arguments)})();return n.isLegacyArguments=i,x_=s?n:i,x_}var E_,U6;function CX(){if(U6)return E_;U6=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=dT()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},a;return E_=function(l){if(typeof l!="function")return!1;if(r.test(e.call(l)))return!0;if(!n){var u=t.call(l);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var c=s();a=c?i(c):!1}return i(l)===a},E_}var S_,H6;function IX(){if(H6)return S_;H6=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(_){_!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(b){try{var w=t.call(b);return i.test(w)}catch{return!1}},a=function(b){try{return s(b)?!1:(t.call(b),!0)}catch{return!1}},o=Object.prototype.toString,l="[object Object]",u="[object Function]",c="[object GeneratorFunction]",f="[object HTMLAllCollection]",d="[object HTML document.all class]",h="[object HTMLCollection]",y=typeof Symbol=="function"&&!!Symbol.toStringTag,v=!(0 in[,]),x=function(){return!1};if(typeof document=="object"){var m=document.all;o.call(m)===o.call(document.all)&&(x=function(b){if((v||!b)&&(typeof b>"u"||typeof b=="object"))try{var w=o.call(b);return(w===f||w===d||w===h||w===l)&&b("")==null}catch{}return!1})}return S_=e?function(b){if(x(b))return!0;if(!b||typeof b!="function"&&typeof b!="object")return!1;try{e(b,null,r)}catch(w){if(w!==n)return!1}return!s(b)&&a(b)}:function(b){if(x(b))return!0;if(!b||typeof b!="function"&&typeof b!="object")return!1;if(y)return a(b);if(s(b))return!1;var w=o.call(b);return w!==u&&w!==c&&!/^\[object HTML/.test(w)?!1:a(b)},S_}var k_,z6;function PX(){if(z6)return k_;z6=1;var t=IX(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,u,c){for(var f=0,d=l.length;f<d;f++)r.call(l,f)&&(c==null?u(l[f],f,l):u.call(c,l[f],f,l))},i=function(l,u,c){for(var f=0,d=l.length;f<d;f++)c==null?u(l.charAt(f),f,l):u.call(c,l.charAt(f),f,l)},s=function(l,u,c){for(var f in l)r.call(l,f)&&(c==null?u(l[f],f,l):u.call(c,l[f],f,l))},a=function(l,u,c){if(!t(u))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=c),e.call(l)==="[object Array]"?n(l,u,f):typeof l=="string"?i(l,u,f):s(l,u,f)};return k_=a,k_}var T_,j6;function DX(){return j6||(j6=1,T_=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),T_}var A_,W6;function MX(){if(W6)return A_;W6=1;var t=DX(),e=typeof globalThis>"u"?Qr:globalThis;return A_=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},A_}var O_,q6;function a3(){if(q6)return O_;q6=1;var t=PX(),e=MX(),r=s3(),n=o3(),i=Al(),s=n("Object.prototype.toString"),a=dT()(),o=typeof globalThis>"u"?Qr:globalThis,l=e(),u=n("String.prototype.slice"),c=Object.getPrototypeOf,f=n("Array.prototype.indexOf",!0)||function(x,m){for(var _=0;_<x.length;_+=1)if(x[_]===m)return _;return-1},d={__proto__:null};a&&i&&c?t(l,function(v){var x=new o[v];if(Symbol.toStringTag in x){var m=c(x),_=i(m,Symbol.toStringTag);if(!_){var b=c(m);_=i(b,Symbol.toStringTag)}d["$"+v]=r(_.get)}}):t(l,function(v){var x=new o[v],m=x.slice||x.set;m&&(d["$"+v]=r(m))});var h=function(x){var m=!1;return t(d,function(_,b){if(!m)try{"$"+_(x)===b&&(m=u(b,1))}catch{}}),m},y=function(x){var m=!1;return t(d,function(_,b){if(!m)try{_(x),m=u(b,1)}catch{}}),m};return O_=function(x){if(!x||typeof x!="object")return!1;if(!a){var m=u(s(x),8,-1);return f(l,m)>-1?m:m!=="Object"?!1:y(x)}return i?h(x):null},O_}var N_,V6;function LX(){if(V6)return N_;V6=1;var t=a3();return N_=function(r){return!!t(r)},N_}var K6;function FX(){return K6||(K6=1,(function(t){var e=RX(),r=CX(),n=a3(),i=LX();function s(S){return S.call.bind(S)}var a=typeof BigInt<"u",o=typeof Symbol<"u",l=s(Object.prototype.toString),u=s(Number.prototype.valueOf),c=s(String.prototype.valueOf),f=s(Boolean.prototype.valueOf);if(a)var d=s(BigInt.prototype.valueOf);if(o)var h=s(Symbol.prototype.valueOf);function y(S,F){if(typeof S!="object")return!1;try{return F(S),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function v(S){return typeof Promise<"u"&&S instanceof Promise||S!==null&&typeof S=="object"&&typeof S.then=="function"&&typeof S.catch=="function"}t.isPromise=v;function x(S){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(S):i(S)||$(S)}t.isArrayBufferView=x;function m(S){return n(S)==="Uint8Array"}t.isUint8Array=m;function _(S){return n(S)==="Uint8ClampedArray"}t.isUint8ClampedArray=_;function b(S){return n(S)==="Uint16Array"}t.isUint16Array=b;function w(S){return n(S)==="Uint32Array"}t.isUint32Array=w;function T(S){return n(S)==="Int8Array"}t.isInt8Array=T;function P(S){return n(S)==="Int16Array"}t.isInt16Array=P;function M(S){return n(S)==="Int32Array"}t.isInt32Array=M;function U(S){return n(S)==="Float32Array"}t.isFloat32Array=U;function R(S){return n(S)==="Float64Array"}t.isFloat64Array=R;function J(S){return n(S)==="BigInt64Array"}t.isBigInt64Array=J;function oe(S){return n(S)==="BigUint64Array"}t.isBigUint64Array=oe;function C(S){return l(S)==="[object Map]"}C.working=typeof Map<"u"&&C(new Map);function H(S){return typeof Map>"u"?!1:C.working?C(S):S instanceof Map}t.isMap=H;function k(S){return l(S)==="[object Set]"}k.working=typeof Set<"u"&&k(new Set);function V(S){return typeof Set>"u"?!1:k.working?k(S):S instanceof Set}t.isSet=V;function Q(S){return l(S)==="[object WeakMap]"}Q.working=typeof WeakMap<"u"&&Q(new WeakMap);function j(S){return typeof WeakMap>"u"?!1:Q.working?Q(S):S instanceof WeakMap}t.isWeakMap=j;function ie(S){return l(S)==="[object WeakSet]"}ie.working=typeof WeakSet<"u"&&ie(new WeakSet);function ee(S){return ie(S)}t.isWeakSet=ee;function le(S){return l(S)==="[object ArrayBuffer]"}le.working=typeof ArrayBuffer<"u"&&le(new ArrayBuffer);function G(S){return typeof ArrayBuffer>"u"?!1:le.working?le(S):S instanceof ArrayBuffer}t.isArrayBuffer=G;function D(S){return l(S)==="[object DataView]"}D.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&D(new DataView(new ArrayBuffer(1),0,1));function $(S){return typeof DataView>"u"?!1:D.working?D(S):S instanceof DataView}t.isDataView=$;var X=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function re(S){return l(S)==="[object SharedArrayBuffer]"}function K(S){return typeof X>"u"?!1:(typeof re.working>"u"&&(re.working=re(new X)),re.working?re(S):S instanceof X)}t.isSharedArrayBuffer=K;function O(S){return l(S)==="[object AsyncFunction]"}t.isAsyncFunction=O;function A(S){return l(S)==="[object Map Iterator]"}t.isMapIterator=A;function W(S){return l(S)==="[object Set Iterator]"}t.isSetIterator=W;function B(S){return l(S)==="[object Generator]"}t.isGeneratorObject=B;function I(S){return l(S)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=I;function L(S){return y(S,u)}t.isNumberObject=L;function Z(S){return y(S,c)}t.isStringObject=Z;function E(S){return y(S,f)}t.isBooleanObject=E;function Y(S){return a&&y(S,d)}t.isBigIntObject=Y;function N(S){return o&&y(S,h)}t.isSymbolObject=N;function p(S){return L(S)||Z(S)||E(S)||Y(S)||N(S)}t.isBoxedPrimitive=p;function g(S){return typeof Uint8Array<"u"&&(G(S)||K(S))}t.isAnyArrayBuffer=g,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(S){Object.defineProperty(t,S,{enumerable:!1,value:function(){throw new Error(S+" is not supported in userland")}})})})(M1)),M1}var R_,G6;function BX(){return G6||(G6=1,R_=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),R_}var $6;function l3(){return $6||($6=1,(function(t){var e=Object.getOwnPropertyDescriptors||function($){for(var X=Object.keys($),re={},K=0;K<X.length;K++)re[X[K]]=Object.getOwnPropertyDescriptor($,X[K]);return re},r=/%[sdj%]/g;t.format=function(D){if(!T(D)){for(var $=[],X=0;X<arguments.length;X++)$.push(a(arguments[X]));return $.join(" ")}for(var X=1,re=arguments,K=re.length,O=String(D).replace(r,function(W){if(W==="%%")return"%";if(X>=K)return W;switch(W){case"%s":return String(re[X++]);case"%d":return Number(re[X++]);case"%j":try{return JSON.stringify(re[X++])}catch{return"[Circular]"}default:return W}}),A=re[X];X<K;A=re[++X])_(A)||!R(A)?O+=" "+A:O+=" "+a(A);return O},t.deprecate=function(D,$){if(typeof Ie<"u"&&Ie.noDeprecation===!0)return D;if(typeof Ie>"u")return function(){return t.deprecate(D,$).apply(this,arguments)};var X=!1;function re(){if(!X){if(Ie.throwDeprecation)throw new Error($);Ie.traceDeprecation?console.trace($):console.error($),X=!0}return D.apply(this,arguments)}return re};var n={},i=/^$/;if(Ie.env.NODE_DEBUG){var s=Ie.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(D){if(D=D.toUpperCase(),!n[D])if(i.test(D)){var $=Ie.pid;n[D]=function(){var X=t.format.apply(t,arguments);console.error("%s %d: %s",D,$,X)}}else n[D]=function(){};return n[D]};function a(D,$){var X={seen:[],stylize:l};return arguments.length>=3&&(X.depth=arguments[2]),arguments.length>=4&&(X.colors=arguments[3]),m($)?X.showHidden=$:$&&t._extend(X,$),M(X.showHidden)&&(X.showHidden=!1),M(X.depth)&&(X.depth=2),M(X.colors)&&(X.colors=!1),M(X.customInspect)&&(X.customInspect=!0),X.colors&&(X.stylize=o),c(X,D,X.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(D,$){var X=a.styles[$];return X?"\x1B["+a.colors[X][0]+"m"+D+"\x1B["+a.colors[X][1]+"m":D}function l(D,$){return D}function u(D){var $={};return D.forEach(function(X,re){$[X]=!0}),$}function c(D,$,X){if(D.customInspect&&$&&C($.inspect)&&$.inspect!==t.inspect&&!($.constructor&&$.constructor.prototype===$)){var re=$.inspect(X,D);return T(re)||(re=c(D,re,X)),re}var K=f(D,$);if(K)return K;var O=Object.keys($),A=u(O);if(D.showHidden&&(O=Object.getOwnPropertyNames($)),oe($)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return d($);if(O.length===0){if(C($)){var W=$.name?": "+$.name:"";return D.stylize("[Function"+W+"]","special")}if(U($))return D.stylize(RegExp.prototype.toString.call($),"regexp");if(J($))return D.stylize(Date.prototype.toString.call($),"date");if(oe($))return d($)}var B="",I=!1,L=["{","}"];if(x($)&&(I=!0,L=["[","]"]),C($)){var Z=$.name?": "+$.name:"";B=" [Function"+Z+"]"}if(U($)&&(B=" "+RegExp.prototype.toString.call($)),J($)&&(B=" "+Date.prototype.toUTCString.call($)),oe($)&&(B=" "+d($)),O.length===0&&(!I||$.length==0))return L[0]+B+L[1];if(X<0)return U($)?D.stylize(RegExp.prototype.toString.call($),"regexp"):D.stylize("[Object]","special");D.seen.push($);var E;return I?E=h(D,$,X,A,O):E=O.map(function(Y){return y(D,$,X,A,Y,I)}),D.seen.pop(),v(E,B,L)}function f(D,$){if(M($))return D.stylize("undefined","undefined");if(T($)){var X="'"+JSON.stringify($).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(X,"string")}if(w($))return D.stylize(""+$,"number");if(m($))return D.stylize(""+$,"boolean");if(_($))return D.stylize("null","null")}function d(D){return"["+Error.prototype.toString.call(D)+"]"}function h(D,$,X,re,K){for(var O=[],A=0,W=$.length;A<W;++A)ie($,String(A))?O.push(y(D,$,X,re,String(A),!0)):O.push("");return K.forEach(function(B){B.match(/^\d+$/)||O.push(y(D,$,X,re,B,!0))}),O}function y(D,$,X,re,K,O){var A,W,B;if(B=Object.getOwnPropertyDescriptor($,K)||{value:$[K]},B.get?B.set?W=D.stylize("[Getter/Setter]","special"):W=D.stylize("[Getter]","special"):B.set&&(W=D.stylize("[Setter]","special")),ie(re,K)||(A="["+K+"]"),W||(D.seen.indexOf(B.value)<0?(_(X)?W=c(D,B.value,null):W=c(D,B.value,X-1),W.indexOf(`
`)>-1&&(O?W=W.split(`
`).map(function(I){return"  "+I}).join(`
`).slice(2):W=`
`+W.split(`
`).map(function(I){return"   "+I}).join(`
`))):W=D.stylize("[Circular]","special")),M(A)){if(O&&K.match(/^\d+$/))return W;A=JSON.stringify(""+K),A.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(A=A.slice(1,-1),A=D.stylize(A,"name")):(A=A.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),A=D.stylize(A,"string"))}return A+": "+W}function v(D,$,X){var re=D.reduce(function(K,O){return O.indexOf(`
`)>=0,K+O.replace(/\u001b\[\d\d?m/g,"").length+1},0);return re>60?X[0]+($===""?"":$+`
 `)+" "+D.join(`,
  `)+" "+X[1]:X[0]+$+" "+D.join(", ")+" "+X[1]}t.types=FX();function x(D){return Array.isArray(D)}t.isArray=x;function m(D){return typeof D=="boolean"}t.isBoolean=m;function _(D){return D===null}t.isNull=_;function b(D){return D==null}t.isNullOrUndefined=b;function w(D){return typeof D=="number"}t.isNumber=w;function T(D){return typeof D=="string"}t.isString=T;function P(D){return typeof D=="symbol"}t.isSymbol=P;function M(D){return D===void 0}t.isUndefined=M;function U(D){return R(D)&&k(D)==="[object RegExp]"}t.isRegExp=U,t.types.isRegExp=U;function R(D){return typeof D=="object"&&D!==null}t.isObject=R;function J(D){return R(D)&&k(D)==="[object Date]"}t.isDate=J,t.types.isDate=J;function oe(D){return R(D)&&(k(D)==="[object Error]"||D instanceof Error)}t.isError=oe,t.types.isNativeError=oe;function C(D){return typeof D=="function"}t.isFunction=C;function H(D){return D===null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||typeof D=="symbol"||typeof D>"u"}t.isPrimitive=H,t.isBuffer=BX();function k(D){return Object.prototype.toString.call(D)}function V(D){return D<10?"0"+D.toString(10):D.toString(10)}var Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var D=new Date,$=[V(D.getHours()),V(D.getMinutes()),V(D.getSeconds())].join(":");return[D.getDate(),Q[D.getMonth()],$].join(" ")}t.log=function(){console.log("%s - %s",j(),t.format.apply(t,arguments))},t.inherits=oi(),t._extend=function(D,$){if(!$||!R($))return D;for(var X=Object.keys($),re=X.length;re--;)D[X[re]]=$[X[re]];return D};function ie(D,$){return Object.prototype.hasOwnProperty.call(D,$)}var ee=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function($){if(typeof $!="function")throw new TypeError('The "original" argument must be of type Function');if(ee&&$[ee]){var X=$[ee];if(typeof X!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(X,ee,{value:X,enumerable:!1,writable:!1,configurable:!0}),X}function X(){for(var re,K,O=new Promise(function(B,I){re=B,K=I}),A=[],W=0;W<arguments.length;W++)A.push(arguments[W]);A.push(function(B,I){B?K(B):re(I)});try{$.apply(this,A)}catch(B){K(B)}return O}return Object.setPrototypeOf(X,Object.getPrototypeOf($)),ee&&Object.defineProperty(X,ee,{value:X,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(X,e($))},t.promisify.custom=ee;function le(D,$){if(!D){var X=new Error("Promise was rejected with a falsy value");X.reason=D,D=X}return $(D)}function G(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');function $(){for(var X=[],re=0;re<arguments.length;re++)X.push(arguments[re]);var K=X.pop();if(typeof K!="function")throw new TypeError("The last argument must be of type Function");var O=this,A=function(){return K.apply(O,arguments)};D.apply(this,X).then(function(W){Ie.nextTick(A.bind(null,null,W))},function(W){Ie.nextTick(le.bind(null,W,A))})}return Object.setPrototypeOf($,Object.getPrototypeOf(D)),Object.defineProperties($,e(D)),$}t.callbackify=G})(D1)),D1}var C_,J6;function UX(){if(J6)return C_;J6=1;function t(d,h){var y=Object.keys(d);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(d);h&&(v=v.filter(function(x){return Object.getOwnPropertyDescriptor(d,x).enumerable})),y.push.apply(y,v)}return y}function e(d){for(var h=1;h<arguments.length;h++){var y=arguments[h]!=null?arguments[h]:{};h%2?t(Object(y),!0).forEach(function(v){r(d,v,y[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(y)):t(Object(y)).forEach(function(v){Object.defineProperty(d,v,Object.getOwnPropertyDescriptor(y,v))})}return d}function r(d,h,y){return h in d?Object.defineProperty(d,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[h]=y,d}function n(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function i(d,h){for(var y=0;y<h.length;y++){var v=h[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}function s(d,h,y){return h&&i(d.prototype,h),d}var a=bd(),o=a.Buffer,l=l3(),u=l.inspect,c=u&&u.custom||"inspect";function f(d,h,y){o.prototype.copy.call(d,h,y)}return C_=(function(){function d(){n(this,d),this.head=null,this.tail=null,this.length=0}return s(d,[{key:"push",value:function(y){var v={data:y,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(y){var v={data:y,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var v=this.head,x=""+v.data;v=v.next;)x+=y+v.data;return x}},{key:"concat",value:function(y){if(this.length===0)return o.alloc(0);for(var v=o.allocUnsafe(y>>>0),x=this.head,m=0;x;)f(x.data,v,m),m+=x.data.length,x=x.next;return v}},{key:"consume",value:function(y,v){var x;return y<this.head.data.length?(x=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?x=this.shift():x=v?this._getString(y):this._getBuffer(y),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var v=this.head,x=1,m=v.data;for(y-=m.length;v=v.next;){var _=v.data,b=y>_.length?_.length:y;if(b===_.length?m+=_:m+=_.slice(0,y),y-=b,y===0){b===_.length?(++x,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=_.slice(b));break}++x}return this.length-=x,m}},{key:"_getBuffer",value:function(y){var v=o.allocUnsafe(y),x=this.head,m=1;for(x.data.copy(v),y-=x.data.length;x=x.next;){var _=x.data,b=y>_.length?_.length:y;if(_.copy(v,v.length-y,0,b),y-=b,y===0){b===_.length?(++m,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=_.slice(b));break}++m}return this.length-=m,v}},{key:c,value:function(y,v){return u(this,e({},v,{depth:0,customInspect:!1}))}}]),d})(),C_}var I_,X6;function u3(){if(X6)return I_;X6=1;function t(a,o){var l=this,u=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return u||c?(o?o(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ie.nextTick(i,this,a)):Ie.nextTick(i,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(f){!o&&f?l._writableState?l._writableState.errorEmitted?Ie.nextTick(r,l):(l._writableState.errorEmitted=!0,Ie.nextTick(e,l,f)):Ie.nextTick(e,l,f):o?(Ie.nextTick(r,l),o(f)):Ie.nextTick(r,l)}),this)}function e(a,o){i(a,o),r(a)}function r(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(a,o){a.emit("error",o)}function s(a,o){var l=a._readableState,u=a._writableState;l&&l.autoDestroy||u&&u.autoDestroy?a.destroy(o):a.emit("error",o)}return I_={destroy:t,undestroy:n,errorOrDestroy:s},I_}var P_={},Y6;function po(){if(Y6)return P_;Y6=1;function t(o,l){o.prototype=Object.create(l.prototype),o.prototype.constructor=o,o.__proto__=l}var e={};function r(o,l,u){u||(u=Error);function c(d,h,y){return typeof l=="string"?l:l(d,h,y)}var f=(function(d){t(h,d);function h(y,v,x){return d.call(this,c(y,v,x))||this}return h})(u);f.prototype.name=u.name,f.prototype.code=o,e[o]=f}function n(o,l){if(Array.isArray(o)){var u=o.length;return o=o.map(function(c){return String(c)}),u>2?"one of ".concat(l," ").concat(o.slice(0,u-1).join(", "),", or ")+o[u-1]:u===2?"one of ".concat(l," ").concat(o[0]," or ").concat(o[1]):"of ".concat(l," ").concat(o[0])}else return"of ".concat(l," ").concat(String(o))}function i(o,l,u){return o.substr(0,l.length)===l}function s(o,l,u){return(u===void 0||u>o.length)&&(u=o.length),o.substring(u-l.length,u)===l}function a(o,l,u){return typeof u!="number"&&(u=0),u+l.length>o.length?!1:o.indexOf(l,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,l){return'The value "'+l+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,l,u){var c;typeof l=="string"&&i(l,"not ")?(c="must not be",l=l.replace(/^not /,"")):c="must be";var f;if(s(o," argument"))f="The ".concat(o," ").concat(c," ").concat(n(l,"type"));else{var d=a(o,".")?"property":"argument";f='The "'.concat(o,'" ').concat(d," ").concat(c," ").concat(n(l,"type"))}return f+=". Received type ".concat(typeof u),f},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),P_.codes=e,P_}var D_,Z6;function c3(){if(Z6)return D_;Z6=1;var t=po().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,a){var o=e(i,a,s);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var l=a?s:"highWaterMark";throw new t(l,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return D_={getHighWaterMark:r},D_}var M_,Q6;function HX(){if(Q6)return M_;Q6=1,M_=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function e(r){try{if(!Qr.localStorage)return!1}catch{return!1}var n=Qr.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return M_}var L_,eL;function f3(){if(eL)return L_;eL=1,L_=U;function t(K){var O=this;this.next=null,this.entry=null,this.finish=function(){re(O,K)}}var e;U.WritableState=P;var r={deprecate:HX()},n=ZL(),i=bd().Buffer,s=Qr.Uint8Array||function(){};function a(K){return i.from(K)}function o(K){return i.isBuffer(K)||K instanceof s}var l=u3(),u=c3(),c=u.getHighWaterMark,f=po().codes,d=f.ERR_INVALID_ARG_TYPE,h=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_MULTIPLE_CALLBACK,v=f.ERR_STREAM_CANNOT_PIPE,x=f.ERR_STREAM_DESTROYED,m=f.ERR_STREAM_NULL_VALUES,_=f.ERR_STREAM_WRITE_AFTER_END,b=f.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;oi()(U,n);function T(){}function P(K,O,A){e=e||fo(),K=K||{},typeof A!="boolean"&&(A=O instanceof e),this.objectMode=!!K.objectMode,A&&(this.objectMode=this.objectMode||!!K.writableObjectMode),this.highWaterMark=c(this,K,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var W=K.decodeStrings===!1;this.decodeStrings=!W,this.defaultEncoding=K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(B){Q(O,B)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=K.emitClose!==!1,this.autoDestroy=!!K.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}P.prototype.getBuffer=function(){for(var O=this.bufferedRequest,A=[];O;)A.push(O),O=O.next;return A},(function(){try{Object.defineProperty(P.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(O){return M.call(this,O)?!0:this!==U?!1:O&&O._writableState instanceof P}})):M=function(O){return O instanceof this};function U(K){e=e||fo();var O=this instanceof e;if(!O&&!M.call(U,this))return new U(K);this._writableState=new P(K,this,O),this.writable=!0,K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.final=="function"&&(this._final=K.final)),n.call(this)}U.prototype.pipe=function(){w(this,new v)};function R(K,O){var A=new _;w(K,A),Ie.nextTick(O,A)}function J(K,O,A,W){var B;return A===null?B=new m:typeof A!="string"&&!O.objectMode&&(B=new d("chunk",["string","Buffer"],A)),B?(w(K,B),Ie.nextTick(W,B),!1):!0}U.prototype.write=function(K,O,A){var W=this._writableState,B=!1,I=!W.objectMode&&o(K);return I&&!i.isBuffer(K)&&(K=a(K)),typeof O=="function"&&(A=O,O=null),I?O="buffer":O||(O=W.defaultEncoding),typeof A!="function"&&(A=T),W.ending?R(this,A):(I||J(this,W,K,A))&&(W.pendingcb++,B=C(this,W,I,K,O,A)),B},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var K=this._writableState;K.corked&&(K.corked--,!K.writing&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&ee(this,K))},U.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new b(O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function oe(K,O,A){return!K.objectMode&&K.decodeStrings!==!1&&typeof O=="string"&&(O=i.from(O,A)),O}Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function C(K,O,A,W,B,I){if(!A){var L=oe(O,W,B);W!==L&&(A=!0,B="buffer",W=L)}var Z=O.objectMode?1:W.length;O.length+=Z;var E=O.length<O.highWaterMark;if(E||(O.needDrain=!0),O.writing||O.corked){var Y=O.lastBufferedRequest;O.lastBufferedRequest={chunk:W,encoding:B,isBuf:A,callback:I,next:null},Y?Y.next=O.lastBufferedRequest:O.bufferedRequest=O.lastBufferedRequest,O.bufferedRequestCount+=1}else H(K,O,!1,Z,W,B,I);return E}function H(K,O,A,W,B,I,L){O.writelen=W,O.writecb=L,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new x("write")):A?K._writev(B,O.onwrite):K._write(B,I,O.onwrite),O.sync=!1}function k(K,O,A,W,B){--O.pendingcb,A?(Ie.nextTick(B,W),Ie.nextTick($,K,O),K._writableState.errorEmitted=!0,w(K,W)):(B(W),K._writableState.errorEmitted=!0,w(K,W),$(K,O))}function V(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}function Q(K,O){var A=K._writableState,W=A.sync,B=A.writecb;if(typeof B!="function")throw new y;if(V(A),O)k(K,A,W,O,B);else{var I=le(A)||K.destroyed;!I&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&ee(K,A),W?Ie.nextTick(j,K,A,I,B):j(K,A,I,B)}}function j(K,O,A,W){A||ie(K,O),O.pendingcb--,W(),$(K,O)}function ie(K,O){O.length===0&&O.needDrain&&(O.needDrain=!1,K.emit("drain"))}function ee(K,O){O.bufferProcessing=!0;var A=O.bufferedRequest;if(K._writev&&A&&A.next){var W=O.bufferedRequestCount,B=new Array(W),I=O.corkedRequestsFree;I.entry=A;for(var L=0,Z=!0;A;)B[L]=A,A.isBuf||(Z=!1),A=A.next,L+=1;B.allBuffers=Z,H(K,O,!0,O.length,B,"",I.finish),O.pendingcb++,O.lastBufferedRequest=null,I.next?(O.corkedRequestsFree=I.next,I.next=null):O.corkedRequestsFree=new t(O),O.bufferedRequestCount=0}else{for(;A;){var E=A.chunk,Y=A.encoding,N=A.callback,p=O.objectMode?1:E.length;if(H(K,O,!1,p,E,Y,N),A=A.next,O.bufferedRequestCount--,O.writing)break}A===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=A,O.bufferProcessing=!1}U.prototype._write=function(K,O,A){A(new h("_write()"))},U.prototype._writev=null,U.prototype.end=function(K,O,A){var W=this._writableState;return typeof K=="function"?(A=K,K=null,O=null):typeof O=="function"&&(A=O,O=null),K!=null&&this.write(K,O),W.corked&&(W.corked=1,this.uncork()),W.ending||X(this,W,A),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function le(K){return K.ending&&K.length===0&&K.bufferedRequest===null&&!K.finished&&!K.writing}function G(K,O){K._final(function(A){O.pendingcb--,A&&w(K,A),O.prefinished=!0,K.emit("prefinish"),$(K,O)})}function D(K,O){!O.prefinished&&!O.finalCalled&&(typeof K._final=="function"&&!O.destroyed?(O.pendingcb++,O.finalCalled=!0,Ie.nextTick(G,K,O)):(O.prefinished=!0,K.emit("prefinish")))}function $(K,O){var A=le(O);if(A&&(D(K,O),O.pendingcb===0&&(O.finished=!0,K.emit("finish"),O.autoDestroy))){var W=K._readableState;(!W||W.autoDestroy&&W.endEmitted)&&K.destroy()}return A}function X(K,O,A){O.ending=!0,$(K,O),A&&(O.finished?Ie.nextTick(A):K.once("finish",A)),O.ended=!0,K.writable=!1}function re(K,O,A){var W=K.entry;for(K.entry=null;W;){var B=W.callback;O.pendingcb--,B(A),W=W.next}O.corkedRequestsFree.next=K}return Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),U.prototype.destroy=l.destroy,U.prototype._undestroy=l.undestroy,U.prototype._destroy=function(K,O){O(K)},L_}var F_,tL;function fo(){if(tL)return F_;tL=1;var t=Object.keys||function(u){var c=[];for(var f in u)c.push(f);return c};F_=a;var e=h3(),r=f3();oi()(a,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];a.prototype[s]||(a.prototype[s]=r.prototype[s])}function a(u){if(!(this instanceof a))return new a(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||Ie.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),F_}var B_={},Pf={exports:{}},rL;function zX(){return rL||(rL=1,(function(t,e){var r=bd(),n=r.Buffer;function i(a,o){for(var l in a)o[l]=a[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(a,o,l){return n(a,o,l)}i(n,s),s.from=function(a,o,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,l)},s.alloc=function(a,o,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=n(a);return o!==void 0?typeof l=="string"?u.fill(o,l):u.fill(o):u.fill(0),u},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(Pf,Pf.exports)),Pf.exports}var nL;function wx(){if(nL)return B_;nL=1;var t=zX().Buffer,e=t.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(m){if(!m)return"utf8";for(var _;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(_)return;m=(""+m).toLowerCase(),_=!0}}function n(m){var _=r(m);if(typeof _!="string"&&(t.isEncoding===e||!e(m)))throw new Error("Unknown encoding: "+m);return _||m}B_.StringDecoder=i;function i(m){this.encoding=n(m);var _;switch(this.encoding){case"utf16le":this.text=f,this.end=d,_=4;break;case"utf8":this.fillLast=l,_=4;break;case"base64":this.text=h,this.end=y,_=3;break;default:this.write=v,this.end=x;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(_)}i.prototype.write=function(m){if(m.length===0)return"";var _,b;if(this.lastNeed){if(_=this.fillLast(m),_===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<m.length?_?_+this.text(m,b):this.text(m,b):_||""},i.prototype.end=c,i.prototype.text=u,i.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function s(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function a(m,_,b){var w=_.length-1;if(w<b)return 0;var T=s(_[w]);return T>=0?(T>0&&(m.lastNeed=T-1),T):--w<b||T===-2?0:(T=s(_[w]),T>=0?(T>0&&(m.lastNeed=T-2),T):--w<b||T===-2?0:(T=s(_[w]),T>=0?(T>0&&(T===2?T=0:m.lastNeed=T-3),T):0))}function o(m,_,b){if((_[0]&192)!==128)return m.lastNeed=0,"\uFFFD";if(m.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return m.lastNeed=1,"\uFFFD";if(m.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return m.lastNeed=2,"\uFFFD"}}function l(m){var _=this.lastTotal-this.lastNeed,b=o(this,m);if(b!==void 0)return b;if(this.lastNeed<=m.length)return m.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,_,0,m.length),this.lastNeed-=m.length}function u(m,_){var b=a(this,m,_);if(!this.lastNeed)return m.toString("utf8",_);this.lastTotal=b;var w=m.length-(b-this.lastNeed);return m.copy(this.lastChar,0,w),m.toString("utf8",_,w)}function c(m){var _=m&&m.length?this.write(m):"";return this.lastNeed?_+"\uFFFD":_}function f(m,_){if((m.length-_)%2===0){var b=m.toString("utf16le",_);if(b){var w=b.charCodeAt(b.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",_,m.length-1)}function d(m){var _=m&&m.length?this.write(m):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,b)}return _}function h(m,_){var b=(m.length-_)%3;return b===0?m.toString("base64",_):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",_,m.length-b))}function y(m){var _=m&&m.length?this.write(m):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function v(m){return m.toString(this.encoding)}function x(m){return m&&m.length?this.write(m):""}return B_}var U_,iL;function gT(){if(iL)return U_;iL=1;var t=po().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var a=!1;return function(){if(!a){a=!0;for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];s.apply(this,l)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,a,o){if(typeof a=="function")return i(s,null,a);a||(a={}),o=e(o||r);var l=a.readable||a.readable!==!1&&s.readable,u=a.writable||a.writable!==!1&&s.writable,c=function(){s.writable||d()},f=s._writableState&&s._writableState.finished,d=function(){u=!1,f=!0,l||o.call(s)},h=s._readableState&&s._readableState.endEmitted,y=function(){l=!1,h=!0,u||o.call(s)},v=function(b){o.call(s,b)},x=function(){var b;if(l&&!h)return(!s._readableState||!s._readableState.ended)&&(b=new t),o.call(s,b);if(u&&!f)return(!s._writableState||!s._writableState.ended)&&(b=new t),o.call(s,b)},m=function(){s.req.on("finish",d)};return n(s)?(s.on("complete",d),s.on("abort",x),s.req?m():s.on("request",m)):u&&!s._writableState&&(s.on("end",c),s.on("close",c)),s.on("end",y),s.on("finish",d),a.error!==!1&&s.on("error",v),s.on("close",x),function(){s.removeListener("complete",d),s.removeListener("abort",x),s.removeListener("request",m),s.req&&s.req.removeListener("finish",d),s.removeListener("end",c),s.removeListener("close",c),s.removeListener("finish",d),s.removeListener("end",y),s.removeListener("error",v),s.removeListener("close",x)}}return U_=i,U_}var H_,sL;function jX(){if(sL)return H_;sL=1;var t;function e(m,_,b){return _ in m?Object.defineProperty(m,_,{value:b,enumerable:!0,configurable:!0,writable:!0}):m[_]=b,m}var r=gT(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),a=Symbol("ended"),o=Symbol("lastPromise"),l=Symbol("handlePromise"),u=Symbol("stream");function c(m,_){return{value:m,done:_}}function f(m){var _=m[n];if(_!==null){var b=m[u].read();b!==null&&(m[o]=null,m[n]=null,m[i]=null,_(c(b,!1)))}}function d(m){Ie.nextTick(f,m)}function h(m,_){return function(b,w){m.then(function(){if(_[a]){b(c(void 0,!0));return}_[l](b,w)},w)}}var y=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((t={get stream(){return this[u]},next:function(){var _=this,b=this[s];if(b!==null)return Promise.reject(b);if(this[a])return Promise.resolve(c(void 0,!0));if(this[u].destroyed)return new Promise(function(M,U){Ie.nextTick(function(){_[s]?U(_[s]):M(c(void 0,!0))})});var w=this[o],T;if(w)T=new Promise(h(w,this));else{var P=this[u].read();if(P!==null)return Promise.resolve(c(P,!1));T=new Promise(this[l])}return this[o]=T,T}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var _=this;return new Promise(function(b,w){_[u].destroy(null,function(T){if(T){w(T);return}b(c(void 0,!0))})})}),t),y),x=function(_){var b,w=Object.create(v,(b={},e(b,u,{value:_,writable:!0}),e(b,n,{value:null,writable:!0}),e(b,i,{value:null,writable:!0}),e(b,s,{value:null,writable:!0}),e(b,a,{value:_._readableState.endEmitted,writable:!0}),e(b,l,{value:function(P,M){var U=w[u].read();U?(w[o]=null,w[n]=null,w[i]=null,P(c(U,!1))):(w[n]=P,w[i]=M)},writable:!0}),b));return w[o]=null,r(_,function(T){if(T&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"){var P=w[i];P!==null&&(w[o]=null,w[n]=null,w[i]=null,P(T)),w[s]=T;return}var M=w[n];M!==null&&(w[o]=null,w[n]=null,w[i]=null,M(c(void 0,!0))),w[a]=!0}),_.on("readable",d.bind(null,w)),w};return H_=x,H_}var z_,oL;function WX(){return oL||(oL=1,z_=function(){throw new Error("Readable.from is not available in the browser")}),z_}var j_,aL;function h3(){if(aL)return j_;aL=1,j_=R;var t;R.ReadableState=U,hT().EventEmitter;var e=function(L,Z){return L.listeners(Z).length},r=ZL(),n=bd().Buffer,i=Qr.Uint8Array||function(){};function s(I){return n.from(I)}function a(I){return n.isBuffer(I)||I instanceof i}var o=l3(),l;o&&o.debuglog?l=o.debuglog("stream"):l=function(){};var u=UX(),c=u3(),f=c3(),d=f.getHighWaterMark,h=po().codes,y=h.ERR_INVALID_ARG_TYPE,v=h.ERR_STREAM_PUSH_AFTER_EOF,x=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,_,b,w;oi()(R,r);var T=c.errorOrDestroy,P=["error","close","destroy","pause","resume"];function M(I,L,Z){if(typeof I.prependListener=="function")return I.prependListener(L,Z);!I._events||!I._events[L]?I.on(L,Z):Array.isArray(I._events[L])?I._events[L].unshift(Z):I._events[L]=[Z,I._events[L]]}function U(I,L,Z){t=t||fo(),I=I||{},typeof Z!="boolean"&&(Z=L instanceof t),this.objectMode=!!I.objectMode,Z&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=d(this,I,"readableHighWaterMark",Z),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(_||(_=wx().StringDecoder),this.decoder=new _(I.encoding),this.encoding=I.encoding)}function R(I){if(t=t||fo(),!(this instanceof R))return new R(I);var L=this instanceof t;this._readableState=new U(I,this,L),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),r.call(this)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),R.prototype.destroy=c.destroy,R.prototype._undestroy=c.undestroy,R.prototype._destroy=function(I,L){L(I)},R.prototype.push=function(I,L){var Z=this._readableState,E;return Z.objectMode?E=!0:typeof I=="string"&&(L=L||Z.defaultEncoding,L!==Z.encoding&&(I=n.from(I,L),L=""),E=!0),J(this,I,L,!1,E)},R.prototype.unshift=function(I){return J(this,I,null,!0,!1)};function J(I,L,Z,E,Y){l("readableAddChunk",L);var N=I._readableState;if(L===null)N.reading=!1,Q(I,N);else{var p;if(Y||(p=C(N,L)),p)T(I,p);else if(N.objectMode||L&&L.length>0)if(typeof L!="string"&&!N.objectMode&&Object.getPrototypeOf(L)!==n.prototype&&(L=s(L)),E)N.endEmitted?T(I,new m):oe(I,N,L,!0);else if(N.ended)T(I,new v);else{if(N.destroyed)return!1;N.reading=!1,N.decoder&&!Z?(L=N.decoder.write(L),N.objectMode||L.length!==0?oe(I,N,L,!1):ee(I,N)):oe(I,N,L,!1)}else E||(N.reading=!1,ee(I,N))}return!N.ended&&(N.length<N.highWaterMark||N.length===0)}function oe(I,L,Z,E){L.flowing&&L.length===0&&!L.sync?(L.awaitDrain=0,I.emit("data",Z)):(L.length+=L.objectMode?1:Z.length,E?L.buffer.unshift(Z):L.buffer.push(Z),L.needReadable&&j(I)),ee(I,L)}function C(I,L){var Z;return!a(L)&&typeof L!="string"&&L!==void 0&&!I.objectMode&&(Z=new y("chunk",["string","Buffer","Uint8Array"],L)),Z}R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function(I){_||(_=wx().StringDecoder);var L=new _(I);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;for(var Z=this._readableState.buffer.head,E="";Z!==null;)E+=L.write(Z.data),Z=Z.next;return this._readableState.buffer.clear(),E!==""&&this._readableState.buffer.push(E),this._readableState.length=E.length,this};var H=1073741824;function k(I){return I>=H?I=H:(I--,I|=I>>>1,I|=I>>>2,I|=I>>>4,I|=I>>>8,I|=I>>>16,I++),I}function V(I,L){return I<=0||L.length===0&&L.ended?0:L.objectMode?1:I!==I?L.flowing&&L.length?L.buffer.head.data.length:L.length:(I>L.highWaterMark&&(L.highWaterMark=k(I)),I<=L.length?I:L.ended?L.length:(L.needReadable=!0,0))}R.prototype.read=function(I){l("read",I),I=parseInt(I,10);var L=this._readableState,Z=I;if(I!==0&&(L.emittedReadable=!1),I===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return l("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?A(this):j(this),null;if(I=V(I,L),I===0&&L.ended)return L.length===0&&A(this),null;var E=L.needReadable;l("need readable",E),(L.length===0||L.length-I<L.highWaterMark)&&(E=!0,l("length less than watermark",E)),L.ended||L.reading?(E=!1,l("reading or ended",E)):E&&(l("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(I=V(Z,L)));var Y;return I>0?Y=O(I,L):Y=null,Y===null?(L.needReadable=L.length<=L.highWaterMark,I=0):(L.length-=I,L.awaitDrain=0),L.length===0&&(L.ended||(L.needReadable=!0),Z!==I&&L.ended&&A(this)),Y!==null&&this.emit("data",Y),Y};function Q(I,L){if(l("onEofChunk"),!L.ended){if(L.decoder){var Z=L.decoder.end();Z&&Z.length&&(L.buffer.push(Z),L.length+=L.objectMode?1:Z.length)}L.ended=!0,L.sync?j(I):(L.needReadable=!1,L.emittedReadable||(L.emittedReadable=!0,ie(I)))}}function j(I){var L=I._readableState;l("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(l("emitReadable",L.flowing),L.emittedReadable=!0,Ie.nextTick(ie,I))}function ie(I){var L=I._readableState;l("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&(L.length||L.ended)&&(I.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,K(I)}function ee(I,L){L.readingMore||(L.readingMore=!0,Ie.nextTick(le,I,L))}function le(I,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){var Z=L.length;if(l("maybeReadMore read 0"),I.read(0),Z===L.length)break}L.readingMore=!1}R.prototype._read=function(I){T(this,new x("_read()"))},R.prototype.pipe=function(I,L){var Z=this,E=this._readableState;switch(E.pipesCount){case 0:E.pipes=I;break;case 1:E.pipes=[E.pipes,I];break;default:E.pipes.push(I);break}E.pipesCount+=1,l("pipe count=%d opts=%j",E.pipesCount,L);var Y=(!L||L.end!==!1)&&I!==Ie.stdout&&I!==Ie.stderr,N=Y?g:fe;E.endEmitted?Ie.nextTick(N):Z.once("end",N),I.on("unpipe",p);function p(pe,ve){l("onunpipe"),pe===Z&&ve&&ve.hasUnpiped===!1&&(ve.hasUnpiped=!0,q())}function g(){l("onend"),I.end()}var S=G(Z);I.on("drain",S);var F=!1;function q(){l("cleanup"),I.removeListener("close",ae),I.removeListener("finish",se),I.removeListener("drain",S),I.removeListener("error",ne),I.removeListener("unpipe",p),Z.removeListener("end",g),Z.removeListener("end",fe),Z.removeListener("data",z),F=!0,E.awaitDrain&&(!I._writableState||I._writableState.needDrain)&&S()}Z.on("data",z);function z(pe){l("ondata");var ve=I.write(pe);l("dest.write",ve),ve===!1&&((E.pipesCount===1&&E.pipes===I||E.pipesCount>1&&B(E.pipes,I)!==-1)&&!F&&(l("false write response, pause",E.awaitDrain),E.awaitDrain++),Z.pause())}function ne(pe){l("onerror",pe),fe(),I.removeListener("error",ne),e(I,"error")===0&&T(I,pe)}M(I,"error",ne);function ae(){I.removeListener("finish",se),fe()}I.once("close",ae);function se(){l("onfinish"),I.removeListener("close",ae),fe()}I.once("finish",se);function fe(){l("unpipe"),Z.unpipe(I)}return I.emit("pipe",Z),E.flowing||(l("pipe resume"),Z.resume()),I};function G(I){return function(){var Z=I._readableState;l("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&e(I,"data")&&(Z.flowing=!0,K(I))}}R.prototype.unpipe=function(I){var L=this._readableState,Z={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return I&&I!==L.pipes?this:(I||(I=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,I&&I.emit("unpipe",this,Z),this);if(!I){var E=L.pipes,Y=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var N=0;N<Y;N++)E[N].emit("unpipe",this,{hasUnpiped:!1});return this}var p=B(L.pipes,I);return p===-1?this:(L.pipes.splice(p,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),I.emit("unpipe",this,Z),this)},R.prototype.on=function(I,L){var Z=r.prototype.on.call(this,I,L),E=this._readableState;return I==="data"?(E.readableListening=this.listenerCount("readable")>0,E.flowing!==!1&&this.resume()):I==="readable"&&!E.endEmitted&&!E.readableListening&&(E.readableListening=E.needReadable=!0,E.flowing=!1,E.emittedReadable=!1,l("on readable",E.length,E.reading),E.length?j(this):E.reading||Ie.nextTick($,this)),Z},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(I,L){var Z=r.prototype.removeListener.call(this,I,L);return I==="readable"&&Ie.nextTick(D,this),Z},R.prototype.removeAllListeners=function(I){var L=r.prototype.removeAllListeners.apply(this,arguments);return(I==="readable"||I===void 0)&&Ie.nextTick(D,this),L};function D(I){var L=I._readableState;L.readableListening=I.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:I.listenerCount("data")>0&&I.resume()}function $(I){l("readable nexttick read 0"),I.read(0)}R.prototype.resume=function(){var I=this._readableState;return I.flowing||(l("resume"),I.flowing=!I.readableListening,X(this,I)),I.paused=!1,this};function X(I,L){L.resumeScheduled||(L.resumeScheduled=!0,Ie.nextTick(re,I,L))}function re(I,L){l("resume",L.reading),L.reading||I.read(0),L.resumeScheduled=!1,I.emit("resume"),K(I),L.flowing&&!L.reading&&I.read(0)}R.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function K(I){var L=I._readableState;for(l("flow",L.flowing);L.flowing&&I.read()!==null;);}R.prototype.wrap=function(I){var L=this,Z=this._readableState,E=!1;I.on("end",function(){if(l("wrapped end"),Z.decoder&&!Z.ended){var p=Z.decoder.end();p&&p.length&&L.push(p)}L.push(null)}),I.on("data",function(p){if(l("wrapped data"),Z.decoder&&(p=Z.decoder.write(p)),!(Z.objectMode&&p==null)&&!(!Z.objectMode&&(!p||!p.length))){var g=L.push(p);g||(E=!0,I.pause())}});for(var Y in I)this[Y]===void 0&&typeof I[Y]=="function"&&(this[Y]=(function(g){return function(){return I[g].apply(I,arguments)}})(Y));for(var N=0;N<P.length;N++)I.on(P[N],this.emit.bind(this,P[N]));return this._read=function(p){l("wrapped _read",p),E&&(E=!1,I.resume())},this},typeof Symbol=="function"&&(R.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=jX()),b(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),R._fromList=O,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function O(I,L){if(L.length===0)return null;var Z;return L.objectMode?Z=L.buffer.shift():!I||I>=L.length?(L.decoder?Z=L.buffer.join(""):L.buffer.length===1?Z=L.buffer.first():Z=L.buffer.concat(L.length),L.buffer.clear()):Z=L.buffer.consume(I,L.decoder),Z}function A(I){var L=I._readableState;l("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,Ie.nextTick(W,L,I))}function W(I,L){if(l("endReadableNT",I.endEmitted,I.length),!I.endEmitted&&I.length===0&&(I.endEmitted=!0,L.readable=!1,L.emit("end"),I.autoDestroy)){var Z=L._writableState;(!Z||Z.autoDestroy&&Z.finished)&&L.destroy()}}typeof Symbol=="function"&&(R.from=function(I,L){return w===void 0&&(w=WX()),w(R,I,L)});function B(I,L){for(var Z=0,E=I.length;Z<E;Z++)if(I[Z]===L)return Z;return-1}return j_}var W_,lL;function d3(){if(lL)return W_;lL=1,W_=o;var t=po().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=fo();oi()(o,s);function a(c,f){var d=this._transformState;d.transforming=!1;var h=d.writecb;if(h===null)return this.emit("error",new r);d.writechunk=null,d.writecb=null,f!=null&&this.push(f),h(c);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function o(c){if(!(this instanceof o))return new o(c);s.call(this,c),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function l(){var c=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,d){u(c,f,d)}):u(this,null,null)}o.prototype.push=function(c,f){return this._transformState.needTransform=!1,s.prototype.push.call(this,c,f)},o.prototype._transform=function(c,f,d){d(new e("_transform()"))},o.prototype._write=function(c,f,d){var h=this._transformState;if(h.writecb=d,h.writechunk=c,h.writeencoding=f,!h.transforming){var y=this._readableState;(h.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},o.prototype._read=function(c){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},o.prototype._destroy=function(c,f){s.prototype._destroy.call(this,c,function(d){f(d)})};function u(c,f,d){if(f)return c.emit("error",f);if(d!=null&&c.push(d),c._writableState.length)throw new i;if(c._transformState.transforming)throw new n;return c.push(null)}return W_}var q_,uL;function qX(){if(uL)return q_;uL=1,q_=e;var t=d3();oi()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},q_}var V_,cL;function VX(){if(cL)return V_;cL=1;var t;function e(d){var h=!1;return function(){h||(h=!0,d.apply(void 0,arguments))}}var r=po().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(d){if(d)throw d}function a(d){return d.setHeader&&typeof d.abort=="function"}function o(d,h,y,v){v=e(v);var x=!1;d.on("close",function(){x=!0}),t===void 0&&(t=gT()),t(d,{readable:h,writable:y},function(_){if(_)return v(_);x=!0,v()});var m=!1;return function(_){if(!x&&!m){if(m=!0,a(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();v(_||new i("pipe"))}}}function l(d){d()}function u(d,h){return d.pipe(h)}function c(d){return!d.length||typeof d[d.length-1]!="function"?s:d.pop()}function f(){for(var d=arguments.length,h=new Array(d),y=0;y<d;y++)h[y]=arguments[y];var v=c(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new n("streams");var x,m=h.map(function(_,b){var w=b<h.length-1,T=b>0;return o(_,w,T,function(P){x||(x=P),P&&m.forEach(l),!w&&(m.forEach(l),v(x))})});return h.reduce(u)}return V_=f,V_}var K_,fL;function vT(){if(fL)return K_;fL=1,K_=r;var t=hT().EventEmitter,e=oi();e(r,t),r.Readable=h3(),r.Writable=f3(),r.Duplex=fo(),r.Transform=d3(),r.PassThrough=qX(),r.finished=gT(),r.pipeline=VX(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(n,i){var s=this;function a(h){n.writable&&n.write(h)===!1&&s.pause&&s.pause()}s.on("data",a);function o(){s.readable&&s.resume&&s.resume()}n.on("drain",o),!n._isStdio&&(!i||i.end!==!1)&&(s.on("end",u),s.on("close",c));var l=!1;function u(){l||(l=!0,n.end())}function c(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function f(h){if(d(),t.listenerCount(this,"error")===0)throw h}s.on("error",f),n.on("error",f);function d(){s.removeListener("data",a),n.removeListener("drain",o),s.removeListener("end",u),s.removeListener("close",c),s.removeListener("error",f),n.removeListener("error",f),s.removeListener("end",d),s.removeListener("close",d),n.removeListener("close",d)}return s.on("end",d),s.on("close",d),n.on("close",d),n.emit("pipe",s),n},K_}var hL;function KX(){return hL||(hL=1,(function(t){(function(e){e.parser=function(O,A){return new n(O,A)},e.SAXParser=n,e.SAXStream=c,e.createStream=u,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(O,A){if(!(this instanceof n))return new n(O,A);var W=this;s(W),W.q=W.c="",W.bufferCheckPosition=e.MAX_BUFFER_LENGTH,W.opt=A||{},W.opt.lowercase=W.opt.lowercase||W.opt.lowercasetags,W.looseCase=W.opt.lowercase?"toLowerCase":"toUpperCase",W.tags=[],W.closed=W.closedRoot=W.sawRoot=!1,W.tag=W.error=null,W.strict=!!O,W.noscript=!!(O||W.opt.noscript),W.state=R.BEGIN,W.strictEntities=W.opt.strictEntities,W.ENTITIES=W.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),W.attribList=[],W.opt.xmlns&&(W.ns=Object.create(v)),W.trackPosition=W.opt.position!==!1,W.trackPosition&&(W.position=W.line=W.column=0),oe(W,"onready")}Object.create||(Object.create=function(O){function A(){}A.prototype=O;var W=new A;return W}),Object.keys||(Object.keys=function(O){var A=[];for(var W in O)O.hasOwnProperty(W)&&A.push(W);return A});function i(O){for(var A=Math.max(e.MAX_BUFFER_LENGTH,10),W=0,B=0,I=r.length;B<I;B++){var L=O[r[B]].length;if(L>A)switch(r[B]){case"textNode":H(O);break;case"cdata":C(O,"oncdata",O.cdata),O.cdata="";break;case"script":C(O,"onscript",O.script),O.script="";break;default:V(O,"Max buffer length exceeded: "+r[B])}W=Math.max(W,L)}var Z=e.MAX_BUFFER_LENGTH-W;O.bufferCheckPosition=Z+O.position}function s(O){for(var A=0,W=r.length;A<W;A++)O[r[A]]=""}function a(O){H(O),O.cdata!==""&&(C(O,"oncdata",O.cdata),O.cdata=""),O.script!==""&&(C(O,"onscript",O.script),O.script="")}n.prototype={end:function(){Q(this)},write:K,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var o;try{o=vT().Stream}catch{o=function(){}}var l=e.EVENTS.filter(function(O){return O!=="error"&&O!=="end"});function u(O,A){return new c(O,A)}function c(O,A){if(!(this instanceof c))return new c(O,A);o.apply(this),this._parser=new n(O,A),this.writable=!0,this.readable=!0;var W=this;this._parser.onend=function(){W.emit("end")},this._parser.onerror=function(B){W.emit("error",B),W._parser.error=null},this._decoder=null,l.forEach(function(B){Object.defineProperty(W,"on"+B,{get:function(){return W._parser["on"+B]},set:function(I){if(!I)return W.removeAllListeners(B),W._parser["on"+B]=I,I;W.on(B,I)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(o.prototype,{constructor:{value:c}}),c.prototype.write=function(O){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(O)){if(!this._decoder){var A=wx().StringDecoder;this._decoder=new A("utf8")}O=this._decoder.write(O)}return this._parser.write(O.toString()),this.emit("data",O),!0},c.prototype.end=function(O){return O&&O.length&&this.write(O),this._parser.end(),!0},c.prototype.on=function(O,A){var W=this;return!W._parser["on"+O]&&l.indexOf(O)!==-1&&(W._parser["on"+O]=function(){var B=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);B.splice(0,0,O),W.emit.apply(W,B)}),o.prototype.on.call(W,O,A)};var f="[CDATA[",d="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",v={xml:h,xmlns:y},x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function w(O){return O===" "||O===`
`||O==="\r"||O==="	"}function T(O){return O==='"'||O==="'"}function P(O){return O===">"||w(O)}function M(O,A){return O.test(A)}function U(O,A){return!M(O,A)}var R=0;e.STATE={BEGIN:R++,BEGIN_WHITESPACE:R++,TEXT:R++,TEXT_ENTITY:R++,OPEN_WAKA:R++,SGML_DECL:R++,SGML_DECL_QUOTED:R++,DOCTYPE:R++,DOCTYPE_QUOTED:R++,DOCTYPE_DTD:R++,DOCTYPE_DTD_QUOTED:R++,COMMENT_STARTING:R++,COMMENT:R++,COMMENT_ENDING:R++,COMMENT_ENDED:R++,CDATA:R++,CDATA_ENDING:R++,CDATA_ENDING_2:R++,PROC_INST:R++,PROC_INST_BODY:R++,PROC_INST_ENDING:R++,OPEN_TAG:R++,OPEN_TAG_SLASH:R++,ATTRIB:R++,ATTRIB_NAME:R++,ATTRIB_NAME_SAW_WHITE:R++,ATTRIB_VALUE:R++,ATTRIB_VALUE_QUOTED:R++,ATTRIB_VALUE_CLOSED:R++,ATTRIB_VALUE_UNQUOTED:R++,ATTRIB_VALUE_ENTITY_Q:R++,ATTRIB_VALUE_ENTITY_U:R++,CLOSE_TAG:R++,CLOSE_TAG_SAW_WHITE:R++,SCRIPT:R++,SCRIPT_ENDING:R++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(O){var A=e.ENTITIES[O],W=typeof A=="number"?String.fromCharCode(A):A;e.ENTITIES[O]=W});for(var J in e.STATE)e.STATE[e.STATE[J]]=J;R=e.STATE;function oe(O,A,W){O[A]&&O[A](W)}function C(O,A,W){O.textNode&&H(O),oe(O,A,W)}function H(O){O.textNode=k(O.opt,O.textNode),O.textNode&&oe(O,"ontext",O.textNode),O.textNode=""}function k(O,A){return O.trim&&(A=A.trim()),O.normalize&&(A=A.replace(/\s+/g," ")),A}function V(O,A){return H(O),O.trackPosition&&(A+=`
Line: `+O.line+`
Column: `+O.column+`
Char: `+O.c),A=new Error(A),O.error=A,oe(O,"onerror",A),O}function Q(O){return O.sawRoot&&!O.closedRoot&&j(O,"Unclosed root tag"),O.state!==R.BEGIN&&O.state!==R.BEGIN_WHITESPACE&&O.state!==R.TEXT&&V(O,"Unexpected end"),H(O),O.c="",O.closed=!0,oe(O,"onend"),n.call(O,O.strict,O.opt),O}function j(O,A){if(typeof O!="object"||!(O instanceof n))throw new Error("bad call to strictFail");O.strict&&V(O,A)}function ie(O){O.strict||(O.tagName=O.tagName[O.looseCase]());var A=O.tags[O.tags.length-1]||O,W=O.tag={name:O.tagName,attributes:{}};O.opt.xmlns&&(W.ns=A.ns),O.attribList.length=0,C(O,"onopentagstart",W)}function ee(O,A){var W=O.indexOf(":"),B=W<0?["",O]:O.split(":"),I=B[0],L=B[1];return A&&O==="xmlns"&&(I="xmlns",L=""),{prefix:I,local:L}}function le(O){if(O.strict||(O.attribName=O.attribName[O.looseCase]()),O.attribList.indexOf(O.attribName)!==-1||O.tag.attributes.hasOwnProperty(O.attribName)){O.attribName=O.attribValue="";return}if(O.opt.xmlns){var A=ee(O.attribName,!0),W=A.prefix,B=A.local;if(W==="xmlns")if(B==="xml"&&O.attribValue!==h)j(O,"xml: prefix must be bound to "+h+`
Actual: `+O.attribValue);else if(B==="xmlns"&&O.attribValue!==y)j(O,"xmlns: prefix must be bound to "+y+`
Actual: `+O.attribValue);else{var I=O.tag,L=O.tags[O.tags.length-1]||O;I.ns===L.ns&&(I.ns=Object.create(L.ns)),I.ns[B]=O.attribValue}O.attribList.push([O.attribName,O.attribValue])}else O.tag.attributes[O.attribName]=O.attribValue,C(O,"onattribute",{name:O.attribName,value:O.attribValue});O.attribName=O.attribValue=""}function G(O,A){if(O.opt.xmlns){var W=O.tag,B=ee(O.tagName);W.prefix=B.prefix,W.local=B.local,W.uri=W.ns[B.prefix]||"",W.prefix&&!W.uri&&(j(O,"Unbound namespace prefix: "+JSON.stringify(O.tagName)),W.uri=B.prefix);var I=O.tags[O.tags.length-1]||O;W.ns&&I.ns!==W.ns&&Object.keys(W.ns).forEach(function(z){C(O,"onopennamespace",{prefix:z,uri:W.ns[z]})});for(var L=0,Z=O.attribList.length;L<Z;L++){var E=O.attribList[L],Y=E[0],N=E[1],p=ee(Y,!0),g=p.prefix,S=p.local,F=g===""?"":W.ns[g]||"",q={name:Y,value:N,prefix:g,local:S,uri:F};g&&g!=="xmlns"&&!F&&(j(O,"Unbound namespace prefix: "+JSON.stringify(g)),q.uri=g),O.tag.attributes[Y]=q,C(O,"onattribute",q)}O.attribList.length=0}O.tag.isSelfClosing=!!A,O.sawRoot=!0,O.tags.push(O.tag),C(O,"onopentag",O.tag),A||(!O.noscript&&O.tagName.toLowerCase()==="script"?O.state=R.SCRIPT:O.state=R.TEXT,O.tag=null,O.tagName=""),O.attribName=O.attribValue="",O.attribList.length=0}function D(O){if(!O.tagName){j(O,"Weird empty close tag."),O.textNode+="</>",O.state=R.TEXT;return}if(O.script){if(O.tagName!=="script"){O.script+="</"+O.tagName+">",O.tagName="",O.state=R.SCRIPT;return}C(O,"onscript",O.script),O.script=""}var A=O.tags.length,W=O.tagName;O.strict||(W=W[O.looseCase]());for(var B=W;A--;){var I=O.tags[A];if(I.name!==B)j(O,"Unexpected close tag");else break}if(A<0){j(O,"Unmatched closing tag: "+O.tagName),O.textNode+="</"+O.tagName+">",O.state=R.TEXT;return}O.tagName=W;for(var L=O.tags.length;L-- >A;){var Z=O.tag=O.tags.pop();O.tagName=O.tag.name,C(O,"onclosetag",O.tagName);var E={};for(var Y in Z.ns)E[Y]=Z.ns[Y];var N=O.tags[O.tags.length-1]||O;O.opt.xmlns&&Z.ns!==N.ns&&Object.keys(Z.ns).forEach(function(p){var g=Z.ns[p];C(O,"onclosenamespace",{prefix:p,uri:g})})}A===0&&(O.closedRoot=!0),O.tagName=O.attribValue=O.attribName="",O.attribList.length=0,O.state=R.TEXT}function $(O){var A=O.entity,W=A.toLowerCase(),B,I="";return O.ENTITIES[A]?O.ENTITIES[A]:O.ENTITIES[W]?O.ENTITIES[W]:(A=W,A.charAt(0)==="#"&&(A.charAt(1)==="x"?(A=A.slice(2),B=parseInt(A,16),I=B.toString(16)):(A=A.slice(1),B=parseInt(A,10),I=B.toString(10))),A=A.replace(/^0+/,""),isNaN(B)||I.toLowerCase()!==A?(j(O,"Invalid character entity"),"&"+O.entity+";"):String.fromCodePoint(B))}function X(O,A){A==="<"?(O.state=R.OPEN_WAKA,O.startTagPosition=O.position):w(A)||(j(O,"Non-whitespace before first tag."),O.textNode=A,O.state=R.TEXT)}function re(O,A){var W="";return A<O.length&&(W=O.charAt(A)),W}function K(O){var A=this;if(this.error)throw this.error;if(A.closed)return V(A,"Cannot write after close. Assign an onready handler.");if(O===null)return Q(A);typeof O=="object"&&(O=O.toString());for(var W=0,B="";B=re(O,W++),A.c=B,!!B;)switch(A.trackPosition&&(A.position++,B===`
`?(A.line++,A.column=0):A.column++),A.state){case R.BEGIN:if(A.state=R.BEGIN_WHITESPACE,B==="\uFEFF")continue;X(A,B);continue;case R.BEGIN_WHITESPACE:X(A,B);continue;case R.TEXT:if(A.sawRoot&&!A.closedRoot){for(var I=W-1;B&&B!=="<"&&B!=="&";)B=re(O,W++),B&&A.trackPosition&&(A.position++,B===`
`?(A.line++,A.column=0):A.column++);A.textNode+=O.substring(I,W-1)}B==="<"&&!(A.sawRoot&&A.closedRoot&&!A.strict)?(A.state=R.OPEN_WAKA,A.startTagPosition=A.position):(!w(B)&&(!A.sawRoot||A.closedRoot)&&j(A,"Text data outside of root node."),B==="&"?A.state=R.TEXT_ENTITY:A.textNode+=B);continue;case R.SCRIPT:B==="<"?A.state=R.SCRIPT_ENDING:A.script+=B;continue;case R.SCRIPT_ENDING:B==="/"?A.state=R.CLOSE_TAG:(A.script+="<"+B,A.state=R.SCRIPT);continue;case R.OPEN_WAKA:if(B==="!")A.state=R.SGML_DECL,A.sgmlDecl="";else if(!w(B))if(M(x,B))A.state=R.OPEN_TAG,A.tagName=B;else if(B==="/")A.state=R.CLOSE_TAG,A.tagName="";else if(B==="?")A.state=R.PROC_INST,A.procInstName=A.procInstBody="";else{if(j(A,"Unencoded <"),A.startTagPosition+1<A.position){var L=A.position-A.startTagPosition;B=new Array(L).join(" ")+B}A.textNode+="<"+B,A.state=R.TEXT}continue;case R.SGML_DECL:(A.sgmlDecl+B).toUpperCase()===f?(C(A,"onopencdata"),A.state=R.CDATA,A.sgmlDecl="",A.cdata=""):A.sgmlDecl+B==="--"?(A.state=R.COMMENT,A.comment="",A.sgmlDecl=""):(A.sgmlDecl+B).toUpperCase()===d?(A.state=R.DOCTYPE,(A.doctype||A.sawRoot)&&j(A,"Inappropriately located doctype declaration"),A.doctype="",A.sgmlDecl=""):B===">"?(C(A,"onsgmldeclaration",A.sgmlDecl),A.sgmlDecl="",A.state=R.TEXT):(T(B)&&(A.state=R.SGML_DECL_QUOTED),A.sgmlDecl+=B);continue;case R.SGML_DECL_QUOTED:B===A.q&&(A.state=R.SGML_DECL,A.q=""),A.sgmlDecl+=B;continue;case R.DOCTYPE:B===">"?(A.state=R.TEXT,C(A,"ondoctype",A.doctype),A.doctype=!0):(A.doctype+=B,B==="["?A.state=R.DOCTYPE_DTD:T(B)&&(A.state=R.DOCTYPE_QUOTED,A.q=B));continue;case R.DOCTYPE_QUOTED:A.doctype+=B,B===A.q&&(A.q="",A.state=R.DOCTYPE);continue;case R.DOCTYPE_DTD:A.doctype+=B,B==="]"?A.state=R.DOCTYPE:T(B)&&(A.state=R.DOCTYPE_DTD_QUOTED,A.q=B);continue;case R.DOCTYPE_DTD_QUOTED:A.doctype+=B,B===A.q&&(A.state=R.DOCTYPE_DTD,A.q="");continue;case R.COMMENT:B==="-"?A.state=R.COMMENT_ENDING:A.comment+=B;continue;case R.COMMENT_ENDING:B==="-"?(A.state=R.COMMENT_ENDED,A.comment=k(A.opt,A.comment),A.comment&&C(A,"oncomment",A.comment),A.comment=""):(A.comment+="-"+B,A.state=R.COMMENT);continue;case R.COMMENT_ENDED:B!==">"?(j(A,"Malformed comment"),A.comment+="--"+B,A.state=R.COMMENT):A.state=R.TEXT;continue;case R.CDATA:B==="]"?A.state=R.CDATA_ENDING:A.cdata+=B;continue;case R.CDATA_ENDING:B==="]"?A.state=R.CDATA_ENDING_2:(A.cdata+="]"+B,A.state=R.CDATA);continue;case R.CDATA_ENDING_2:B===">"?(A.cdata&&C(A,"oncdata",A.cdata),C(A,"onclosecdata"),A.cdata="",A.state=R.TEXT):B==="]"?A.cdata+="]":(A.cdata+="]]"+B,A.state=R.CDATA);continue;case R.PROC_INST:B==="?"?A.state=R.PROC_INST_ENDING:w(B)?A.state=R.PROC_INST_BODY:A.procInstName+=B;continue;case R.PROC_INST_BODY:if(!A.procInstBody&&w(B))continue;B==="?"?A.state=R.PROC_INST_ENDING:A.procInstBody+=B;continue;case R.PROC_INST_ENDING:B===">"?(C(A,"onprocessinginstruction",{name:A.procInstName,body:A.procInstBody}),A.procInstName=A.procInstBody="",A.state=R.TEXT):(A.procInstBody+="?"+B,A.state=R.PROC_INST_BODY);continue;case R.OPEN_TAG:M(m,B)?A.tagName+=B:(ie(A),B===">"?G(A):B==="/"?A.state=R.OPEN_TAG_SLASH:(w(B)||j(A,"Invalid character in tag name"),A.state=R.ATTRIB));continue;case R.OPEN_TAG_SLASH:B===">"?(G(A,!0),D(A)):(j(A,"Forward-slash in opening tag not followed by >"),A.state=R.ATTRIB);continue;case R.ATTRIB:if(w(B))continue;B===">"?G(A):B==="/"?A.state=R.OPEN_TAG_SLASH:M(x,B)?(A.attribName=B,A.attribValue="",A.state=R.ATTRIB_NAME):j(A,"Invalid attribute name");continue;case R.ATTRIB_NAME:B==="="?A.state=R.ATTRIB_VALUE:B===">"?(j(A,"Attribute without value"),A.attribValue=A.attribName,le(A),G(A)):w(B)?A.state=R.ATTRIB_NAME_SAW_WHITE:M(m,B)?A.attribName+=B:j(A,"Invalid attribute name");continue;case R.ATTRIB_NAME_SAW_WHITE:if(B==="=")A.state=R.ATTRIB_VALUE;else{if(w(B))continue;j(A,"Attribute without value"),A.tag.attributes[A.attribName]="",A.attribValue="",C(A,"onattribute",{name:A.attribName,value:""}),A.attribName="",B===">"?G(A):M(x,B)?(A.attribName=B,A.state=R.ATTRIB_NAME):(j(A,"Invalid attribute name"),A.state=R.ATTRIB)}continue;case R.ATTRIB_VALUE:if(w(B))continue;T(B)?(A.q=B,A.state=R.ATTRIB_VALUE_QUOTED):(j(A,"Unquoted attribute value"),A.state=R.ATTRIB_VALUE_UNQUOTED,A.attribValue=B);continue;case R.ATTRIB_VALUE_QUOTED:if(B!==A.q){B==="&"?A.state=R.ATTRIB_VALUE_ENTITY_Q:A.attribValue+=B;continue}le(A),A.q="",A.state=R.ATTRIB_VALUE_CLOSED;continue;case R.ATTRIB_VALUE_CLOSED:w(B)?A.state=R.ATTRIB:B===">"?G(A):B==="/"?A.state=R.OPEN_TAG_SLASH:M(x,B)?(j(A,"No whitespace between attributes"),A.attribName=B,A.attribValue="",A.state=R.ATTRIB_NAME):j(A,"Invalid attribute name");continue;case R.ATTRIB_VALUE_UNQUOTED:if(!P(B)){B==="&"?A.state=R.ATTRIB_VALUE_ENTITY_U:A.attribValue+=B;continue}le(A),B===">"?G(A):A.state=R.ATTRIB;continue;case R.CLOSE_TAG:if(A.tagName)B===">"?D(A):M(m,B)?A.tagName+=B:A.script?(A.script+="</"+A.tagName,A.tagName="",A.state=R.SCRIPT):(w(B)||j(A,"Invalid tagname in closing tag"),A.state=R.CLOSE_TAG_SAW_WHITE);else{if(w(B))continue;U(x,B)?A.script?(A.script+="</"+B,A.state=R.SCRIPT):j(A,"Invalid tagname in closing tag."):A.tagName=B}continue;case R.CLOSE_TAG_SAW_WHITE:if(w(B))continue;B===">"?D(A):j(A,"Invalid characters in closing tag");continue;case R.TEXT_ENTITY:case R.ATTRIB_VALUE_ENTITY_Q:case R.ATTRIB_VALUE_ENTITY_U:var Z,E;switch(A.state){case R.TEXT_ENTITY:Z=R.TEXT,E="textNode";break;case R.ATTRIB_VALUE_ENTITY_Q:Z=R.ATTRIB_VALUE_QUOTED,E="attribValue";break;case R.ATTRIB_VALUE_ENTITY_U:Z=R.ATTRIB_VALUE_UNQUOTED,E="attribValue";break}B===";"?(A[E]+=$(A),A.entity="",A.state=Z):M(A.entity.length?b:_,B)?A.entity+=B:(j(A,"Invalid character in entity name"),A[E]+="&"+A.entity+B,A.entity="",A.state=Z);continue;default:throw new Error(A,"Unknown state: "+A.state)}return A.position>=A.bufferCheckPosition&&i(A),A}String.fromCodePoint||(function(){var O=String.fromCharCode,A=Math.floor,W=function(){var B=16384,I=[],L,Z,E=-1,Y=arguments.length;if(!Y)return"";for(var N="";++E<Y;){var p=Number(arguments[E]);if(!isFinite(p)||p<0||p>1114111||A(p)!==p)throw RangeError("Invalid code point: "+p);p<=65535?I.push(p):(p-=65536,L=(p>>10)+55296,Z=p%1024+56320,I.push(L,Z)),(E+1===Y||I.length>B)&&(N+=O.apply(null,I),I.length=0)}return N};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:W,configurable:!0,writable:!0}):String.fromCodePoint=W})()})(t)})(C1)),C1}var G_,dL;function yT(){return dL||(dL=1,G_={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),G_}var $_,pL;function wT(){if(pL)return $_;pL=1;var t=yT().isArray;return $_={copyOptions:function(e){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},ensureFlagExists:function(e,r){(!(e in r)||typeof r[e]!="boolean")&&(r[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,r){(!(e+"Key"in r)||typeof r[e+"Key"]!="string")&&(r[e+"Key"]=r.compact?"_"+e:e)},checkFnExists:function(e,r){return e+"Fn"in r}},$_}var J_,mL;function p3(){if(mL)return J_;mL=1;var t=KX(),e=wT(),r=yT().isArray,n,i;function s(m){return n=e.copyOptions(m),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function a(m){var _=Number(m);if(!isNaN(_))return _;var b=m.toLowerCase();return b==="true"?!0:b==="false"?!1:m}function o(m,_){var b;if(n.compact){if(!i[n[m+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[m+"Key"])!==-1:n.alwaysArray)&&(i[n[m+"Key"]]=[]),i[n[m+"Key"]]&&!r(i[n[m+"Key"]])&&(i[n[m+"Key"]]=[i[n[m+"Key"]]]),m+"Fn"in n&&typeof _=="string"&&(_=n[m+"Fn"](_,i)),m==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(b in _)if(_.hasOwnProperty(b))if("instructionFn"in n)_[b]=n.instructionFn(_[b],b,i);else{var w=_[b];delete _[b],_[n.instructionNameFn(b,w,i)]=w}}r(i[n[m+"Key"]])?i[n[m+"Key"]].push(_):i[n[m+"Key"]]=_}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var T={};if(T[n.typeKey]=m,m==="instruction"){for(b in _)if(_.hasOwnProperty(b))break;T[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(b,_,i):b,n.instructionHasAttributes?(T[n.attributesKey]=_[b][n.attributesKey],"instructionFn"in n&&(T[n.attributesKey]=n.instructionFn(T[n.attributesKey],b,i))):("instructionFn"in n&&(_[b]=n.instructionFn(_[b],b,i)),T[n.instructionKey]=_[b])}else m+"Fn"in n&&(_=n[m+"Fn"](_,i)),T[n[m+"Key"]]=_;n.addParent&&(T[n.parentKey]=i),i[n.elementsKey].push(T)}}function l(m){if("attributesFn"in n&&m&&(m=n.attributesFn(m,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&m){var _;for(_ in m)if(m.hasOwnProperty(_)&&(n.trim&&(m[_]=m[_].trim()),n.nativeTypeAttributes&&(m[_]=a(m[_])),"attributeValueFn"in n&&(m[_]=n.attributeValueFn(m[_],_,i)),"attributeNameFn"in n)){var b=m[_];delete m[_],m[n.attributeNameFn(_,m[_],i)]=b}}return m}function u(m){var _={};if(m.body&&(m.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var b=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,w;(w=b.exec(m.body))!==null;)_[w[1]]=w[2]||w[3]||w[4];_=l(_)}if(m.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(_).length&&(i[n.declarationKey][n.attributesKey]=_),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(m.body=m.body.trim());var T={};n.instructionHasAttributes&&Object.keys(_).length?(T[m.name]={},T[m.name][n.attributesKey]=_):T[m.name]=m.body,o("instruction",T)}}function c(m,_){var b;if(typeof m=="object"&&(_=m.attributes,m=m.name),_=l(_),"elementNameFn"in n&&(m=n.elementNameFn(m,i)),n.compact){if(b={},!n.ignoreAttributes&&_&&Object.keys(_).length){b[n.attributesKey]={};var w;for(w in _)_.hasOwnProperty(w)&&(b[n.attributesKey][w]=_[w])}!(m in i)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(m)!==-1:n.alwaysArray)&&(i[m]=[]),i[m]&&!r(i[m])&&(i[m]=[i[m]]),r(i[m])?i[m].push(b):i[m]=b}else i[n.elementsKey]||(i[n.elementsKey]=[]),b={},b[n.typeKey]="element",b[n.nameKey]=m,!n.ignoreAttributes&&_&&Object.keys(_).length&&(b[n.attributesKey]=_),n.alwaysChildren&&(b[n.elementsKey]=[]),i[n.elementsKey].push(b);b[n.parentKey]=i,i=b}function f(m){n.ignoreText||!m.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(m=m.trim()),n.nativeType&&(m=a(m)),n.sanitize&&(m=m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o("text",m))}function d(m){n.ignoreComment||(n.trim&&(m=m.trim()),o("comment",m))}function h(m){var _=i[n.parentKey];n.addParent||delete i[n.parentKey],i=_}function y(m){n.ignoreCdata||(n.trim&&(m=m.trim()),o("cdata",m))}function v(m){n.ignoreDoctype||(m=m.replace(/^ /,""),n.trim&&(m=m.trim()),o("doctype",m))}function x(m){m.note=m}return J_=function(m,_){var b=t.parser(!0,{}),w={};if(i=w,n=s(_),b.opt={strictEntities:!0},b.onopentag=c,b.ontext=f,b.oncomment=d,b.onclosetag=h,b.onerror=x,b.oncdata=y,b.ondoctype=v,b.onprocessinginstruction=u,b.write(m).close(),w[n.elementsKey]){var T=w[n.elementsKey];delete w[n.elementsKey],w[n.elementsKey]=T,delete w.text}return w},J_}var X_,gL;function GX(){if(gL)return X_;gL=1;var t=wT(),e=p3();function r(n){var i=t.copyOptions(n);return t.ensureSpacesExists(i),i}return X_=function(n,i){var s,a,o,l;return s=r(i),a=e(n,s),l="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?o=JSON.stringify(a,function(u,c){return u===l?"_":c},s.spaces):o=JSON.stringify(a,null,s.spaces),o.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},X_}var Y_,vL;function m3(){if(vL)return Y_;vL=1;var t=wT(),e=yT().isArray,r,n;function i(b){var w=t.copyOptions(b);return t.ensureFlagExists("ignoreDeclaration",w),t.ensureFlagExists("ignoreInstruction",w),t.ensureFlagExists("ignoreAttributes",w),t.ensureFlagExists("ignoreText",w),t.ensureFlagExists("ignoreComment",w),t.ensureFlagExists("ignoreCdata",w),t.ensureFlagExists("ignoreDoctype",w),t.ensureFlagExists("compact",w),t.ensureFlagExists("indentText",w),t.ensureFlagExists("indentCdata",w),t.ensureFlagExists("indentAttributes",w),t.ensureFlagExists("indentInstruction",w),t.ensureFlagExists("fullTagEmptyElement",w),t.ensureFlagExists("noQuotesForNativeAttributes",w),t.ensureSpacesExists(w),typeof w.spaces=="number"&&(w.spaces=Array(w.spaces+1).join(" ")),t.ensureKeyExists("declaration",w),t.ensureKeyExists("instruction",w),t.ensureKeyExists("attributes",w),t.ensureKeyExists("text",w),t.ensureKeyExists("comment",w),t.ensureKeyExists("cdata",w),t.ensureKeyExists("doctype",w),t.ensureKeyExists("type",w),t.ensureKeyExists("name",w),t.ensureKeyExists("elements",w),t.checkFnExists("doctype",w),t.checkFnExists("instruction",w),t.checkFnExists("cdata",w),t.checkFnExists("comment",w),t.checkFnExists("text",w),t.checkFnExists("instructionName",w),t.checkFnExists("elementName",w),t.checkFnExists("attributeName",w),t.checkFnExists("attributeValue",w),t.checkFnExists("attributes",w),t.checkFnExists("fullTagEmptyElement",w),w}function s(b,w,T){return(!T&&b.spaces?`
`:"")+Array(w+1).join(b.spaces)}function a(b,w,T){if(w.ignoreAttributes)return"";"attributesFn"in w&&(b=w.attributesFn(b,n,r));var P,M,U,R,J=[];for(P in b)b.hasOwnProperty(P)&&b[P]!==null&&b[P]!==void 0&&(R=w.noQuotesForNativeAttributes&&typeof b[P]!="string"?"":'"',M=""+b[P],M=M.replace(/"/g,"&quot;"),U="attributeNameFn"in w?w.attributeNameFn(P,M,n,r):P,J.push(w.spaces&&w.indentAttributes?s(w,T+1,!1):" "),J.push(U+"="+R+("attributeValueFn"in w?w.attributeValueFn(M,P,n,r):M)+R));return b&&Object.keys(b).length&&w.spaces&&w.indentAttributes&&J.push(s(w,T,!1)),J.join("")}function o(b,w,T){return r=b,n="xml",w.ignoreDeclaration?"":"<?xml"+a(b[w.attributesKey],w,T)+"?>"}function l(b,w,T){if(w.ignoreInstruction)return"";var P;for(P in b)if(b.hasOwnProperty(P))break;var M="instructionNameFn"in w?w.instructionNameFn(P,b[P],n,r):P;if(typeof b[P]=="object")return r=b,n=M,"<?"+M+a(b[P][w.attributesKey],w,T)+"?>";var U=b[P]?b[P]:"";return"instructionFn"in w&&(U=w.instructionFn(U,P,n,r)),"<?"+M+(U?" "+U:"")+"?>"}function u(b,w){return w.ignoreComment?"":"<!--"+("commentFn"in w?w.commentFn(b,n,r):b)+"-->"}function c(b,w){return w.ignoreCdata?"":"<![CDATA["+("cdataFn"in w?w.cdataFn(b,n,r):b.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function f(b,w){return w.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in w?w.doctypeFn(b,n,r):b)+">"}function d(b,w){return w.ignoreText?"":(b=""+b,b=b.replace(/&amp;/g,"&"),b=b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in w?w.textFn(b,n,r):b)}function h(b,w){var T;if(b.elements&&b.elements.length)for(T=0;T<b.elements.length;++T)switch(b.elements[T][w.typeKey]){case"text":if(w.indentText)return!0;break;case"cdata":if(w.indentCdata)return!0;break;case"instruction":if(w.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function y(b,w,T){r=b,n=b.name;var P=[],M="elementNameFn"in w?w.elementNameFn(b.name,b):b.name;P.push("<"+M),b[w.attributesKey]&&P.push(a(b[w.attributesKey],w,T));var U=b[w.elementsKey]&&b[w.elementsKey].length||b[w.attributesKey]&&b[w.attributesKey]["xml:space"]==="preserve";return U||("fullTagEmptyElementFn"in w?U=w.fullTagEmptyElementFn(b.name,b):U=w.fullTagEmptyElement),U?(P.push(">"),b[w.elementsKey]&&b[w.elementsKey].length&&(P.push(v(b[w.elementsKey],w,T+1)),r=b,n=b.name),P.push(w.spaces&&h(b,w)?`
`+Array(T+1).join(w.spaces):""),P.push("</"+M+">")):P.push("/>"),P.join("")}function v(b,w,T,P){return b.reduce(function(M,U){var R=s(w,T,P&&!M);switch(U.type){case"element":return M+R+y(U,w,T);case"comment":return M+R+u(U[w.commentKey],w);case"doctype":return M+R+f(U[w.doctypeKey],w);case"cdata":return M+(w.indentCdata?R:"")+c(U[w.cdataKey],w);case"text":return M+(w.indentText?R:"")+d(U[w.textKey],w);case"instruction":var J={};return J[U[w.nameKey]]=U[w.attributesKey]?U:U[w.instructionKey],M+(w.indentInstruction?R:"")+l(J,w,T)}},"")}function x(b,w,T){var P;for(P in b)if(b.hasOwnProperty(P))switch(P){case w.parentKey:case w.attributesKey:break;case w.textKey:if(w.indentText||T)return!0;break;case w.cdataKey:if(w.indentCdata||T)return!0;break;case w.instructionKey:if(w.indentInstruction||T)return!0;break;case w.doctypeKey:case w.commentKey:return!0;default:return!0}return!1}function m(b,w,T,P,M){r=b,n=w;var U="elementNameFn"in T?T.elementNameFn(w,b):w;if(typeof b>"u"||b===null||b==="")return"fullTagEmptyElementFn"in T&&T.fullTagEmptyElementFn(w,b)||T.fullTagEmptyElement?"<"+U+"></"+U+">":"<"+U+"/>";var R=[];if(w){if(R.push("<"+U),typeof b!="object")return R.push(">"+d(b,T)+"</"+U+">"),R.join("");b[T.attributesKey]&&R.push(a(b[T.attributesKey],T,P));var J=x(b,T,!0)||b[T.attributesKey]&&b[T.attributesKey]["xml:space"]==="preserve";if(J||("fullTagEmptyElementFn"in T?J=T.fullTagEmptyElementFn(w,b):J=T.fullTagEmptyElement),J)R.push(">");else return R.push("/>"),R.join("")}return R.push(_(b,T,P+1,!1)),r=b,n=w,w&&R.push((M?s(T,P,!1):"")+"</"+U+">"),R.join("")}function _(b,w,T,P){var M,U,R,J=[];for(U in b)if(b.hasOwnProperty(U))for(R=e(b[U])?b[U]:[b[U]],M=0;M<R.length;++M){switch(U){case w.declarationKey:J.push(o(R[M],w,T));break;case w.instructionKey:J.push((w.indentInstruction?s(w,T,P):"")+l(R[M],w,T));break;case w.attributesKey:case w.parentKey:break;case w.textKey:J.push((w.indentText?s(w,T,P):"")+d(R[M],w));break;case w.cdataKey:J.push((w.indentCdata?s(w,T,P):"")+c(R[M],w));break;case w.doctypeKey:J.push(s(w,T,P)+f(R[M],w));break;case w.commentKey:J.push(s(w,T,P)+u(R[M],w));break;default:J.push(s(w,T,P)+m(R[M],U,w,T,x(R[M],w)))}P=P&&!J.length}return J.join("")}return Y_=function(b,w){w=i(w);var T=[];return r=b,n="_root_",w.compact?T.push(_(b,w,0,!0)):(b[w.declarationKey]&&T.push(o(b[w.declarationKey],w,0)),b[w.elementsKey]&&b[w.elementsKey].length&&T.push(v(b[w.elementsKey],w,0,!T.length))),T.join("")},Y_}var Z_,yL;function $X(){if(yL)return Z_;yL=1;var t=m3();return Z_=function(e,r){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return t(n,r)},Z_}var Q_,wL;function JX(){if(wL)return Q_;wL=1;var t=p3(),e=GX(),r=m3(),n=$X();return Q_={xml2js:t,xml2json:e,js2xml:r,json2xml:n},Q_}var xd=JX(),Ed=t=>{switch(t.type){case void 0:case"element":let e=new Uf(t.name,t.attributes),r=t.elements||[];for(let n of r){let i=Ed(n);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}},bx=class extends we{},Uf=class extends ue{static fromXmlString(e){let r=xd.xml2js(e,{compact:!1});return Ed(r)}constructor(e,r){super(e),r&&this.root.push(new bx(r))}push(e){this.root.push(e)}},Hf=class extends ue{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}},XX="",al=class extends ue{constructor(e,r){super(e),r&&(this.root=r.root)}},vt=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},Nl=t=>{let e=vt(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},Sd=(t,e)=>{let r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},YX=t=>Sd(t,4),g3=t=>Sd(t,2),_x=t=>Sd(t,1),Rl=t=>{let e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},bT=t=>{let e=Rl(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Gi=t=>{if(t==="auto")return t;let e=t.charAt(0)==="#"?t.substring(1):t;return Sd(e,3)},en=t=>typeof t=="string"?Rl(t):vt(t),v3=t=>typeof t=="string"?bT(t):Nl(t),ZX=t=>typeof t=="string"?Rl(t):vt(t),lt=t=>typeof t=="string"?bT(t):Nl(t),y3=t=>{let e=t.substring(0,t.length-1);return`${Number(e)}%`},_T=t=>typeof t=="number"?vt(t):t.slice(-1)==="%"?y3(t):Rl(t),w3=Nl,b3=Nl,_3=t=>t.toISOString(),me=class extends ue{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new Ve({val:r}))}},so=class extends ue{constructor(e,r){super(e),this.root.push(new Ve({val:v3(r)}))}},ut=class extends ue{},Tr=class extends ue{constructor(e,r){super(e),this.root.push(new Ve({val:r}))}},ro=(t,e)=>new ke({name:t,attributes:{value:{key:"w:val",value:e}}}),ii=class extends ue{constructor(e,r){super(e),this.root.push(new Ve({val:r}))}},zf=class extends ue{constructor(e,r){super(e),this.root.push(new Ve({val:r}))}},Zr=class extends ue{constructor(e,r){super(e),this.root.push(r)}},ke=class extends ue{constructor({name:e,attributes:r,children:n}){super(e),r&&this.root.push(new Xt(r)),n&&this.root.push(...n)}},Er={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"},jf=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}},ll=class extends ue{constructor(e){super("w:jc"),this.root.push(new jf({val:e}))}},Be=class extends ue{constructor(e,{color:r,size:n,space:i,style:s}){super(e),this.root.push(new xx({style:s,color:r===void 0?void 0:Gi(r),size:n===void 0?void 0:w3(n),space:i===void 0?void 0:b3(i)}))}},xx=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}},kd={SINGLE:"single",DASH_DOT_STROKED:"dashDotStroked",DASHED:"dashed",DASH_SMALL_GAP:"dashSmallGap",DOT_DASH:"dotDash",DOT_DOT_DASH:"dotDotDash",DOTTED:"dotted",DOUBLE:"double",DOUBLE_WAVE:"doubleWave",INSET:"inset",NIL:"nil",NONE:"none",OUTSET:"outset",THICK:"thick",THICK_THIN_LARGE_GAP:"thickThinLargeGap",THICK_THIN_MEDIUM_GAP:"thickThinMediumGap",THICK_THIN_SMALL_GAP:"thickThinSmallGap",THIN_THICK_LARGE_GAP:"thinThickLargeGap",THIN_THICK_MEDIUM_GAP:"thinThickMediumGap",THIN_THICK_SMALL_GAP:"thinThickSmallGap",THIN_THICK_THIN_LARGE_GAP:"thinThickThinLargeGap",THIN_THICK_THIN_MEDIUM_GAP:"thinThickThinMediumGap",THIN_THICK_THIN_SMALL_GAP:"thinThickThinSmallGap",THREE_D_EMBOSS:"threeDEmboss",THREE_D_ENGRAVE:"threeDEngrave",TRIPLE:"triple",WAVE:"wave"},Wf=class extends cr{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Be("w:top",e.top)),e.bottom&&this.root.push(new Be("w:bottom",e.bottom)),e.left&&this.root.push(new Be("w:left",e.left)),e.right&&this.root.push(new Be("w:right",e.right))}},qf=class extends ue{constructor(){super("w:pBdr");let e=new Be("w:bottom",{color:"auto",space:1,style:kd.SINGLE,size:6});this.root.push(e)}},Vf=class extends ue{constructor({start:e,end:r,left:n,right:i,hanging:s,firstLine:a}){super("w:ind"),this.root.push(new Xt({start:{key:"w:start",value:e===void 0?void 0:en(e)},end:{key:"w:end",value:r===void 0?void 0:en(r)},left:{key:"w:left",value:n===void 0?void 0:en(n)},right:{key:"w:right",value:i===void 0?void 0:en(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:lt(s)},firstLine:{key:"w:firstLine",value:a===void 0?void 0:lt(a)}}))}},x3=class extends ue{constructor(){super("w:br")}},xT={BEGIN:"begin",END:"end",SEPARATE:"separate"},ul=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}},lr=class extends ue{constructor(e){super("w:fldChar"),this.root.push(new ul({type:xT.BEGIN,dirty:e}))}},kr=class extends ue{constructor(e){super("w:fldChar"),this.root.push(new ul({type:xT.SEPARATE,dirty:e}))}},ur=class extends ue{constructor(e){super("w:fldChar"),this.root.push(new ul({type:xT.END,dirty:e}))}},QX={CENTER:"center",INSIDE:"inside",LEFT:"left",OUTSIDE:"outside",RIGHT:"right"},eY={BOTTOM:"bottom",CENTER:"center",INSIDE:"inside",OUTSIDE:"outside",TOP:"top"},tY={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH_DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH_2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULL_STOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PAREN:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_TEN_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL_2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW_1:"hebrew1",HEBREW_2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText"},Yt={DEFAULT:"default",PRESERVE:"preserve"},Ht=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{space:"xml:space"})}},Ex=class extends ue{constructor(){super("w:instrText"),this.root.push(new Ht({space:Yt.PRESERVE})),this.root.push("PAGE")}},Sx=class extends ue{constructor(){super("w:instrText"),this.root.push(new Ht({space:Yt.PRESERVE})),this.root.push("NUMPAGES")}},kx=class extends ue{constructor(){super("w:instrText"),this.root.push(new Ht({space:Yt.PRESERVE})),this.root.push("SECTIONPAGES")}},Tx=class extends ue{constructor(){super("w:instrText"),this.root.push(new Ht({space:Yt.PRESERVE})),this.root.push("SECTION")}},Ax=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}},$i=class extends ue{constructor({fill:e,color:r,type:n}){super("w:shd"),this.root.push(new Ax({fill:e===void 0?void 0:Gi(e),color:r===void 0?void 0:Gi(r),type:n}))}},rY={CLEAR:"clear",DIAGONAL_CROSS:"diagCross",DIAGONAL_STRIPE:"diagStripe",HORIZONTAL_CROSS:"horzCross",HORIZONTAL_STRIPE:"horzStripe",NIL:"nil",PERCENT_5:"pct5",PERCENT_10:"pct10",PERCENT_12:"pct12",PERCENT_15:"pct15",PERCENT_20:"pct20",PERCENT_25:"pct25",PERCENT_30:"pct30",PERCENT_35:"pct35",PERCENT_37:"pct37",PERCENT_40:"pct40",PERCENT_45:"pct45",PERCENT_50:"pct50",PERCENT_55:"pct55",PERCENT_60:"pct60",PERCENT_62:"pct62",PERCENT_65:"pct65",PERCENT_70:"pct70",PERCENT_75:"pct75",PERCENT_80:"pct80",PERCENT_85:"pct85",PERCENT_87:"pct87",PERCENT_90:"pct90",PERCENT_95:"pct95",REVERSE_DIAGONAL_STRIPE:"reverseDiagStripe",SOLID:"solid",THIN_DIAGONAL_CROSS:"thinDiagCross",THIN_DIAGONAL_STRIPE:"thinDiagStripe",THIN_HORIZONTAL_CROSS:"thinHorzCross",THIN_REVERSE_DIAGONAL_STRIPE:"thinReverseDiagStripe",THIN_VERTICAL_STRIPE:"thinVertStripe",VERTICAL_STRIPE:"vertStripe"},cl=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}},ET={DOT:"dot"},fl=class extends ue{constructor(e){super("w:em"),this.root.push(new Ve({val:e}))}},Kf=class extends fl{constructor(e=ET.DOT){super(e)}},Ox=class extends fl{constructor(){super(ET.DOT)}},Nx=class extends ue{constructor(e){super("w:spacing"),this.root.push(new Ve({val:en(e)}))}},Rx=class extends ue{constructor(e){super("w:color"),this.root.push(new Ve({val:Gi(e)}))}},Cx=class extends ue{constructor(e){super("w:highlight"),this.root.push(new Ve({val:e}))}},Ix=class extends ue{constructor(e){super("w:highlightCs"),this.root.push(new Ve({val:e}))}},nY=t=>new ke({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}}),Gf=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}},oo=class extends ue{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){let n=e;this.root.push(new Gf({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{let n=e;this.root.push(new Gf(n))}}},E3=class extends ue{constructor(e){super("w:vertAlign"),this.root.push(new Ve({val:e}))}},Px=class extends E3{constructor(){super("superscript")}},Dx=class extends E3{constructor(){super("subscript")}},ST={SINGLE:"single",WORDS:"words",DOUBLE:"double",THICK:"thick",DOTTED:"dotted",DOTTEDHEAVY:"dottedHeavy",DASH:"dash",DASHEDHEAVY:"dashedHeavy",DASHLONG:"dashLong",DASHLONGHEAVY:"dashLongHeavy",DOTDASH:"dotDash",DASHDOTHEAVY:"dashDotHeavy",DOTDOTDASH:"dotDotDash",DASHDOTDOTHEAVY:"dashDotDotHeavy",WAVE:"wave",WAVYHEAVY:"wavyHeavy",WAVYDOUBLE:"wavyDouble",NONE:"none"},$f=class extends ue{constructor(e=ST.SINGLE,r){super("w:u"),this.root.push(new Ve({val:e,color:r===void 0?void 0:Gi(r)}))}},iY={BLINK_BACKGROUND:"blinkBackground",LIGHTS:"lights",ANTS_BLACK:"antsBlack",ANTS_RED:"antsRed",SHIMMER:"shimmer",SPARKLE:"sparkle",NONE:"none"},sY={BLACK:"black",BLUE:"blue",CYAN:"cyan",DARK_BLUE:"darkBlue",DARK_CYAN:"darkCyan",DARK_GRAY:"darkGray",DARK_GREEN:"darkGreen",DARK_MAGENTA:"darkMagenta",DARK_RED:"darkRed",DARK_YELLOW:"darkYellow",GREEN:"green",LIGHT_GRAY:"lightGray",MAGENTA:"magenta",NONE:"none",RED:"red",WHITE:"white",YELLOW:"yellow"},Ar=class extends cr{constructor(e){var r,n;if(super("w:rPr"),!e)return;e.style&&this.push(new Tr("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new oo(e.font)):"name"in e.font?this.push(new oo(e.font.name,e.font.hint)):this.push(new oo(e.font))),e.bold!==void 0&&this.push(new me("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new me("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new me("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new me("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new me("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new me("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new me("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new me("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new me("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new me("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new me("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new me("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new me("w:vanish",e.vanish)),e.color&&this.push(new Rx(e.color)),e.characterSpacing&&this.push(new Nx(e.characterSpacing)),e.scale!==void 0&&this.push(new ii("w:w",e.scale)),e.kern&&this.push(new so("w:kern",e.kern)),e.position&&this.push(new Tr("w:position",e.position)),e.size!==void 0&&this.push(new so("w:sz",e.size));let i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new so("w:szCs",i)),e.highlight&&this.push(new Cx(e.highlight));let s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new Ix(s)),e.underline&&this.push(new $f(e.underline.type,e.underline.color)),e.effect&&this.push(new Tr("w:effect",e.effect)),e.border&&this.push(new Be("w:bdr",e.border)),e.shading&&this.push(new $i(e.shading)),e.subScript&&this.push(new Dx),e.superScript&&this.push(new Px),e.rightToLeft!==void 0&&this.push(new me("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new Kf(e.emphasisMark.type)),e.language&&this.push(nY(e.language)),e.specVanish&&this.push(new me("w:specVanish",e.vanish)),e.math&&this.push(new me("w:oMath",e.math)),e.revision&&this.push(new Jf(e.revision))}push(e){this.root.push(e)}},Jf=class extends ue{constructor(e){super("w:rPrChange"),this.root.push(new cl({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Ar(e))}},hl=class extends ue{constructor(e){var r;super("w:t"),typeof e=="string"?(this.root.push(new Ht({space:Yt.PRESERVE})),this.root.push(e)):(this.root.push(new Ht({space:(r=e.space)!=null?r:Yt.DEFAULT})),this.root.push(e.text))}},ni={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"},Pt=class extends ue{constructor(e){if(super("w:r"),ce(this,"properties"),this.properties=new Ar(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new x3);if(e.children)for(let r of e.children){if(typeof r=="string"){switch(r){case ni.CURRENT:this.root.push(new lr),this.root.push(new Ex),this.root.push(new kr),this.root.push(new ur);break;case ni.TOTAL_PAGES:this.root.push(new lr),this.root.push(new Sx),this.root.push(new kr),this.root.push(new ur);break;case ni.TOTAL_PAGES_IN_SECTION:this.root.push(new lr),this.root.push(new kx),this.root.push(new kr),this.root.push(new ur);break;case ni.CURRENT_SECTION:this.root.push(new lr),this.root.push(new Tx),this.root.push(new kr),this.root.push(new ur);break;default:this.root.push(new hl(r));break}continue}this.root.push(r)}else e.text!==void 0&&this.root.push(new hl(e.text))}},Ji=class extends Pt{constructor(e){super(typeof e=="string"?{text:e}:e)}},Mx=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{char:"w:char",symbolfont:"w:font"})}},bL=class extends ue{constructor(e="",r="Wingdings"){super("w:sym"),this.root.push(new Mx({char:e,symbolfont:r}))}},Xf=class extends Pt{constructor(e){if(typeof e=="string")return super({}),this.root.push(new bL(e)),this;super(e),this.root.push(new bL(e.char,e.symbolfont))}},ex={},We={},tx,_L;function Cl(){if(_L)return tx;_L=1,tx=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},tx}var xL;function on(){if(xL)return We;xL=1;var t=Cl(),e=oi();We.inherits=e;function r(C,H){return(C.charCodeAt(H)&64512)!==55296||H<0||H+1>=C.length?!1:(C.charCodeAt(H+1)&64512)===56320}function n(C,H){if(Array.isArray(C))return C.slice();if(!C)return[];var k=[];if(typeof C=="string")if(H){if(H==="hex")for(C=C.replace(/[^a-z0-9]+/ig,""),C.length%2!==0&&(C="0"+C),Q=0;Q<C.length;Q+=2)k.push(parseInt(C[Q]+C[Q+1],16))}else for(var V=0,Q=0;Q<C.length;Q++){var j=C.charCodeAt(Q);j<128?k[V++]=j:j<2048?(k[V++]=j>>6|192,k[V++]=j&63|128):r(C,Q)?(j=65536+((j&1023)<<10)+(C.charCodeAt(++Q)&1023),k[V++]=j>>18|240,k[V++]=j>>12&63|128,k[V++]=j>>6&63|128,k[V++]=j&63|128):(k[V++]=j>>12|224,k[V++]=j>>6&63|128,k[V++]=j&63|128)}else for(Q=0;Q<C.length;Q++)k[Q]=C[Q]|0;return k}We.toArray=n;function i(C){for(var H="",k=0;k<C.length;k++)H+=o(C[k].toString(16));return H}We.toHex=i;function s(C){var H=C>>>24|C>>>8&65280|C<<8&16711680|(C&255)<<24;return H>>>0}We.htonl=s;function a(C,H){for(var k="",V=0;V<C.length;V++){var Q=C[V];H==="little"&&(Q=s(Q)),k+=l(Q.toString(16))}return k}We.toHex32=a;function o(C){return C.length===1?"0"+C:C}We.zero2=o;function l(C){return C.length===7?"0"+C:C.length===6?"00"+C:C.length===5?"000"+C:C.length===4?"0000"+C:C.length===3?"00000"+C:C.length===2?"000000"+C:C.length===1?"0000000"+C:C}We.zero8=l;function u(C,H,k,V){var Q=k-H;t(Q%4===0);for(var j=new Array(Q/4),ie=0,ee=H;ie<j.length;ie++,ee+=4){var le;V==="big"?le=C[ee]<<24|C[ee+1]<<16|C[ee+2]<<8|C[ee+3]:le=C[ee+3]<<24|C[ee+2]<<16|C[ee+1]<<8|C[ee],j[ie]=le>>>0}return j}We.join32=u;function c(C,H){for(var k=new Array(C.length*4),V=0,Q=0;V<C.length;V++,Q+=4){var j=C[V];H==="big"?(k[Q]=j>>>24,k[Q+1]=j>>>16&255,k[Q+2]=j>>>8&255,k[Q+3]=j&255):(k[Q+3]=j>>>24,k[Q+2]=j>>>16&255,k[Q+1]=j>>>8&255,k[Q]=j&255)}return k}We.split32=c;function f(C,H){return C>>>H|C<<32-H}We.rotr32=f;function d(C,H){return C<<H|C>>>32-H}We.rotl32=d;function h(C,H){return C+H>>>0}We.sum32=h;function y(C,H,k){return C+H+k>>>0}We.sum32_3=y;function v(C,H,k,V){return C+H+k+V>>>0}We.sum32_4=v;function x(C,H,k,V,Q){return C+H+k+V+Q>>>0}We.sum32_5=x;function m(C,H,k,V){var Q=C[H],j=C[H+1],ie=V+j>>>0,ee=(ie<V?1:0)+k+Q;C[H]=ee>>>0,C[H+1]=ie}We.sum64=m;function _(C,H,k,V){var Q=H+V>>>0,j=(Q<H?1:0)+C+k;return j>>>0}We.sum64_hi=_;function b(C,H,k,V){var Q=H+V;return Q>>>0}We.sum64_lo=b;function w(C,H,k,V,Q,j,ie,ee){var le=0,G=H;G=G+V>>>0,le+=G<H?1:0,G=G+j>>>0,le+=G<j?1:0,G=G+ee>>>0,le+=G<ee?1:0;var D=C+k+Q+ie+le;return D>>>0}We.sum64_4_hi=w;function T(C,H,k,V,Q,j,ie,ee){var le=H+V+j+ee;return le>>>0}We.sum64_4_lo=T;function P(C,H,k,V,Q,j,ie,ee,le,G){var D=0,$=H;$=$+V>>>0,D+=$<H?1:0,$=$+j>>>0,D+=$<j?1:0,$=$+ee>>>0,D+=$<ee?1:0,$=$+G>>>0,D+=$<G?1:0;var X=C+k+Q+ie+le+D;return X>>>0}We.sum64_5_hi=P;function M(C,H,k,V,Q,j,ie,ee,le,G){var D=H+V+j+ee+G;return D>>>0}We.sum64_5_lo=M;function U(C,H,k){var V=H<<32-k|C>>>k;return V>>>0}We.rotr64_hi=U;function R(C,H,k){var V=C<<32-k|H>>>k;return V>>>0}We.rotr64_lo=R;function J(C,H,k){return C>>>k}We.shr64_hi=J;function oe(C,H,k){var V=C<<32-k|H>>>k;return V>>>0}return We.shr64_lo=oe,We}var rx={},EL;function Il(){if(EL)return rx;EL=1;var t=on(),e=Cl();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return rx.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var a=i.length%this._delta8;this.pending=i.slice(i.length-a,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-a,this.endian);for(var o=0;o<i.length;o+=this._delta32)this._update(i,o,o+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,a=s-(i+this.padLength)%s,o=new Array(a+this.padLength);o[0]=128;for(var l=1;l<a;l++)o[l]=0;if(i<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)o[l++]=0;o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=i>>>24&255,o[l++]=i>>>16&255,o[l++]=i>>>8&255,o[l++]=i&255}else for(o[l++]=i&255,o[l++]=i>>>8&255,o[l++]=i>>>16&255,o[l++]=i>>>24&255,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,u=8;u<this.padLength;u++)o[l++]=0;return o},rx}var Wi={},$r={},SL;function S3(){if(SL)return $r;SL=1;var t=on(),e=t.rotr32;function r(c,f,d,h){if(c===0)return n(f,d,h);if(c===1||c===3)return s(f,d,h);if(c===2)return i(f,d,h)}$r.ft_1=r;function n(c,f,d){return c&f^~c&d}$r.ch32=n;function i(c,f,d){return c&f^c&d^f&d}$r.maj32=i;function s(c,f,d){return c^f^d}$r.p32=s;function a(c){return e(c,2)^e(c,13)^e(c,22)}$r.s0_256=a;function o(c){return e(c,6)^e(c,11)^e(c,25)}$r.s1_256=o;function l(c){return e(c,7)^e(c,18)^c>>>3}$r.g0_256=l;function u(c){return e(c,17)^e(c,19)^c>>>10}return $r.g1_256=u,$r}var nx,kL;function oY(){if(kL)return nx;kL=1;var t=on(),e=Il(),r=S3(),n=t.rotl32,i=t.sum32,s=t.sum32_5,a=r.ft_1,o=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(u,o),nx=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(f,d){for(var h=this.W,y=0;y<16;y++)h[y]=f[d+y];for(;y<h.length;y++)h[y]=n(h[y-3]^h[y-8]^h[y-14]^h[y-16],1);var v=this.h[0],x=this.h[1],m=this.h[2],_=this.h[3],b=this.h[4];for(y=0;y<h.length;y++){var w=~~(y/20),T=s(n(v,5),a(w,x,m,_),b,h[y],l[w]);b=_,_=m,m=n(x,30),x=v,v=T}this.h[0]=i(this.h[0],v),this.h[1]=i(this.h[1],x),this.h[2]=i(this.h[2],m),this.h[3]=i(this.h[3],_),this.h[4]=i(this.h[4],b)},u.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},nx}var ix,TL;function k3(){if(TL)return ix;TL=1;var t=on(),e=Il(),r=S3(),n=Cl(),i=t.sum32,s=t.sum32_4,a=t.sum32_5,o=r.ch32,l=r.maj32,u=r.s0_256,c=r.s1_256,f=r.g0_256,d=r.g1_256,h=e.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}return t.inherits(v,h),ix=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(m,_){for(var b=this.W,w=0;w<16;w++)b[w]=m[_+w];for(;w<b.length;w++)b[w]=s(d(b[w-2]),b[w-7],f(b[w-15]),b[w-16]);var T=this.h[0],P=this.h[1],M=this.h[2],U=this.h[3],R=this.h[4],J=this.h[5],oe=this.h[6],C=this.h[7];for(n(this.k.length===b.length),w=0;w<b.length;w++){var H=a(C,c(R),o(R,J,oe),this.k[w],b[w]),k=i(u(T),l(T,P,M));C=oe,oe=J,J=R,R=i(U,H),U=M,M=P,P=T,T=i(H,k)}this.h[0]=i(this.h[0],T),this.h[1]=i(this.h[1],P),this.h[2]=i(this.h[2],M),this.h[3]=i(this.h[3],U),this.h[4]=i(this.h[4],R),this.h[5]=i(this.h[5],J),this.h[6]=i(this.h[6],oe),this.h[7]=i(this.h[7],C)},v.prototype._digest=function(m){return m==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},ix}var sx,AL;function aY(){if(AL)return sx;AL=1;var t=on(),e=k3();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),sx=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},sx}var ox,OL;function T3(){if(OL)return ox;OL=1;var t=on(),e=Il(),r=Cl(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,a=t.shr64_lo,o=t.sum64,l=t.sum64_hi,u=t.sum64_lo,c=t.sum64_4_hi,f=t.sum64_4_lo,d=t.sum64_5_hi,h=t.sum64_5_lo,y=e.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function x(){if(!(this instanceof x))return new x;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}t.inherits(x,y),ox=x,x.blockSize=1024,x.outSize=512,x.hmacStrength=192,x.padLength=128,x.prototype._prepareBlock=function(k,V){for(var Q=this.W,j=0;j<32;j++)Q[j]=k[V+j];for(;j<Q.length;j+=2){var ie=oe(Q[j-4],Q[j-3]),ee=C(Q[j-4],Q[j-3]),le=Q[j-14],G=Q[j-13],D=R(Q[j-30],Q[j-29]),$=J(Q[j-30],Q[j-29]),X=Q[j-32],re=Q[j-31];Q[j]=c(ie,ee,le,G,D,$,X,re),Q[j+1]=f(ie,ee,le,G,D,$,X,re)}},x.prototype._update=function(k,V){this._prepareBlock(k,V);var Q=this.W,j=this.h[0],ie=this.h[1],ee=this.h[2],le=this.h[3],G=this.h[4],D=this.h[5],$=this.h[6],X=this.h[7],re=this.h[8],K=this.h[9],O=this.h[10],A=this.h[11],W=this.h[12],B=this.h[13],I=this.h[14],L=this.h[15];r(this.k.length===Q.length);for(var Z=0;Z<Q.length;Z+=2){var E=I,Y=L,N=M(re,K),p=U(re,K),g=m(re,K,O,A,W),S=_(re,K,O,A,W,B),F=this.k[Z],q=this.k[Z+1],z=Q[Z],ne=Q[Z+1],ae=d(E,Y,N,p,g,S,F,q,z,ne),se=h(E,Y,N,p,g,S,F,q,z,ne);E=T(j,ie),Y=P(j,ie),N=b(j,ie,ee,le,G),p=w(j,ie,ee,le,G,D);var fe=l(E,Y,N,p),pe=u(E,Y,N,p);I=W,L=B,W=O,B=A,O=re,A=K,re=l($,X,ae,se),K=u(X,X,ae,se),$=G,X=D,G=ee,D=le,ee=j,le=ie,j=l(ae,se,fe,pe),ie=u(ae,se,fe,pe)}o(this.h,0,j,ie),o(this.h,2,ee,le),o(this.h,4,G,D),o(this.h,6,$,X),o(this.h,8,re,K),o(this.h,10,O,A),o(this.h,12,W,B),o(this.h,14,I,L)},x.prototype._digest=function(k){return k==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function m(H,k,V,Q,j){var ie=H&V^~H&j;return ie<0&&(ie+=4294967296),ie}function _(H,k,V,Q,j,ie){var ee=k&Q^~k&ie;return ee<0&&(ee+=4294967296),ee}function b(H,k,V,Q,j){var ie=H&V^H&j^V&j;return ie<0&&(ie+=4294967296),ie}function w(H,k,V,Q,j,ie){var ee=k&Q^k&ie^Q&ie;return ee<0&&(ee+=4294967296),ee}function T(H,k){var V=n(H,k,28),Q=n(k,H,2),j=n(k,H,7),ie=V^Q^j;return ie<0&&(ie+=4294967296),ie}function P(H,k){var V=i(H,k,28),Q=i(k,H,2),j=i(k,H,7),ie=V^Q^j;return ie<0&&(ie+=4294967296),ie}function M(H,k){var V=n(H,k,14),Q=n(H,k,18),j=n(k,H,9),ie=V^Q^j;return ie<0&&(ie+=4294967296),ie}function U(H,k){var V=i(H,k,14),Q=i(H,k,18),j=i(k,H,9),ie=V^Q^j;return ie<0&&(ie+=4294967296),ie}function R(H,k){var V=n(H,k,1),Q=n(H,k,8),j=s(H,k,7),ie=V^Q^j;return ie<0&&(ie+=4294967296),ie}function J(H,k){var V=i(H,k,1),Q=i(H,k,8),j=a(H,k,7),ie=V^Q^j;return ie<0&&(ie+=4294967296),ie}function oe(H,k){var V=n(H,k,19),Q=n(k,H,29),j=s(H,k,6),ie=V^Q^j;return ie<0&&(ie+=4294967296),ie}function C(H,k){var V=i(H,k,19),Q=i(k,H,29),j=a(H,k,6),ie=V^Q^j;return ie<0&&(ie+=4294967296),ie}return ox}var ax,NL;function lY(){if(NL)return ax;NL=1;var t=on(),e=T3();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),ax=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},ax}var RL;function uY(){return RL||(RL=1,Wi.sha1=oY(),Wi.sha224=aY(),Wi.sha256=k3(),Wi.sha384=lY(),Wi.sha512=T3()),Wi}var lx={},CL;function cY(){if(CL)return lx;CL=1;var t=on(),e=Il(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,a=e.BlockHash;function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(o,a),lx.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(x,m){for(var _=this.h[0],b=this.h[1],w=this.h[2],T=this.h[3],P=this.h[4],M=_,U=b,R=w,J=T,oe=P,C=0;C<80;C++){var H=n(r(s(_,l(C,b,w,T),x[f[C]+m],u(C)),h[C]),P);_=P,P=T,T=r(w,10),w=b,b=H,H=n(r(s(M,l(79-C,U,R,J),x[d[C]+m],c(C)),y[C]),oe),M=oe,oe=J,J=r(R,10),R=U,U=H}H=i(this.h[1],w,J),this.h[1]=i(this.h[2],T,oe),this.h[2]=i(this.h[3],P,M),this.h[3]=i(this.h[4],_,U),this.h[4]=i(this.h[0],b,R),this.h[0]=H},o.prototype._digest=function(x){return x==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(v,x,m,_){return v<=15?x^m^_:v<=31?x&m|~x&_:v<=47?(x|~m)^_:v<=63?x&_|m&~_:x^(m|~_)}function u(v){return v<=15?0:v<=31?1518500249:v<=47?1859775393:v<=63?2400959708:2840853838}function c(v){return v<=15?1352829926:v<=31?1548603684:v<=47?1836072691:v<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return lx}var ux,IL;function fY(){if(IL)return ux;IL=1;var t=on(),e=Cl();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return ux=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},ux}var PL;function hY(){return PL||(PL=1,(function(t){var e=t;e.utils=on(),e.common=Il(),e.sha=uY(),e.ripemd=cY(),e.hmac=fY(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(ex)),ex}var dY=hY(),pY=fT(dY),mY="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",gY=(t,e=21)=>(r=e)=>{let n="",i=r|0;for(;i--;)n+=t[Math.random()*t.length|0];return n},vY=(t=21)=>{let e="",r=t|0;for(;r--;)e+=mY[Math.random()*64|0];return e},yY=t=>Math.floor(t/25.4*72*20),ar=t=>Math.floor(t*72*20),Pl=(t=0)=>{let e=t;return()=>++e},A3=()=>Pl(),O3=()=>Pl(1),N3=()=>Pl(),R3=()=>Pl(),Dl=()=>vY().toLowerCase(),Lx=t=>pY.sha1().update(t instanceof ArrayBuffer?new Uint8Array(t):t).digest("hex"),el=t=>gY("1234567890abcdef",t)(),C3=()=>`${el(8)}-${el(4)}-${el(4)}-${el(4)}-${el(12)}`,I3={CHARACTER:"character",COLUMN:"column",INSIDE_MARGIN:"insideMargin",LEFT_MARGIN:"leftMargin",MARGIN:"margin",OUTSIDE_MARGIN:"outsideMargin",PAGE:"page",RIGHT_MARGIN:"rightMargin"},P3={BOTTOM_MARGIN:"bottomMargin",INSIDE_MARGIN:"insideMargin",LINE:"line",MARGIN:"margin",OUTSIDE_MARGIN:"outsideMargin",PAGE:"page",PARAGRAPH:"paragraph",TOP_MARGIN:"topMargin"},D3=()=>new ke({name:"wp:simplePos",attributes:{x:{key:"x",value:0},y:{key:"y",value:0}}}),M3=t=>new ke({name:"wp:align",children:[t]}),L3=t=>new ke({name:"wp:posOffset",children:[t.toString()]}),F3=({relative:t,align:e,offset:r})=>new ke({name:"wp:positionH",attributes:{relativeFrom:{key:"relativeFrom",value:t??I3.PAGE}},children:[(()=>{if(e)return M3(e);if(r!==void 0)return L3(r);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]}),B3=({relative:t,align:e,offset:r})=>new ke({name:"wp:positionV",attributes:{relativeFrom:{key:"relativeFrom",value:t??P3.PAGE}},children:[(()=>{if(e)return M3(e);if(r!==void 0)return L3(r);throw new Error("There is no configuration provided for floating position (Align or offset)")})()]}),Fx=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{uri:"uri"})}},wY=t=>new ke({name:"asvg:svgBlip",attributes:{asvg:{key:"xmlns:asvg",value:"http://schemas.microsoft.com/office/drawing/2016/SVG/main"},embed:{key:"r:embed",value:`rId{${t.fileName}}`}}}),bY=t=>new ke({name:"a:ext",attributes:{uri:{key:"uri",value:"{96DAC541-7B7A-43D3-8B79-37D633B846F1}"}},children:[wY(t)]}),_Y=t=>new ke({name:"a:extLst",children:[bY(t)]}),xY=t=>new ke({name:"a:blip",attributes:{embed:{key:"r:embed",value:`rId{${t.type==="svg"?t.fallback.fileName:t.fileName}}`},cstate:{key:"cstate",value:"none"}},children:t.type==="svg"?[_Y(t)]:[]}),Bx=class extends ue{constructor(){super("a:srcRect")}},Ux=class extends ue{constructor(){super("a:fillRect")}},Hx=class extends ue{constructor(){super("a:stretch"),this.root.push(new Ux)}},zx=class extends ue{constructor(e){super("pic:blipFill"),this.root.push(xY(e)),this.root.push(new Bx),this.root.push(new Hx)}},jx=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"})}},Wx=class extends ue{constructor(){super("a:picLocks"),this.root.push(new jx({noChangeAspect:1,noChangeArrowheads:1}))}},qx=class extends ue{constructor(){super("pic:cNvPicPr"),this.root.push(new Wx)}},U3=(t,e)=>new ke({name:"a:hlinkClick",attributes:It(Te({},e?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${t}`}})}),Vx=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{id:"id",name:"name",descr:"descr"})}},Kx=class extends ue{constructor(){super("pic:cNvPr"),this.root.push(new Vx({id:0,name:"",descr:""}))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){let n=e.stack[r];if(n instanceof si){this.root.push(U3(n.linkId,!1));break}}return super.prepForXml(e)}},Gx=class extends ue{constructor(){super("pic:nvPicPr"),this.root.push(new Kx),this.root.push(new qx)}},$x=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{xmlns:"xmlns:pic"})}},Jx=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{cx:"cx",cy:"cy"})}},Xx=class extends ue{constructor(e,r){super("a:ext"),ce(this,"attributes"),this.attributes=new Jx({cx:e,cy:r}),this.root.push(this.attributes)}},Yx=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{x:"x",y:"y"})}},Zx=class extends ue{constructor(){super("a:off"),this.root.push(new Yx({x:0,y:0}))}},Qx=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"})}},eE=class extends ue{constructor(e){var r,n;super("a:xfrm"),ce(this,"extents"),this.root.push(new Qx({flipVertical:(r=e.flip)==null?void 0:r.vertical,flipHorizontal:(n=e.flip)==null?void 0:n.horizontal,rotation:e.rotation})),this.extents=new Xx(e.emus.x,e.emus.y),this.root.push(new Zx),this.root.push(this.extents)}},H3=()=>new ke({name:"a:noFill"}),EY=t=>new ke({name:"a:srgbClr",attributes:{value:{key:"val",value:t.value}}}),SY=t=>new ke({name:"a:schemeClr",attributes:{value:{key:"val",value:t.value}}}),DL=t=>new ke({name:"a:solidFill",children:[t.type==="rgb"?EY(t):SY(t)]}),kY=t=>new ke({name:"a:ln",attributes:{width:{key:"w",value:t.width},cap:{key:"cap",value:t.cap},compoundLine:{key:"cmpd",value:t.compoundLine},align:{key:"algn",value:t.align}},children:[t.type==="noFill"?H3():t.solidFillType==="rgb"?DL({type:"rgb",value:t.value}):DL({type:"scheme",value:t.value})]}),tE=class extends ue{constructor(){super("a:avLst")}},rE=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{prst:"prst"})}},nE=class extends ue{constructor(){super("a:prstGeom"),this.root.push(new rE({prst:"rect"})),this.root.push(new tE)}},iE=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{bwMode:"bwMode"})}},sE=class extends ue{constructor({outline:e,transform:r}){super("pic:spPr"),ce(this,"form"),this.root.push(new iE({bwMode:"auto"})),this.form=new eE(r),this.root.push(this.form),this.root.push(new nE),e&&(this.root.push(H3()),this.root.push(kY(e)))}},oE=class extends ue{constructor({mediaData:e,transform:r,outline:n}){super("pic:pic"),this.root.push(new $x({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new Gx),this.root.push(new zx(e)),this.root.push(new sE({transform:r,outline:n}))}},aE=class extends ue{constructor({mediaData:e,transform:r,outline:n}){super("a:graphicData"),ce(this,"pic"),this.root.push(new Fx({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new oE({mediaData:e,transform:r,outline:n}),this.root.push(this.pic)}},lE=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{a:"xmlns:a"})}},Yf=class extends ue{constructor({mediaData:e,transform:r,outline:n}){super("a:graphic"),ce(this,"data"),this.root.push(new lE({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new aE({mediaData:e,transform:r,outline:n}),this.root.push(this.data)}},il={NONE:0,SQUARE:1,TIGHT:2,TOP_AND_BOTTOM:3},z3={BOTH_SIDES:"bothSides",LEFT:"left",RIGHT:"right",LARGEST:"largest"},dl=class extends ue{constructor(){super("wp:wrapNone")}},uE=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"})}},Zf=class extends ue{constructor(e,r={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new uE({wrapText:e.side||z3.BOTH_SIDES,distT:r.top,distB:r.bottom,distL:r.left,distR:r.right}))}},cE=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{distT:"distT",distB:"distB"})}},Qf=class extends ue{constructor(e={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new cE({distT:e.top,distB:e.bottom}))}},fE=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{distT:"distT",distB:"distB"})}},eh=class extends ue{constructor(e={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new fE({distT:e.top,distB:e.bottom}))}},th=class extends ue{constructor({name:e,description:r,title:n}={name:"",description:"",title:""}){super("wp:docPr"),ce(this,"docPropertiesUniqueNumericId",N3());let i={id:{key:"id",value:this.docPropertiesUniqueNumericId()},name:{key:"name",value:e}};r!=null&&(i.description={key:"descr",value:r}),n!=null&&(i.title={key:"title",value:n}),this.root.push(new Xt(i))}prepForXml(e){for(let r=e.stack.length-1;r>=0;r--){let n=e.stack[r];if(n instanceof si){this.root.push(U3(n.linkId,!0));break}}return super.prepForXml(e)}},j3=({top:t,right:e,bottom:r,left:n})=>new ke({name:"wp:effectExtent",attributes:{top:{key:"t",value:t},right:{key:"r",value:e},bottom:{key:"b",value:r},left:{key:"l",value:n}}}),W3=({x:t,y:e})=>new ke({name:"wp:extent",attributes:{x:{key:"cx",value:t},y:{key:"cy",value:e}}}),hE=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"})}},dE=class extends ue{constructor(){super("a:graphicFrameLocks"),this.root.push(new hE({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}},q3=()=>new ke({name:"wp:cNvGraphicFramePr",children:[new dE]}),pE=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"})}},mE=class extends ue{constructor({mediaData:e,transform:r,drawingOptions:n}){super("wp:anchor");let i=Te({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},n.floating);if(this.root.push(new pE({distT:i.margins&&i.margins.top||0,distB:i.margins&&i.margins.bottom||0,distL:i.margins&&i.margins.left||0,distR:i.margins&&i.margins.right||0,simplePos:"0",allowOverlap:i.allowOverlap===!0?"1":"0",behindDoc:i.behindDocument===!0?"1":"0",locked:i.lockAnchor===!0?"1":"0",layoutInCell:i.layoutInCell===!0?"1":"0",relativeHeight:i.zIndex?i.zIndex:r.emus.y})),this.root.push(D3()),this.root.push(F3(i.horizontalPosition)),this.root.push(B3(i.verticalPosition)),this.root.push(W3({x:r.emus.x,y:r.emus.y})),this.root.push(j3({top:0,right:0,bottom:0,left:0})),n.floating!==void 0&&n.floating.wrap!==void 0)switch(n.floating.wrap.type){case il.SQUARE:this.root.push(new Zf(n.floating.wrap,n.floating.margins));break;case il.TIGHT:this.root.push(new Qf(n.floating.margins));break;case il.TOP_AND_BOTTOM:this.root.push(new eh(n.floating.margins));break;case il.NONE:default:this.root.push(new dl)}else this.root.push(new dl);this.root.push(new th(n.docProperties)),this.root.push(q3()),this.root.push(new Yf({mediaData:e,transform:r,outline:n.outline}))}},TY=({mediaData:t,transform:e,docProperties:r,outline:n})=>{var i,s,a,o;return new ke({name:"wp:inline",attributes:{distanceTop:{key:"distT",value:0},distanceBottom:{key:"distB",value:0},distanceLeft:{key:"distL",value:0},distanceRight:{key:"distR",value:0}},children:[W3({x:e.emus.x,y:e.emus.y}),j3(n?{top:((i=n.width)!=null?i:9525)*2,right:((s=n.width)!=null?s:9525)*2,bottom:((a=n.width)!=null?a:9525)*2,left:((o=n.width)!=null?o:9525)*2}:{top:0,right:0,bottom:0,left:0}),new th(r),q3(),new Yf({mediaData:t,transform:e,outline:n})]})},rh=class extends ue{constructor(e,r={}){super("w:drawing"),r.floating?this.root.push(new mE({mediaData:e,transform:e.transformation,drawingOptions:r})):this.root.push(TY({mediaData:e,transform:e.transformation,docProperties:r.docProperties,outline:r.outline}))}},AY=t=>{if(typeof atob=="function"){let e=";base64,",r=t.indexOf(e),n=r===-1?0:r+e.length;return new Uint8Array(atob(t.substring(n)).split("").map(i=>i.charCodeAt(0)))}else{let e=require("buffer");return new e.Buffer(t,"base64")}},OY=t=>typeof t=="string"?AY(t):t,cx=(t,e)=>({data:OY(t.data),fileName:e,transformation:{pixels:{x:Math.round(t.transformation.width),y:Math.round(t.transformation.height)},emus:{x:Math.round(t.transformation.width*9525),y:Math.round(t.transformation.height*9525)},flip:t.transformation.flip,rotation:t.transformation.rotation?t.transformation.rotation*6e4:void 0}}),gE=class extends Pt{constructor(e){super({}),ce(this,"imageData");let n=`${Lx(e.data)}.${e.type}`;this.imageData=e.type==="svg"?It(Te({type:e.type},cx(e,n)),{fallback:Te({type:e.fallback.type},cx(It(Te({},e.fallback),{transformation:e.transformation}),`${Lx(e.fallback.data)}.${e.fallback.type}`))}):Te({type:e.type},cx(e,n));let i=new rh(this.imageData,{floating:e.floating,docProperties:e.altText,outline:e.outline});this.root.push(i)}prepForXml(e){return e.file.Media.addImage(this.imageData.fileName,this.imageData),this.imageData.type==="svg"&&e.file.Media.addImage(this.imageData.fallback.fileName,this.imageData.fallback),super.prepForXml(e)}},vE=class extends ue{constructor(e){super("w:instrText"),this.root.push(new Ht({space:Yt.PRESERVE})),this.root.push(`SEQ ${e}`)}},yE=class extends Pt{constructor(e){super({}),this.root.push(new lr(!0)),this.root.push(new vE(e)),this.root.push(new kr),this.root.push(new ur)}},wE=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{instr:"w:instr"})}},nh=class extends ue{constructor(e,r){super("w:fldSimple"),this.root.push(new wE({instr:e})),r!==void 0&&this.root.push(new Ji(r))}},bE=class extends nh{constructor(e){super(` MERGEFIELD ${e} `,`\xAB${e}\xBB`)}},_E=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{xmlns:"xmlns"})}},xE=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}},V3={EXTERNAL:"External"},EE=class extends ue{constructor(e,r,n,i){super("Relationship"),this.root.push(new xE({id:e,type:r,target:n,targetMode:i}))}},Dn=class extends ue{constructor(){super("Relationships"),this.root.push(new _E({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,n,i){let s=new EE(`rId${e}`,r,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}},SE=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}},pl=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{id:"w:id"})}},kE=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}},TE=class extends ue{constructor(e){super("w:commentRangeStart"),this.root.push(new pl({id:e}))}},AE=class extends ue{constructor(e){super("w:commentRangeEnd"),this.root.push(new pl({id:e}))}},OE=class extends ue{constructor(e){super("w:commentReference"),this.root.push(new pl({id:e}))}},ih=class extends ue{constructor({id:e,initials:r,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new SE({id:e,initials:r,author:n,date:i.toISOString()}));for(let a of s)this.root.push(a)}},sh=class extends ue{constructor({children:e}){super("w:comments"),ce(this,"relationships"),this.root.push(new kE({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(let r of e)this.root.push(new ih(r));this.relationships=new Dn}get Relationships(){return this.relationships}},NE=class extends ut{constructor(){super("w:noBreakHyphen")}},RE=class extends ut{constructor(){super("w:softHyphen")}},CE=class extends ut{constructor(){super("w:dayShort")}},IE=class extends ut{constructor(){super("w:monthShort")}},PE=class extends ut{constructor(){super("w:yearShort")}},DE=class extends ut{constructor(){super("w:dayLong")}},ME=class extends ut{constructor(){super("w:monthLong")}},LE=class extends ut{constructor(){super("w:yearLong")}},FE=class extends ut{constructor(){super("w:annotationRef")}},BE=class extends ut{constructor(){super("w:footnoteRef")}},UE=class extends ut{constructor(){super("w:endnoteRef")}},HE=class extends ut{constructor(){super("w:separator")}},zE=class extends ut{constructor(){super("w:continuationSeparator")}},jE=class extends ut{constructor(){super("w:pgNum")}},WE=class extends ut{constructor(){super("w:cr")}},qE=class extends ut{constructor(){super("w:tab")}},VE=class extends ut{constructor(){super("w:lastRenderedPageBreak")}},NY={LEFT:"left",CENTER:"center",RIGHT:"right"},RY={MARGIN:"margin",INDENT:"indent"},CY={NONE:"none",DOT:"dot",HYPHEN:"hyphen",UNDERSCORE:"underscore",MIDDLE_DOT:"middleDot"},KE=class extends ue{constructor(e){super("w:ptab"),this.root.push(new Xt({alignment:{key:"w:alignment",value:e.alignment},relativeTo:{key:"w:relativeTo",value:e.relativeTo},leader:{key:"w:leader",value:e.leader}}))}},K3={COLUMN:"column",PAGE:"page"},oh=class extends ue{constructor(e){super("w:br"),this.root.push(new Ve({type:e}))}},GE=class extends Pt{constructor(){super({}),this.root.push(new oh(K3.PAGE))}},$E=class extends Pt{constructor(){super({}),this.root.push(new oh(K3.COLUMN))}},ah=class extends ue{constructor(){super("w:pageBreakBefore")}},lh={AT_LEAST:"atLeast",EXACTLY:"exactly",EXACT:"exact",AUTO:"auto"},JE=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}},uh=class extends ue{constructor(e){super("w:spacing"),this.root.push(new JE(e))}},IY={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6",TITLE:"Title"},sl=class extends ue{constructor(e){super("w:pStyle"),this.root.push(new Ve({val:e}))}},ch=class extends ue{constructor(e){super("w:tabs");for(let r of e)this.root.push(new hh(r))}},XE={LEFT:"left",RIGHT:"right",CENTER:"center",BAR:"bar",CLEAR:"clear",DECIMAL:"decimal",END:"end",NUM:"num",START:"start"},PY={DOT:"dot",HYPHEN:"hyphen",MIDDLE_DOT:"middleDot",NONE:"none",UNDERSCORE:"underscore"},DY={MAX:9026},fh=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}},hh=class extends ue{constructor({type:e,position:r,leader:n}){super("w:tab"),this.root.push(new fh({val:e,pos:r,leader:n}))}},ao=class extends ue{constructor(e,r){super("w:numPr"),this.root.push(new YE(r)),this.root.push(new ZE(e))}},YE=class extends ue{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Ve({val:e}))}},ZE=class extends ue{constructor(e){super("w:numId"),this.root.push(new Ve({val:typeof e=="string"?`{${e}}`:e}))}},Xi=class extends ue{constructor(){super(...arguments),ce(this,"fileChild",Symbol())}},QE=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}},MY={INTERNAL:"INTERNAL",EXTERNAL:"EXTERNAL"},si=class extends ue{constructor(e,r,n){super("w:hyperlink"),ce(this,"linkId"),this.linkId=r;let i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new QE(i);this.root.push(s),e.forEach(a=>{this.root.push(a)})}},eS=class extends si{constructor(e){super(e.children,Dl(),e.anchor)}},ml=class extends ue{constructor(e){super("w:externalHyperlink"),this.options=e}},tS=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{id:"w:id",name:"w:name"})}},rS=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{id:"w:id"})}},dh=class{constructor(e){ce(this,"bookmarkUniqueNumericId",R3()),ce(this,"start"),ce(this,"children"),ce(this,"end");let r=this.bookmarkUniqueNumericId();this.start=new ph(e.id,r),this.children=e.children,this.end=new mh(r)}},ph=class extends ue{constructor(e,r){super("w:bookmarkStart");let n=new tS({name:e,id:r});this.root.push(n)}},mh=class extends ue{constructor(e){super("w:bookmarkEnd");let r=new rS({id:e});this.root.push(r)}},gh=class extends ue{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new Ve({val:e}))}},nS=class extends ue{constructor(e,r={}){super("w:instrText"),this.root.push(new Ht({space:Yt.PRESERVE}));let n=`PAGEREF ${e}`;r.hyperlink&&(n=`${n} \\h`),r.useRelativePosition&&(n=`${n} \\p`),this.root.push(n)}},iS=class extends Pt{constructor(e,r={}){super({children:[new lr(!0),new nS(e,r),new ur]})}},G3={TOP:"top",CENTER:"center",BOTTOM:"bottom"},$3=It(Te({},G3),{BOTH:"both"}),LY=$3,vh=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{verticalAlign:"w:val"})}},gl=class extends ue{constructor(e){super("w:vAlign"),this.root.push(new vh({verticalAlign:e}))}},yh=class extends ue{constructor({space:e,count:r,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new Xt({space:{key:"w:space",value:e===void 0?void 0:lt(e)},count:{key:"w:num",value:r===void 0?void 0:vt(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(a=>this.addChildElement(a))}},FY={DEFAULT:"default",LINES:"lines",LINES_AND_CHARS:"linesAndChars",SNAP_TO_CHARS:"snapToChars"},J3=({type:t,linePitch:e,charSpace:r})=>new ke({name:"w:docGrid",attributes:{type:{key:"w:type",value:t},linePitch:{key:"w:linePitch",value:vt(e)},charSpace:{key:"w:charSpace",value:r?vt(r):void 0}}}),Vi={DEFAULT:"default",FIRST:"first",EVEN:"even"},sS=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{type:"w:type",id:"r:id"})}},oS={HEADER:"w:headerReference",FOOTER:"w:footerReference"},lo=class extends ue{constructor(e,r){super(e),this.root.push(new sS({type:r.type||Vi.DEFAULT,id:`rId${r.id}`}))}},BY={NEW_PAGE:"newPage",NEW_SECTION:"newSection",CONTINUOUS:"continuous"},X3=({countBy:t,start:e,restart:r,distance:n})=>new ke({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:vt(t)},start:{key:"w:start",value:e===void 0?void 0:vt(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:lt(n)}}}),UY={ALL_PAGES:"allPages",FIRST_PAGE:"firstPage",NOT_FIRST_PAGE:"notFirstPage"},HY={PAGE:"page",TEXT:"text"},zY={BACK:"back",FRONT:"front"},wh=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}},bh=class extends cr{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new wh({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new wh({})),e.pageBorderTop&&this.root.push(new Be("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Be("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Be("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Be("w:right",e.pageBorderRight))}},_h=class extends ue{constructor(e,r,n,i,s,a,o){super("w:pgMar"),this.root.push(new Xt({top:{key:"w:top",value:en(e)},right:{key:"w:right",value:lt(r)},bottom:{key:"w:bottom",value:en(n)},left:{key:"w:left",value:lt(i)},header:{key:"w:header",value:lt(s)},footer:{key:"w:footer",value:lt(a)},gutter:{key:"w:gutter",value:lt(o)}}))}},jY={HYPHEN:"hyphen",PERIOD:"period",COLON:"colon",EM_DASH:"emDash",EN_DASH:"endash"},xh=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}},Eh=class extends ue{constructor({start:e,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new xh({start:e===void 0?void 0:vt(e),formatType:r,separator:n}))}},Sh={PORTRAIT:"portrait",LANDSCAPE:"landscape"},Y3=({width:t,height:e,orientation:r,code:n})=>{let i=lt(t),s=lt(e);return new ke({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===Sh.LANDSCAPE?s:i},height:{key:"w:h",value:r===Sh.LANDSCAPE?i:s},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})},WY={LEFT_TO_RIGHT_TOP_TO_BOTTOM:"lrTb",TOP_TO_BOTTOM_RIGHT_TO_LEFT:"tbRl"},aS=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}},kh=class extends ue{constructor(e){super("w:textDirection"),this.root.push(new aS({val:e}))}},qY={NEXT_PAGE:"nextPage",NEXT_COLUMN:"nextColumn",CONTINUOUS:"continuous",EVEN_PAGE:"evenPage",ODD_PAGE:"oddPage"},Th=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}},Ah=class extends ue{constructor(e){super("w:type"),this.root.push(new Th({val:e}))}},ri={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Ff={WIDTH:11906,HEIGHT:16838,ORIENTATION:Sh.PORTRAIT},Oh=class extends ue{constructor({page:{size:{width:e=Ff.WIDTH,height:r=Ff.HEIGHT,orientation:n=Ff.ORIENTATION}={},margin:{top:i=ri.TOP,right:s=ri.RIGHT,bottom:a=ri.BOTTOM,left:o=ri.LEFT,header:l=ri.HEADER,footer:u=ri.FOOTER,gutter:c=ri.GUTTER}={},pageNumbers:f={},borders:d,textDirection:h}={},grid:{linePitch:y=360,charSpace:v,type:x}={},headerWrapperGroup:m={},footerWrapperGroup:_={},lineNumbers:b,titlePage:w,verticalAlign:T,column:P,type:M}={}){super("w:sectPr"),this.addHeaderFooterGroup(oS.HEADER,m),this.addHeaderFooterGroup(oS.FOOTER,_),M&&this.root.push(new Ah(M)),this.root.push(Y3({width:e,height:r,orientation:n})),this.root.push(new _h(i,s,a,o,l,u,c)),d&&this.root.push(new bh(d)),b&&this.root.push(X3(b)),this.root.push(new Eh(f)),P&&this.root.push(new yh(P)),T&&this.root.push(new gl(T)),w!==void 0&&this.root.push(new me("w:titlePg",w)),h&&this.root.push(new kh(h)),this.root.push(J3({linePitch:y,charSpace:v,type:x}))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new lo(e,{type:Vi.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new lo(e,{type:Vi.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new lo(e,{type:Vi.EVEN,id:r.even.View.ReferenceId}))}},Nh=class extends ue{constructor(){super("w:body"),ce(this,"sections",[])}addSection(e){let r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new Oh(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){let r=new nn({}),n=new rn({});return n.push(e),r.addChildElement(n),r}},lS=class extends ue{constructor({width:e,space:r}){super("w:col"),this.root.push(new Xt({width:{key:"w:w",value:lt(e)},space:{key:"w:space",value:r===void 0?void 0:lt(r)}}))}},Rh={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Yi=class extends we{constructor(e,r){super(Te({Ignorable:r},Object.fromEntries(e.map(n=>[n,Rh[n]])))),ce(this,"xmlKeys",Te({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(Rh).map(n=>[n,`xmlns:${n}`]))))}},Ch=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}},Ih=class extends ue{constructor(e){super("w:background"),this.root.push(new Ch({color:e.color===void 0?void 0:Gi(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:_x(e.themeShade),themeTint:e.themeTint===void 0?void 0:_x(e.themeTint)}))}},uS=class extends ue{constructor(e){super("w:document"),ce(this,"body"),this.root.push(new Yi(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new Nh,e.background&&this.root.push(new Ih(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}},Ph=class{constructor(e){ce(this,"document"),ce(this,"relationships"),this.document=new uS(e),this.relationships=new Dn}get View(){return this.document}get Relationships(){return this.relationships}},cS=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}},fS=class extends ue{constructor(){super("w:wordWrap"),this.root.push(new cS({val:0}))}},VY={NONE:"none",DROP:"drop",MARGIN:"margin"},KY={MARGIN:"margin",PAGE:"page",TEXT:"text"},GY={AROUND:"around",AUTO:"auto",NONE:"none",NOT_BESIDE:"notBeside",THROUGH:"through",TIGHT:"tight"},Z3=t=>{var e,r;return new ke({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})},rn=class extends cr{constructor(e){var r,n;if(super("w:pPr"),ce(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new sl(e.heading)),e.bullet&&this.push(new sl("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new sl("ListParagraph"))),e.style&&this.push(new sl(e.style)),e.keepNext!==void 0&&this.push(new me("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new me("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new ah),e.frame&&this.push(Z3(e.frame)),e.widowControl!==void 0&&this.push(new me("w:widowControl",e.widowControl)),e.bullet&&this.push(new ao(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new ao(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new ao(0,0)),e.border&&this.push(new Wf(e.border)),e.thematicBreak&&this.push(new qf),e.shading&&this.push(new $i(e.shading)),e.wordWrap&&this.push(new fS),e.overflowPunctuation&&this.push(new me("w:overflowPunct",e.overflowPunctuation));let i=[...e.rightTabStop!==void 0?[{type:XE.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:XE.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new ch(i)),e.bidirectional!==void 0&&this.push(new me("w:bidi",e.bidirectional)),e.spacing&&this.push(new uh(e.spacing)),e.indent&&this.push(new Vf(e.indent)),e.contextualSpacing!==void 0&&this.push(new me("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new ll(e.alignment)),e.outlineLevel!==void 0&&this.push(new gh(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new me("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new me("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Ar(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof Ph)for(let r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}},nn=class extends Xi{constructor(e){if(super("w:p"),ce(this,"properties"),typeof e=="string")return this.properties=new rn({}),this.root.push(this.properties),this.root.push(new Ji(e)),this;if(this.properties=new rn(e),this.root.push(this.properties),e.text&&this.root.push(new Ji(e.text)),e.children)for(let r of e.children){if(r instanceof dh){this.root.push(r.start);for(let n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(let r of this.root)if(r instanceof ml){let n=this.root.indexOf(r),i=new si(r.options.children,Dl());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,V3.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}},$Y=class extends ue{constructor(e){super("m:oMath");for(let r of e.children)this.root.push(r)}},hS=class extends ue{constructor(e){super("m:t"),this.root.push(e)}},dS=class extends ue{constructor(e){super("m:r"),this.root.push(new hS(e))}},Dh=class extends ue{constructor(e){super("m:den");for(let r of e)this.root.push(r)}},Mh=class extends ue{constructor(e){super("m:num");for(let r of e)this.root.push(r)}},pS=class extends ue{constructor(e){super("m:f"),this.root.push(new Mh(e.numerator)),this.root.push(new Dh(e.denominator))}},Q3=({accent:t})=>new ke({name:"m:chr",attributes:{accent:{key:"m:val",value:t}}}),zt=({children:t})=>new ke({name:"m:e",children:t}),e4=({value:t})=>new ke({name:"m:limLoc",attributes:{value:{key:"m:val",value:t||"undOvr"}}}),JY=()=>new ke({name:"m:subHide",attributes:{hide:{key:"m:val",value:1}}}),XY=()=>new ke({name:"m:supHide",attributes:{hide:{key:"m:val",value:1}}}),kT=({accent:t,hasSuperScript:e,hasSubScript:r,limitLocationVal:n})=>new ke({name:"m:naryPr",children:[...t?[Q3({accent:t})]:[],e4({value:n}),...e?[]:[XY()],...r?[]:[JY()]]}),mo=({children:t})=>new ke({name:"m:sub",children:t}),go=({children:t})=>new ke({name:"m:sup",children:t}),mS=class extends ue{constructor(e){super("m:nary"),this.root.push(kT({accent:"\u2211",hasSuperScript:!!e.superScript,hasSubScript:!!e.subScript})),e.subScript&&this.root.push(mo({children:e.subScript})),e.superScript&&this.root.push(go({children:e.superScript})),this.root.push(zt({children:e.children}))}},gS=class extends ue{constructor(e){super("m:nary"),this.root.push(kT({accent:"",hasSuperScript:!!e.superScript,hasSubScript:!!e.subScript,limitLocationVal:"subSup"})),e.subScript&&this.root.push(mo({children:e.subScript})),e.superScript&&this.root.push(go({children:e.superScript})),this.root.push(zt({children:e.children}))}},vl=class extends ue{constructor(e){super("m:lim");for(let r of e)this.root.push(r)}},vS=class extends ue{constructor(e){super("m:limUpp"),this.root.push(zt({children:e.children})),this.root.push(new vl(e.limit))}},yS=class extends ue{constructor(e){super("m:limLow"),this.root.push(zt({children:e.children})),this.root.push(new vl(e.limit))}},t4=()=>new ke({name:"m:sSupPr"}),wS=class extends ue{constructor(e){super("m:sSup"),this.root.push(t4()),this.root.push(zt({children:e.children})),this.root.push(go({children:e.superScript}))}},r4=()=>new ke({name:"m:sSubPr"}),bS=class extends ue{constructor(e){super("m:sSub"),this.root.push(r4()),this.root.push(zt({children:e.children})),this.root.push(mo({children:e.subScript}))}},n4=()=>new ke({name:"m:sSubSupPr"}),_S=class extends ue{constructor(e){super("m:sSubSup"),this.root.push(n4()),this.root.push(zt({children:e.children})),this.root.push(mo({children:e.subScript})),this.root.push(go({children:e.superScript}))}},i4=()=>new ke({name:"m:sPrePr"}),xS=class extends ke{constructor({children:e,subScript:r,superScript:n}){super({name:"m:sPre",children:[i4(),zt({children:e}),mo({children:r}),go({children:n})]})}},YY="",Lh=class extends ue{constructor(e){if(super("m:deg"),e)for(let r of e)this.root.push(r)}},ES=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{hide:"m:val"})}},SS=class extends ue{constructor(){super("m:degHide"),this.root.push(new ES({hide:1}))}},Fh=class extends ue{constructor(e){super("m:radPr"),e||this.root.push(new SS)}},kS=class extends ue{constructor(e){super("m:rad"),this.root.push(new Fh(!!e.degree)),this.root.push(new Lh(e.degree)),this.root.push(zt({children:e.children}))}},Bh=class extends ue{constructor(e){super("m:fName");for(let r of e)this.root.push(r)}},Uh=class extends ue{constructor(){super("m:funcPr")}},TS=class extends ue{constructor(e){super("m:func"),this.root.push(new Uh),this.root.push(new Bh(e.name)),this.root.push(zt({children:e.children}))}},ZY=({character:t})=>new ke({name:"m:begChr",attributes:{character:{key:"m:val",value:t}}}),QY=({character:t})=>new ke({name:"m:endChr",attributes:{character:{key:"m:val",value:t}}}),Td=({characters:t})=>new ke({name:"m:dPr",children:t?[ZY({character:t.beginningCharacter}),QY({character:t.endingCharacter})]:[]}),AS=class extends ue{constructor(e){super("m:d"),this.root.push(Td({})),this.root.push(zt({children:e.children}))}},OS=class extends ue{constructor(e){super("m:d"),this.root.push(Td({characters:{beginningCharacter:"[",endingCharacter:"]"}})),this.root.push(zt({children:e.children}))}},NS=class extends ue{constructor(e){super("m:d"),this.root.push(Td({characters:{beginningCharacter:"{",endingCharacter:"}"}})),this.root.push(zt({children:e.children}))}},RS=class extends ue{constructor(e){super("m:d"),this.root.push(Td({characters:{beginningCharacter:"\u2329",endingCharacter:"\u232A"}})),this.root.push(zt({children:e.children}))}},CS=class extends ue{constructor(e){super("w:tblGrid");for(let r of e)this.root.push(new IS(r))}},IS=class extends ue{constructor(e){super("w:gridCol"),e!==void 0&&this.root.push(new Xt({width:{key:"w:w",value:lt(e)}}))}},s4={TABLE:"w:tblCellMar",TABLE_CELL:"w:tcMar"},Hh=class extends cr{constructor(e,{marginUnitType:r=zh.DXA,top:n,left:i,bottom:s,right:a}){super(e),n!==void 0&&this.root.push(new tn("w:top",{type:r,size:n})),i!==void 0&&this.root.push(new tn("w:left",{type:r,size:i})),s!==void 0&&this.root.push(new tn("w:bottom",{type:r,size:s})),a!==void 0&&this.root.push(new tn("w:right",{type:r,size:a}))}},zh={AUTO:"auto",DXA:"dxa",NIL:"nil",PERCENTAGE:"pct"},tn=class extends ue{constructor(e,{type:r=zh.AUTO,size:n}){super(e);let i=n;r===zh.PERCENTAGE&&typeof n=="number"&&(i=`${n}%`),this.root.push(new Xt({type:{key:"w:type",value:r},size:{key:"w:w",value:_T(i)}}))}},jh=class extends cr{constructor(e){super("w:tcBorders"),e.top&&this.root.push(new Be("w:top",e.top)),e.start&&this.root.push(new Be("w:start",e.start)),e.left&&this.root.push(new Be("w:left",e.left)),e.bottom&&this.root.push(new Be("w:bottom",e.bottom)),e.end&&this.root.push(new Be("w:end",e.end)),e.right&&this.root.push(new Be("w:right",e.right))}},PS=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}},Wh=class extends ue{constructor(e){super("w:gridSpan"),this.root.push(new PS({val:vt(e)}))}},TT={CONTINUE:"continue",RESTART:"restart"},DS=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}},yl=class extends ue{constructor(e){super("w:vMerge"),this.root.push(new DS({val:e}))}},eZ={BOTTOM_TO_TOP_LEFT_TO_RIGHT:"btLr",LEFT_TO_RIGHT_TOP_TO_BOTTOM:"lrTb",TOP_TO_BOTTOM_RIGHT_TO_LEFT:"tbRl"},MS=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}},qh=class extends ue{constructor(e){super("w:textDirection"),this.root.push(new MS({val:e}))}},LS=class extends cr{constructor(e){super("w:tcPr"),e.width&&this.root.push(new tn("w:tcW",e.width)),e.columnSpan&&this.root.push(new Wh(e.columnSpan)),e.verticalMerge?this.root.push(new yl(e.verticalMerge)):e.rowSpan&&e.rowSpan>1&&this.root.push(new yl(TT.RESTART)),e.borders&&this.root.push(new jh(e.borders)),e.shading&&this.root.push(new $i(e.shading)),e.margins&&this.root.push(new Hh(s4.TABLE_CELL,e.margins)),e.textDirection&&this.root.push(new qh(e.textDirection)),e.verticalAlign&&this.root.push(new gl(e.verticalAlign))}},wl=class extends ue{constructor(e){super("w:tc"),this.options=e,this.root.push(new LS(e));for(let r of e.children)this.root.push(r)}prepForXml(e){return this.root[this.root.length-1]instanceof nn||this.root.push(new nn({})),super.prepForXml(e)}},Qs={style:kd.NONE,size:0,color:"auto"},eo={style:kd.SINGLE,size:4,color:"auto"},bl=class extends ue{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Be("w:top",e.top)):this.root.push(new Be("w:top",eo)),e.left?this.root.push(new Be("w:left",e.left)):this.root.push(new Be("w:left",eo)),e.bottom?this.root.push(new Be("w:bottom",e.bottom)):this.root.push(new Be("w:bottom",eo)),e.right?this.root.push(new Be("w:right",e.right)):this.root.push(new Be("w:right",eo)),e.insideHorizontal?this.root.push(new Be("w:insideH",e.insideHorizontal)):this.root.push(new Be("w:insideH",eo)),e.insideVertical?this.root.push(new Be("w:insideV",e.insideVertical)):this.root.push(new Be("w:insideV",eo))}};ce(bl,"NONE",{top:Qs,bottom:Qs,left:Qs,right:Qs,insideHorizontal:Qs,insideVertical:Qs});var tZ={MARGIN:"margin",PAGE:"page",TEXT:"text"},rZ={CENTER:"center",INSIDE:"inside",LEFT:"left",OUTSIDE:"outside",RIGHT:"right"},nZ={CENTER:"center",INSIDE:"inside",BOTTOM:"bottom",OUTSIDE:"outside",INLINE:"inline",TOP:"top"},iZ={NEVER:"never",OVERLAP:"overlap"},Vh=class extends ue{constructor({horizontalAnchor:e,verticalAnchor:r,absoluteHorizontalPosition:n,relativeHorizontalPosition:i,absoluteVerticalPosition:s,relativeVerticalPosition:a,bottomFromText:o,topFromText:l,leftFromText:u,rightFromText:c,overlap:f}){super("w:tblpPr"),this.root.push(new Xt({leftFromText:{key:"w:leftFromText",value:u===void 0?void 0:lt(u)},rightFromText:{key:"w:rightFromText",value:c===void 0?void 0:lt(c)},topFromText:{key:"w:topFromText",value:l===void 0?void 0:lt(l)},bottomFromText:{key:"w:bottomFromText",value:o===void 0?void 0:lt(o)},absoluteHorizontalPosition:{key:"w:tblpX",value:n===void 0?void 0:en(n)},absoluteVerticalPosition:{key:"w:tblpY",value:s===void 0?void 0:en(s)},horizontalAnchor:{key:"w:horzAnchor",value:e===void 0?void 0:e},relativeHorizontalPosition:{key:"w:tblpXSpec",value:i},relativeVerticalPosition:{key:"w:tblpYSpec",value:a},verticalAnchor:{key:"w:vertAnchor",value:r}})),f&&this.root.push(new zf("w:tblOverlap",f))}},sZ={AUTOFIT:"autofit",FIXED:"fixed"},FS=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{type:"w:type"})}},Kh=class extends ue{constructor(e){super("w:tblLayout"),this.root.push(new FS({type:e}))}},oZ={DXA:"dxa"},Gh=class extends ue{constructor({type:e=oZ.DXA,value:r}){super("w:tblCellSpacing"),this.root.push(new Xt({type:{key:"w:type",value:e},value:{key:"w:w",value:_T(r)}}))}},$h=class extends cr{constructor(e){super("w:tblPr"),e.style&&this.root.push(new Tr("w:tblStyle",e.style)),e.float&&this.root.push(new Vh(e.float)),e.visuallyRightToLeft!==void 0&&this.root.push(new me("w:bidiVisual",e.visuallyRightToLeft)),e.width&&this.root.push(new tn("w:tblW",e.width)),e.alignment&&this.root.push(new ll(e.alignment)),e.indent&&this.root.push(new tn("w:tblInd",e.indent)),e.borders&&this.root.push(new bl(e.borders)),e.shading&&this.root.push(new $i(e.shading)),e.layout&&this.root.push(new Kh(e.layout)),e.cellMargin&&this.root.push(new Hh(s4.TABLE,e.cellMargin)),e.cellSpacing&&this.root.push(new Gh(e.cellSpacing))}},BS=class extends Xi{constructor({rows:e,width:r,columnWidths:n=Array(Math.max(...e.map(h=>h.CellCount))).fill(100),margins:i,indent:s,float:a,layout:o,style:l,borders:u,alignment:c,visuallyRightToLeft:f,cellSpacing:d}){super("w:tbl"),this.root.push(new $h({borders:u??{},width:r??{size:100},indent:s,float:a,layout:o,style:l,alignment:c,cellMargin:i,visuallyRightToLeft:f,cellSpacing:d})),this.root.push(new CS(n));for(let h of e)this.root.push(h);e.forEach((h,y)=>{if(y===e.length-1)return;let v=0;h.cells.forEach(x=>{if(x.options.rowSpan&&x.options.rowSpan>1){let m=new wl({rowSpan:x.options.rowSpan-1,columnSpan:x.options.columnSpan,borders:x.options.borders,children:[],verticalMerge:TT.CONTINUE});e[y+1].addCellToColumnIndex(m,v)}v+=x.options.columnSpan||1})})}},aZ={AUTO:"auto",ATLEAST:"atLeast",EXACT:"exact"},Jh=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{value:"w:val",rule:"w:hRule"})}},Xh=class extends ue{constructor(e,r){super("w:trHeight"),this.root.push(new Jh({value:lt(e),rule:r}))}},Yh=class extends cr{constructor(e){super("w:trPr"),e.cantSplit!==void 0&&this.root.push(new me("w:cantSplit",e.cantSplit)),e.tableHeader!==void 0&&this.root.push(new me("w:tblHeader",e.tableHeader)),e.height&&this.root.push(new Xh(e.height.value,e.height.rule)),e.cellSpacing&&this.root.push(new Gh(e.cellSpacing))}},US=class extends ue{constructor(e){super("w:tr"),this.options=e,this.root.push(new Yh(e));for(let r of e.children)this.root.push(r)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(e=>e instanceof wl)}addCellToIndex(e,r){this.root.splice(r+1,0,e)}addCellToColumnIndex(e,r){let n=this.columnIndexToRootIndex(r,!0);this.addCellToIndex(e,n-1)}rootIndexToColumnIndex(e){if(e<1||e>=this.root.length)throw new Error(`cell 'rootIndex' should between 1 to ${this.root.length-1}`);let r=0;for(let n=1;n<e;n++){let i=this.root[n];r+=i.options.columnSpan||1}return r}columnIndexToRootIndex(e,r=!1){if(e<0)throw new Error("cell 'columnIndex' should not less than zero");let n=0,i=1;for(;n<=e;){if(i>=this.root.length){if(r)return this.root.length;throw new Error(`cell 'columnIndex' should not great than ${n-1}`)}let s=this.root[i];i+=1,n+=s&&s.options.columnSpan||1}return i-1}},HS=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}},zS=class extends ue{constructor(){super("Properties"),this.root.push(new HS({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}},jS=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{xmlns:"xmlns"})}},WS=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}},Sr=class extends ue{constructor(e,r){super("Default"),this.root.push(new WS({contentType:e,extension:r}))}},qS=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}},Jt=class extends ue{constructor(e,r){super("Override"),this.root.push(new qS({contentType:e,partName:r}))}},VS=class extends ue{constructor(){super("Types"),this.root.push(new jS({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Sr("image/png","png")),this.root.push(new Sr("image/jpeg","jpeg")),this.root.push(new Sr("image/jpeg","jpg")),this.root.push(new Sr("image/bmp","bmp")),this.root.push(new Sr("image/gif","gif")),this.root.push(new Sr("image/svg+xml","svg")),this.root.push(new Sr("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Sr("application/xml","xml")),this.root.push(new Sr("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Jt("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Jt("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Jt("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Jt("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Jt("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Jt("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Jt("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Jt("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Jt("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Jt("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Jt("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Jt("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}},KS=class extends ue{constructor(e){super("cp:coreProperties"),this.root.push(new Yi(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Zr("dc:title",e.title)),e.subject&&this.root.push(new Zr("dc:subject",e.subject)),e.creator&&this.root.push(new Zr("dc:creator",e.creator)),e.keywords&&this.root.push(new Zr("cp:keywords",e.keywords)),e.description&&this.root.push(new Zr("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Zr("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Zr("cp:revision",String(e.revision))),this.root.push(new Zh("dcterms:created")),this.root.push(new Zh("dcterms:modified"))}},GS=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{type:"xsi:type"})}},Zh=class extends ue{constructor(e){super(e),this.root.push(new GS({type:"dcterms:W3CDTF"})),this.root.push(_3(new Date))}},$S=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}},JS=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}},XS=class extends ue{constructor(e,r){super("property"),this.root.push(new JS({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new YS(r.value))}},YS=class extends ue{constructor(e){super("vt:lpwstr"),this.root.push(e)}},ZS=class extends ue{constructor(e){super("Properties"),ce(this,"nextId"),ce(this,"properties",[]),this.root.push(new $S({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(let r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new XS(this.nextId++,e))}},lZ={ANSI:"00",DEFAULT:"01",SYMBOL:"02",MAC:"4D",JIS:"80",HANGUL:"81",JOHAB:"82",GB_2312:"86",CHINESEBIG5:"88",GREEK:"A1",TURKISH:"A2",VIETNAMESE:"A3",HEBREW:"B1",ARABIC:"B2",BALTIC:"BA",RUSSIAN:"CC",THAI:"DE",EASTEUROPE:"EE",OEM:"FF"},Df=({id:t,fontKey:e,subsetted:r},n)=>new ke({name:n,attributes:Te({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new me("w:subsetted",r)]:[]]}),uZ=({name:t,altName:e,panose1:r,charset:n,family:i,notTrueType:s,pitch:a,sig:o,embedRegular:l,embedBold:u,embedItalic:c,embedBoldItalic:f})=>new ke({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[ro("w:altName",e)]:[],...r?[ro("w:panose1",r)]:[],...n?[ro("w:charset",n)]:[],ro("w:family",i),...s?[new me("w:notTrueType",s)]:[],ro("w:pitch",a),...o?[new ke({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:o.usb0},usb1:{key:"w:usb1",value:o.usb1},usb2:{key:"w:usb2",value:o.usb2},usb3:{key:"w:usb3",value:o.usb3},csb0:{key:"w:csb0",value:o.csb0},csb1:{key:"w:csb1",value:o.csb1}}})]:[],...l?[Df(l,"w:embedRegular")]:[],...u?[Df(u,"w:embedBold")]:[],...c?[Df(c,"w:embedItalic")]:[],...f?[Df(f,"w:embedBoldItalic")]:[]]}),cZ=({name:t,index:e,fontKey:r,characterSet:n})=>uZ({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),fZ=t=>new ke({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>cZ({name:e.name,index:r+1,fontKey:e.fontKey}))}),QS=class{constructor(e){ce(this,"fontTable"),ce(this,"relationships"),ce(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>It(Te({},r),{fontKey:C3()})),this.fontTable=fZ(this.fontOptionsWithKey),this.relationships=new Dn;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}},ek=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}},hZ=class extends al{constructor(e,r){super("w:ftr",r),ce(this,"refId"),this.refId=e,r||this.root.push(new ek({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}},Qh=class{constructor(e,r,n){ce(this,"footer"),ce(this,"relationships"),this.media=e,this.footer=new hZ(r,n),this.relationships=new Dn}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}},tk=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{type:"w:type",id:"w:id"})}},rk=class extends ue{constructor(){super("w:footnoteRef")}},nk=class extends Pt{constructor(){super({style:"FootnoteReference"}),this.root.push(new rk)}},ML={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"},ol=class extends ue{constructor(e){super("w:footnote"),this.root.push(new tk({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){let n=e.children[r];r===0&&n.addRunToFront(new nk),this.root.push(n)}}},ik=class extends ue{constructor(){super("w:continuationSeparator")}},sk=class extends Pt{constructor(){super({}),this.root.push(new ik)}},ok=class extends ue{constructor(){super("w:separator")}},ak=class extends Pt{constructor(){super({}),this.root.push(new ok)}},lk=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}},ed=class extends ue{constructor(){super("w:footnotes"),this.root.push(new lk({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));let e=new ol({id:-1,type:ML.SEPERATOR,children:[new nn({spacing:{after:0,line:240,lineRule:lh.AUTO},children:[new ak]})]});this.root.push(e);let r=new ol({id:0,type:ML.CONTINUATION_SEPERATOR,children:[new nn({spacing:{after:0,line:240,lineRule:lh.AUTO},children:[new sk]})]});this.root.push(r)}createFootNote(e,r){let n=new ol({id:e,children:r});this.root.push(n)}},uk=class{constructor(){ce(this,"footnotess"),ce(this,"relationships"),this.footnotess=new ed,this.relationships=new Dn}get View(){return this.footnotess}get Relationships(){return this.relationships}},ck=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}},dZ=class extends al{constructor(e,r){super("w:hdr",r),ce(this,"refId"),this.refId=e,r||this.root.push(new ck({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}},td=class{constructor(e,r,n){ce(this,"header"),ce(this,"relationships"),this.media=e,this.header=new dZ(r,n),this.relationships=new Dn}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}},_l=class{constructor(){ce(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}},pZ="",Jr={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH__DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULLSTOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PARENTHESES:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW1:"hebrew1",HEBREW2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText",CUSTOM:"custom"},fk=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}},hk=class extends ue{constructor(e){super("w:numFmt"),this.root.push(new Ve({val:e}))}},dk=class extends ue{constructor(e){super("w:lvlText"),this.root.push(new Ve({val:e}))}},pk=class extends ue{constructor(e){super("w:lvlJc"),this.root.push(new Ve({val:e}))}},mZ={NOTHING:"nothing",SPACE:"space",TAB:"tab"},mk=class extends ue{constructor(e){super("w:suff"),this.root.push(new Ve({val:e}))}},gk=class extends ue{constructor(){super("w:isLgl")}},xl=class extends ue{constructor({level:e,format:r,text:n,alignment:i=Er.START,start:s=1,style:a,suffix:o,isLegalNumberingStyle:l}){if(super("w:lvl"),ce(this,"paragraphProperties"),ce(this,"runProperties"),this.root.push(new ii("w:start",vt(s))),r&&this.root.push(new hk(r)),o&&this.root.push(new mk(o)),l&&this.root.push(new gk),n&&this.root.push(new dk(n)),this.root.push(new pk(i)),this.paragraphProperties=new rn(a&&a.paragraph),this.runProperties=new Ar(a&&a.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new fk({ilvl:vt(e),tentative:1}))}},rd=class extends xl{},vk=class extends xl{},yk=class extends ue{constructor(e){super("w:multiLevelType"),this.root.push(new Ve({val:e}))}},wk=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}},El=class extends ue{constructor(e,r){super("w:abstractNum"),ce(this,"id"),this.root.push(new wk({abstractNumId:vt(e),restartNumberingAfterBreak:0})),this.root.push(new yk("hybridMultilevel")),this.id=e;for(let n of r)this.root.push(new rd(n))}},bk=class extends ue{constructor(e){super("w:abstractNumId"),this.root.push(new Ve({val:e}))}},_k=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{numId:"w:numId"})}},Sl=class extends ue{constructor(e){if(super("w:num"),ce(this,"numId"),ce(this,"reference"),ce(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new _k({numId:vt(e.numId)})),this.root.push(new bk(vt(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(let r of e.overrideLevels)this.root.push(new nd(r.num,r.start))}},xk=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{ilvl:"w:ilvl"})}},nd=class extends ue{constructor(e,r){super("w:lvlOverride"),this.root.push(new xk({ilvl:e})),r!==void 0&&this.root.push(new Sk(r))}},Ek=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}},Sk=class extends ue{constructor(e){super("w:startOverride"),this.root.push(new Ek({val:e}))}},id=class extends ue{constructor(e){super("w:numbering"),ce(this,"abstractNumberingMap",new Map),ce(this,"concreteNumberingMap",new Map),ce(this,"referenceConfigMap",new Map),ce(this,"abstractNumUniqueNumericId",A3()),ce(this,"concreteNumUniqueNumericId",O3()),this.root.push(new Yi(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));let r=new El(this.abstractNumUniqueNumericId(),[{level:0,format:Jr.BULLET,text:"\u25CF",alignment:Er.LEFT,style:{paragraph:{indent:{left:ar(.5),hanging:ar(.25)}}}},{level:1,format:Jr.BULLET,text:"\u25CB",alignment:Er.LEFT,style:{paragraph:{indent:{left:ar(1),hanging:ar(.25)}}}},{level:2,format:Jr.BULLET,text:"\u25A0",alignment:Er.LEFT,style:{paragraph:{indent:{left:2160,hanging:ar(.25)}}}},{level:3,format:Jr.BULLET,text:"\u25CF",alignment:Er.LEFT,style:{paragraph:{indent:{left:2880,hanging:ar(.25)}}}},{level:4,format:Jr.BULLET,text:"\u25CB",alignment:Er.LEFT,style:{paragraph:{indent:{left:3600,hanging:ar(.25)}}}},{level:5,format:Jr.BULLET,text:"\u25A0",alignment:Er.LEFT,style:{paragraph:{indent:{left:4320,hanging:ar(.25)}}}},{level:6,format:Jr.BULLET,text:"\u25CF",alignment:Er.LEFT,style:{paragraph:{indent:{left:5040,hanging:ar(.25)}}}},{level:7,format:Jr.BULLET,text:"\u25CF",alignment:Er.LEFT,style:{paragraph:{indent:{left:5760,hanging:ar(.25)}}}},{level:8,format:Jr.BULLET,text:"\u25CF",alignment:Er.LEFT,style:{paragraph:{indent:{left:6480,hanging:ar(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new Sl({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(let n of e.config)this.abstractNumberingMap.set(n.reference,new El(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(let r of this.abstractNumberingMap.values())this.root.push(r);for(let r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){let n=this.abstractNumberingMap.get(e);if(!n)return;let i=`${e}-${r}`;if(this.concreteNumberingMap.has(i))return;let s=this.referenceConfigMap.get(e),a=s&&s[0].start,o={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:r,overrideLevels:[a&&Number.isInteger(a)?{num:0,start:a}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new Sl(o))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}},kk=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}},Tk=class extends ue{constructor(e){super("w:compatSetting"),this.root.push(new kk({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}},Ak=class extends ue{constructor(e){super("w:compat"),e.version&&this.root.push(new Tk(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new me("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new me("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new me("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new me("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new me("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new me("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new me("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new me("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new me("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new me("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new me("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new me("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new me("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new me("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new me("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new me("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new me("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new me("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new me("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new me("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new me("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new me("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new me("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new me("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new me("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new me("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new me("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new me("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new me("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new me("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new me("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new me("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new me("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new me("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new me("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new me("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new me("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new me("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new me("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new me("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new me("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new me("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new me("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new me("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new me("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new me("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new me("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new me("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new me("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new me("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new me("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new me("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new me("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new me("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new me("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new me("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new me("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new me("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new me("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new me("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new me("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new me("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new me("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new me("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new me("w:cachedColBalance",e.cachedColumnBalance))}},Ok=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}},Nk=class extends ue{constructor(e){var r,n,i,s,a,o,l,u;super("w:settings"),this.root.push(new Ok({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new me("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new me("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new me("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new me("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new ii("w:defaultTabStop",e.defaultTabStop)),((r=e.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new me("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new ii("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new ii("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new me("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new Ak(It(Te({},(a=e.compatibility)!=null?a:{}),{version:(u=(l=(o=e.compatibility)==null?void 0:o.version)!=null?l:e.compatibilityModeVersion)!=null?u:15})))}},sd=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w:val"})}},Rk=class extends ue{constructor(e){super("w:name"),this.root.push(new sd({val:e}))}},Ck=class extends ue{constructor(e){super("w:uiPriority"),this.root.push(new sd({val:vt(e)}))}},Ik=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}},od=class extends ue{constructor(e,r){super("w:style"),this.root.push(new Ik(e)),r.name&&this.root.push(new Rk(r.name)),r.basedOn&&this.root.push(new Tr("w:basedOn",r.basedOn)),r.next&&this.root.push(new Tr("w:next",r.next)),r.link&&this.root.push(new Tr("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new Ck(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new me("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new me("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new me("w:qFormat",r.quickFormat))}},Zi=class extends od{constructor(e){super({type:"paragraph",styleId:e.id},e),ce(this,"paragraphProperties"),ce(this,"runProperties"),this.paragraphProperties=new rn(e.paragraph),this.runProperties=new Ar(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}},Qi=class extends od{constructor(e){super({type:"character",styleId:e.id},Te({uiPriority:99,unhideWhenUsed:!0},e)),ce(this,"runProperties"),this.runProperties=new Ar(e.run),this.root.push(this.runProperties)}},sn=class extends Zi{constructor(e){super(Te({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}},Pk=class extends sn{constructor(e){super(Te({id:"Title",name:"Title"},e))}},Dk=class extends sn{constructor(e){super(Te({id:"Heading1",name:"Heading 1"},e))}},Mk=class extends sn{constructor(e){super(Te({id:"Heading2",name:"Heading 2"},e))}},Lk=class extends sn{constructor(e){super(Te({id:"Heading3",name:"Heading 3"},e))}},Fk=class extends sn{constructor(e){super(Te({id:"Heading4",name:"Heading 4"},e))}},Bk=class extends sn{constructor(e){super(Te({id:"Heading5",name:"Heading 5"},e))}},Uk=class extends sn{constructor(e){super(Te({id:"Heading6",name:"Heading 6"},e))}},Hk=class extends sn{constructor(e){super(Te({id:"Strong",name:"Strong"},e))}},zk=class extends Zi{constructor(e){super(Te({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}},jk=class extends Zi{constructor(e){super(Te({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:lh.AUTO}},run:{size:20}},e))}},Wk=class extends Qi{constructor(e){super(Te({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}},qk=class extends Qi{constructor(e){super(Te({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}},Vk=class extends Qi{constructor(e){super(Te({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:ST.SINGLE}}},e))}},ho=class extends ue{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(let r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(let r of e.paragraphStyles)this.root.push(new Zi(r));if(e.characterStyles)for(let r of e.characterStyles)this.root.push(new Qi(r))}},ad=class extends ue{constructor(e){super("w:pPrDefault"),this.root.push(new rn(e))}},ld=class extends ue{constructor(e){super("w:rPrDefault"),this.root.push(new Ar(e))}},ud=class extends ue{constructor(e){super("w:docDefaults"),ce(this,"runPropertiesDefaults"),ce(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new ld(e.run),this.paragraphPropertiesDefaults=new ad(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}},Kk=class{newInstance(e){let r=xd.xml2js(e,{compact:!1}),n;for(let a of r.elements||[])a.name==="w:styles"&&(n=a);if(n===void 0)throw new Error("can not find styles element");let i=n.elements||[];return new ho({initialStyles:new Hf(n.attributes),importedStyles:i.map(a=>Ed(a))})}},cd=class{newInstance(e={}){var r;return{initialStyles:new Yi(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new ud((r=e.document)!=null?r:{}),new Pk(Te({run:{size:56}},e.title)),new Dk(Te({run:{color:"2E74B5",size:32}},e.heading1)),new Mk(Te({run:{color:"2E74B5",size:26}},e.heading2)),new Lk(Te({run:{color:"1F4D78",size:24}},e.heading3)),new Fk(Te({run:{color:"2E74B5",italics:!0}},e.heading4)),new Bk(Te({run:{color:"2E74B5"}},e.heading5)),new Uk(Te({run:{color:"1F4D78"}},e.heading6)),new Hk(Te({run:{bold:!0}},e.strong)),new zk(e.listParagraph||{}),new Vk(e.hyperlink||{}),new Wk(e.footnoteReference||{}),new jk(e.footnoteText||{}),new qk(e.footnoteTextChar||{})]}}},fd=class{constructor(e){ce(this,"currentRelationshipId",1),ce(this,"documentWrapper"),ce(this,"headers",[]),ce(this,"footers",[]),ce(this,"coreProperties"),ce(this,"numbering"),ce(this,"media"),ce(this,"fileRelationships"),ce(this,"footnotesWrapper"),ce(this,"settings"),ce(this,"contentTypes"),ce(this,"customProperties"),ce(this,"appProperties"),ce(this,"styles"),ce(this,"comments"),ce(this,"fontWrapper");var r,n,i,s,a,o,l,u,c,f,d,h;if(this.coreProperties=new KS(It(Te({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new id(e.numbering?e.numbering:{config:[]}),this.comments=new sh((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new Dn,this.customProperties=new ZS((a=e.customProperties)!=null?a:[]),this.appProperties=new zS,this.footnotesWrapper=new uk,this.contentTypes=new VS,this.documentWrapper=new Ph({background:e.background}),this.settings=new Nk({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(o=e.features)==null?void 0:o.trackRevisions,updateFields:(l=e.features)==null?void 0:l.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(u=e.hyphenation)==null?void 0:u.autoHyphenation,hyphenationZone:(c=e.hyphenation)==null?void 0:c.hyphenationZone,consecutiveHyphenLimit:(f=e.hyphenation)==null?void 0:f.consecutiveHyphenLimit,doNotHyphenateCaps:(d=e.hyphenation)==null?void 0:d.doNotHyphenateCaps}}),this.media=new _l,e.externalStyles!==void 0){let y=new Kk;this.styles=y.newInstance(e.externalStyles)}else if(e.styles){let v=new cd().newInstance(e.styles.default);this.styles=new ho(Te(Te({},v),e.styles))}else{let y=new cd;this.styles=new ho(y.newInstance())}this.addDefaultRelationships();for(let y of e.sections)this.addSection(y);if(e.footnotes)for(let y in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(y),e.footnotes[y].children);this.fontWrapper=new QS((h=e.fonts)!=null?h:[])}addSection({headers:e={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(It(Te({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(let s of n)this.documentWrapper.View.add(s)}createHeader(e){let r=new td(this.media,this.currentRelationshipId++);for(let n of e.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(e){let r=new Qh(this.media,this.currentRelationshipId++);for(let n of e.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=Vi.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=Vi.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}},Gk=class extends ue{constructor(e={}){super("w:instrText"),ce(this,"properties"),this.properties=e,this.root.push(new Ht({space:Yt.PRESERVE}));let r="TOC";if(this.properties.captionLabel&&(r=`${r} \\a "${this.properties.captionLabel}"`),this.properties.entriesFromBookmark&&(r=`${r} \\b "${this.properties.entriesFromBookmark}"`),this.properties.captionLabelIncludingNumbers&&(r=`${r} \\c "${this.properties.captionLabelIncludingNumbers}"`),this.properties.sequenceAndPageNumbersSeparator&&(r=`${r} \\d "${this.properties.sequenceAndPageNumbersSeparator}"`),this.properties.tcFieldIdentifier&&(r=`${r} \\f "${this.properties.tcFieldIdentifier}"`),this.properties.hyperlink&&(r=`${r} \\h`),this.properties.tcFieldLevelRange&&(r=`${r} \\l "${this.properties.tcFieldLevelRange}"`),this.properties.pageNumbersEntryLevelsRange&&(r=`${r} \\n "${this.properties.pageNumbersEntryLevelsRange}"`),this.properties.headingStyleRange&&(r=`${r} \\o "${this.properties.headingStyleRange}"`),this.properties.entryAndPageNumberSeparator&&(r=`${r} \\p "${this.properties.entryAndPageNumberSeparator}"`),this.properties.seqFieldIdentifierForPrefix&&(r=`${r} \\s "${this.properties.seqFieldIdentifierForPrefix}"`),this.properties.stylesWithLevels&&this.properties.stylesWithLevels.length){let n=this.properties.stylesWithLevels.map(i=>`${i.styleName},${i.level}`).join(",");r=`${r} \\t "${n}"`}this.properties.useAppliedParagraphOutlineLevel&&(r=`${r} \\u`),this.properties.preserveTabInEntries&&(r=`${r} \\w`),this.properties.preserveNewLineInEntries&&(r=`${r} \\x`),this.properties.hideTabAndPageNumbersInWebView&&(r=`${r} \\z`),this.root.push(r)}},hd=class extends ue{constructor(){super("w:sdtContent")}},dd=class extends ue{constructor(e){super("w:sdtPr"),e&&this.root.push(new Tr("w:alias",e))}},$k=class extends Xi{constructor(e="Table of Contents",r){super("w:sdt"),this.root.push(new dd(e));let n=new hd,i=new nn({children:[new Pt({children:[new lr(!0),new Gk(r),new kr]})]});n.addChildElement(i);let s=new nn({children:[new Pt({children:[new ur]})]});n.addChildElement(s),this.root.push(n)}},Jk=class{constructor(e,r){ce(this,"styleName"),ce(this,"level"),this.styleName=e,this.level=r}},Xk=class{constructor(e={children:[]}){ce(this,"options"),this.options=e}},Yk=class{constructor(e={children:[]}){ce(this,"options"),this.options=e}},pd=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{id:"w:id"})}},md=class extends ue{constructor(e){super("w:footnoteReference"),this.root.push(new pd({id:e}))}},Zk=class extends Pt{constructor(e){super({style:"FootnoteReference"}),this.root.push(new md(e))}},Qk=class extends ue{constructor(e){super("w:ins"),this.root.push(new cl({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Ji(e))}},eT=class extends ue{constructor(){super("w:delInstrText"),this.root.push(new Ht({space:Yt.PRESERVE})),this.root.push("PAGE")}},tT=class extends ue{constructor(){super("w:delInstrText"),this.root.push(new Ht({space:Yt.PRESERVE})),this.root.push("NUMPAGES")}},rT=class extends ue{constructor(){super("w:delInstrText"),this.root.push(new Ht({space:Yt.PRESERVE})),this.root.push("SECTIONPAGES")}},gd=class extends ue{constructor(e){super("w:delText"),this.root.push(new Ht({space:Yt.PRESERVE})),this.root.push(e)}},nT=class extends ue{constructor(e){super("w:del"),ce(this,"deletedTextRunWrapper"),this.root.push(new cl({id:e.id,author:e.author,date:e.date})),this.deletedTextRunWrapper=new iT(e),this.addChildElement(this.deletedTextRunWrapper)}},iT=class extends ue{constructor(e){if(super("w:r"),this.root.push(new Ar(e)),e.children)for(let r of e.children){if(typeof r=="string"){switch(r){case ni.CURRENT:this.root.push(new lr),this.root.push(new eT),this.root.push(new kr),this.root.push(new ur);break;case ni.TOTAL_PAGES:this.root.push(new lr),this.root.push(new tT),this.root.push(new kr),this.root.push(new ur);break;case ni.TOTAL_PAGES_IN_SECTION:this.root.push(new lr),this.root.push(new rT),this.root.push(new kr),this.root.push(new ur);break;default:this.root.push(new gd(r));break}continue}this.root.push(r)}else e.text&&this.root.push(new gd(e.text));if(e.break)for(let r=0;r<e.break;r++)this.root.splice(1,0,new x3)}},vd=class extends we{constructor(){super(...arguments),ce(this,"xmlKeys",{val:"w14:val",symbolfont:"w14:font"})}},uo=class extends ue{constructor(e,r,n){super(e),n?this.root.push(new vd({val:g3(r),symbolfont:n})):this.root.push(new vd({val:r}))}},yd=class extends ue{constructor(e){var r,n,i,s,a,o,l,u;super("w14:checkbox"),ce(this,"DEFAULT_UNCHECKED_SYMBOL","2610"),ce(this,"DEFAULT_CHECKED_SYMBOL","2612"),ce(this,"DEFAULT_FONT","MS Gothic");let c=e?.checked?"1":"0",f,d;this.root.push(new uo("w14:checked",c)),f=(r=e?.checkedState)!=null&&r.value?(n=e?.checkedState)==null?void 0:n.value:this.DEFAULT_CHECKED_SYMBOL,d=(i=e?.checkedState)!=null&&i.font?(s=e?.checkedState)==null?void 0:s.font:this.DEFAULT_FONT,this.root.push(new uo("w14:checkedState",f,d)),f=(a=e?.uncheckedState)!=null&&a.value?(o=e?.uncheckedState)==null?void 0:o.value:this.DEFAULT_UNCHECKED_SYMBOL,d=(l=e?.uncheckedState)!=null&&l.font?(u=e?.uncheckedState)==null?void 0:u.font:this.DEFAULT_FONT,this.root.push(new uo("w14:uncheckedState",f,d))}},sT=class extends ue{constructor(e){var r,n,i,s;super("w:sdt"),ce(this,"DEFAULT_UNCHECKED_SYMBOL","2610"),ce(this,"DEFAULT_CHECKED_SYMBOL","2612"),ce(this,"DEFAULT_FONT","MS Gothic");let a=new dd(e?.alias);a.addChildElement(new yd(e)),this.root.push(a);let o=new hd,l=(r=e?.checkedState)==null?void 0:r.font,u=(n=e?.checkedState)==null?void 0:n.value,c=(i=e?.uncheckedState)==null?void 0:i.font,f=(s=e?.uncheckedState)==null?void 0:s.value,d,h;e?.checked?(d=l||this.DEFAULT_FONT,h=u||this.DEFAULT_CHECKED_SYMBOL):(d=c||this.DEFAULT_FONT,h=f||this.DEFAULT_UNCHECKED_SYMBOL);let y=new Xf({char:h,symbolfont:d});o.addChildElement(y),this.root.push(o)}},gZ=({shape:t})=>new ke({name:"w:pict",children:[t]}),vZ=({children:t=[]})=>new ke({name:"w:txbxContent",children:t}),yZ=({style:t,children:e,inset:r})=>new ke({name:"v:textbox",attributes:{style:{key:"style",value:t},insetMode:{key:"insetmode",value:r?"custom":"auto"},inset:{key:"inset",value:r?`${r.left}, ${r.top}, ${r.right}, ${r.bottom}`:void 0}},children:[vZ({children:e})]}),wZ="#_x0000_t202",bZ={flip:"flip",height:"height",left:"left",marginBottom:"margin-bottom",marginLeft:"margin-left",marginRight:"margin-right",marginTop:"margin-top",positionHorizontal:"mso-position-horizontal",positionHorizontalRelative:"mso-position-horizontal-relative",positionVertical:"mso-position-vertical",positionVerticalRelative:"mso-position-vertical-relative",wrapDistanceBottom:"mso-wrap-distance-bottom",wrapDistanceLeft:"mso-wrap-distance-left",wrapDistanceRight:"mso-wrap-distance-right",wrapDistanceTop:"mso-wrap-distance-top",wrapEdited:"mso-wrap-edited",wrapStyle:"mso-wrap-style",position:"position",rotation:"rotation",top:"top",visibility:"visibility",width:"width",zIndex:"z-index"},_Z=t=>t?Object.entries(t).map(([e,r])=>`${bZ[e]}:${r}`).join(";"):void 0,xZ=({id:t,children:e,type:r=wZ,style:n})=>new ke({name:"v:shape",attributes:{id:{key:"id",value:t},type:{key:"type",value:r},style:{key:"style",value:_Z(n)}},children:[yZ({style:"mso-fit-shape-to-text:t;",children:e})]}),oT=class extends Xi{constructor(e){var r=e,{style:n,children:i}=r,s=ZJ(r,["style","children"]);super("w:p"),this.root.push(new rn(s)),this.root.push(gZ({shape:xZ({children:i,id:Dl(),style:n})}))}},EZ=vT();function Mf(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fx={exports:{}},LL;function SZ(){return LL||(LL=1,(function(t,e){(function(r){t.exports=r()})(function(){return(function r(n,i,s){function a(u,c){if(!i[u]){if(!n[u]){var f=typeof Mf=="function"&&Mf;if(!c&&f)return f(u,!0);if(o)return o(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[u]={exports:{}};n[u][0].call(h.exports,function(y){var v=n[u][1][y];return a(v||y)},h,h.exports,r,n,i,s)}return i[u].exports}for(var o=typeof Mf=="function"&&Mf,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(r,n,i){var s=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,f,d,h,y,v,x=[],m=0,_=l.length,b=_,w=s.getTypeOf(l)!=="string";m<l.length;)b=_-m,f=w?(u=l[m++],c=m<_?l[m++]:0,m<_?l[m++]:0):(u=l.charCodeAt(m++),c=m<_?l.charCodeAt(m++):0,m<_?l.charCodeAt(m++):0),d=u>>2,h=(3&u)<<4|c>>4,y=1<b?(15&c)<<2|f>>6:64,v=2<b?63&f:64,x.push(o.charAt(d)+o.charAt(h)+o.charAt(y)+o.charAt(v));return x.join("")},i.decode=function(l){var u,c,f,d,h,y,v=0,x=0,m="data:";if(l.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var _,b=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&b--,l.charAt(l.length-2)===o.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=a.uint8array?new Uint8Array(0|b):new Array(0|b);v<l.length;)u=o.indexOf(l.charAt(v++))<<2|(d=o.indexOf(l.charAt(v++)))>>4,c=(15&d)<<4|(h=o.indexOf(l.charAt(v++)))>>2,f=(3&h)<<6|(y=o.indexOf(l.charAt(v++))),_[x++]=u,h!==64&&(_[x++]=c),y!==64&&(_[x++]=f);return _}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function u(c,f,d,h,y){this.compressedSize=c,this.uncompressedSize=f,this.crc32=d,this.compression=h,this.compressedContent=y}u.prototype={getContentWorker:function(){var c=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,f,d){return c.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(d)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),a=(function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l})();n.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?(function(u,c,f,d){var h=a,y=d+f;u^=-1;for(var v=d;v<y;v++)u=u>>>8^h[255&(u^c[v])];return-1^u})(0|l,o,o.length,0):(function(u,c,f,d){var h=a,y=d+f;u^=-1;for(var v=d;v<y;v++)u=u>>>8^h[255&(u^c.charCodeAt(v))];return-1^u})(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),u=s?"uint8array":"array";function c(f,d){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=d,this.meta={}}i.magic="\b\0",o.inherits(c,l),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,f.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(d){f.push({data:d,meta:f.meta})}},i.compressWorker=function(f){return new c("Deflate",f)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(h,y){var v,x="";for(v=0;v<y;v++)x+=String.fromCharCode(255&h),h>>>=8;return x}function a(h,y,v,x,m,_){var b,w,T=h.file,P=h.compression,M=_!==u.utf8encode,U=o.transformTo("string",_(T.name)),R=o.transformTo("string",u.utf8encode(T.name)),J=T.comment,oe=o.transformTo("string",_(J)),C=o.transformTo("string",u.utf8encode(J)),H=R.length!==T.name.length,k=C.length!==J.length,V="",Q="",j="",ie=T.dir,ee=T.date,le={crc32:0,compressedSize:0,uncompressedSize:0};y&&!v||(le.crc32=h.crc32,le.compressedSize=h.compressedSize,le.uncompressedSize=h.uncompressedSize);var G=0;y&&(G|=8),M||!H&&!k||(G|=2048);var D=0,$=0;ie&&(D|=16),m==="UNIX"?($=798,D|=(function(re,K){var O=re;return re||(O=K?16893:33204),(65535&O)<<16})(T.unixPermissions,ie)):($=20,D|=(function(re){return 63&(re||0)})(T.dosPermissions)),b=ee.getUTCHours(),b<<=6,b|=ee.getUTCMinutes(),b<<=5,b|=ee.getUTCSeconds()/2,w=ee.getUTCFullYear()-1980,w<<=4,w|=ee.getUTCMonth()+1,w<<=5,w|=ee.getUTCDate(),H&&(Q=s(1,1)+s(c(U),4)+R,V+="up"+s(Q.length,2)+Q),k&&(j=s(1,1)+s(c(oe),4)+C,V+="uc"+s(j.length,2)+j);var X="";return X+=`
\0`,X+=s(G,2),X+=P.magic,X+=s(b,2),X+=s(w,2),X+=s(le.crc32,4),X+=s(le.compressedSize,4),X+=s(le.uncompressedSize,4),X+=s(U.length,2),X+=s(V.length,2),{fileRecord:f.LOCAL_FILE_HEADER+X+U+V,dirRecord:f.CENTRAL_FILE_HEADER+s($,2)+X+s(oe.length,2)+"\0\0\0\0"+s(D,4)+s(x,4)+U+V+oe}}var o=r("../utils"),l=r("../stream/GenericWorker"),u=r("../utf8"),c=r("../crc32"),f=r("../signature");function d(h,y,v,x){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=v,this.encodeFileName=x,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(d,l),d.prototype.push=function(h){var y=h.meta.percent||0,v=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:v?(y+100*(v-x-1))/v:100}}))},d.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var y=this.streamFiles&&!h.file.dir;if(y){var v=a(h,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(h){this.accumulate=!1;var y=this.streamFiles&&!h.file.dir,v=a(h,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),y)this.push({data:(function(x){return f.DATA_DESCRIPTOR+s(x.crc32,4)+s(x.compressedSize,4)+s(x.uncompressedSize,4)})(h),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var h=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var v=this.bytesWritten-h,x=(function(m,_,b,w,T){var P=o.transformTo("string",T(w));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(m,2)+s(m,2)+s(_,4)+s(b,4)+s(P.length,2)+P})(this.dirRecords.length,v,h,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(h){this._sources.push(h);var y=this;return h.on("data",function(v){y.processChunk(v)}),h.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),h.on("error",function(v){y.error(v)}),this},d.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(h){var y=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var v=0;v<y.length;v++)try{y[v].error(h)}catch{}return!0},d.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,y=0;y<h.length;y++)h[y].lock()},n.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),a=r("./ZipFileWorker");i.generateWorker=function(o,l,u){var c=new a(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{o.forEach(function(d,h){f++;var y=(function(_,b){var w=_||b,T=s[w];if(!T)throw new Error(w+" is not a valid compression method !");return T})(h.options.compression,l.compression),v=h.options.compressionOptions||l.compressionOptions||{},x=h.dir,m=h.date;h._compressWorker(y,v).withStreamInfo("file",{name:d,dir:x,date:m,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(c)}),c.entriesCount=f}catch(d){c.error(d)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),a=r("./external"),o=r("./utf8"),l=r("./zipEntries"),u=r("./stream/Crc32Probe"),c=r("./nodejsUtils");function f(d){return new a.Promise(function(h,y){var v=d.decompressed.getContentWorker().pipe(new u);v.on("error",function(x){y(x)}).on("end",function(){v.streamInfo.crc32!==d.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(d,h){var y=this;return h=s.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(d)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",d,!0,h.optimizedBinaryString,h.base64).then(function(v){var x=new l(h);return x.load(v),x}).then(function(v){var x=[a.Promise.resolve(v)],m=v.files;if(h.checkCRC32)for(var _=0;_<m.length;_++)x.push(f(m[_]));return a.Promise.all(x)}).then(function(v){for(var x=v.shift(),m=x.files,_=0;_<m.length;_++){var b=m[_],w=b.fileNameStr,T=s.resolve(b.fileNameStr);y.file(T,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:h.createFolders}),b.dir||(y.file(T).unsafeOriginalName=w)}return x.zipComment.length&&(y.comment=x.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),a=r("../stream/GenericWorker");function o(l,u){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(o,a),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function a(o,l,u){s.call(this,l),this._helper=o;var c=this;o.on("data",function(f,d){c.push(f)||c._helper.pause(),u&&u(d)}).on("error",function(f){c.emit("error",f)}).on("end",function(){c.push(null)})}r("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(T,P,M){var U,R=o.getTypeOf(P),J=o.extend(M||{},c);J.date=J.date||new Date,J.compression!==null&&(J.compression=J.compression.toUpperCase()),typeof J.unixPermissions=="string"&&(J.unixPermissions=parseInt(J.unixPermissions,8)),J.unixPermissions&&16384&J.unixPermissions&&(J.dir=!0),J.dosPermissions&&16&J.dosPermissions&&(J.dir=!0),J.dir&&(T=m(T)),J.createFolders&&(U=x(T))&&_.call(this,U,!0);var oe=R==="string"&&J.binary===!1&&J.base64===!1;M&&M.binary!==void 0||(J.binary=!oe),(P instanceof f&&P.uncompressedSize===0||J.dir||!P||P.length===0)&&(J.base64=!1,J.binary=!0,P="",J.compression="STORE",R="string");var C=null;C=P instanceof f||P instanceof l?P:y.isNode&&y.isStream(P)?new v(T,P):o.prepareContent(T,P,J.binary,J.optimizedBinaryString,J.base64);var H=new d(T,C,J);this.files[T]=H}var a=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),c=r("./defaults"),f=r("./compressedObject"),d=r("./zipObject"),h=r("./generate"),y=r("./nodejsUtils"),v=r("./nodejs/NodejsStreamInputAdapter"),x=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var P=T.lastIndexOf("/");return 0<P?T.substring(0,P):""},m=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},_=function(T,P){return P=P!==void 0?P:c.createFolders,T=m(T),this.files[T]||s.call(this,T,null,{dir:!0,createFolders:P}),this.files[T]};function b(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var P,M,U;for(P in this.files)U=this.files[P],(M=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&T(M,U)},filter:function(T){var P=[];return this.forEach(function(M,U){T(M,U)&&P.push(U)}),P},file:function(T,P,M){if(arguments.length!==1)return T=this.root+T,s.call(this,T,P,M),this;if(b(T)){var U=T;return this.filter(function(J,oe){return!oe.dir&&U.test(J)})}var R=this.files[this.root+T];return R&&!R.dir?R:null},folder:function(T){if(!T)return this;if(b(T))return this.filter(function(R,J){return J.dir&&T.test(R)});var P=this.root+T,M=_.call(this,P),U=this.clone();return U.root=M.name,U},remove:function(T){T=this.root+T;var P=this.files[T];if(P||(T.slice(-1)!=="/"&&(T+="/"),P=this.files[T]),P&&!P.dir)delete this.files[T];else for(var M=this.filter(function(R,J){return J.name.slice(0,T.length)===T}),U=0;U<M.length;U++)delete this.files[M[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var P,M={};try{if((M=o.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");o.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var U=M.comment||this.comment||"";P=h.generateWorker(this,M,U)}catch(R){(P=new l("error")).error(R)}return new u(P,M.type||"string",M.mimeType)},generateAsync:function(T,P){return this.generateInternalStream(T).accumulate(P)},generateNodeStream:function(T,P){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(P)}};n.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),f=o.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===l&&this.data[d+1]===u&&this.data[d+2]===c&&this.data[d+3]===f)return d-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),f=o.charCodeAt(3),d=this.readData(4);return l===d[0]&&u===d[1]&&c===d[2]&&f===d[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),a=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),u=r("./NodeBufferReader"),c=r("./Uint8ArrayReader");n.exports=function(f){var d=s.getTypeOf(f);return s.checkSupport(d),d!=="string"||a.uint8array?d==="nodebuffer"?new u(f):a.uint8array?new c(s.transformTo("uint8array",f)):new o(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),a=r("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),a=r("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}a.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=s.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),u=r("../support"),c=r("../external"),f=null;if(u.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(y,v){return new c.Promise(function(x,m){var _=[],b=y._internalType,w=y._outputType,T=y._mimeType;y.on("data",function(P,M){_.push(P),v&&v(M)}).on("error",function(P){_=[],m(P)}).on("end",function(){try{var P=(function(M,U,R){switch(M){case"blob":return s.newBlob(s.transformTo("arraybuffer",U),R);case"base64":return l.encode(U);default:return s.transformTo(M,U)}})(w,(function(M,U){var R,J=0,oe=null,C=0;for(R=0;R<U.length;R++)C+=U[R].length;switch(M){case"string":return U.join("");case"array":return Array.prototype.concat.apply([],U);case"uint8array":for(oe=new Uint8Array(C),R=0;R<U.length;R++)oe.set(U[R],J),J+=U[R].length;return oe;case"nodebuffer":return Buffer.concat(U);default:throw new Error("concat : unsupported type '"+M+"'")}})(b,_),T);x(P)}catch(M){m(M)}_=[]}).resume()})}function h(y,v,x){var m=v;switch(v){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=v,this._mimeType=x,s.checkSupport(m),this._worker=y.pipe(new a(m)),y.lock()}catch(_){this._worker=new o("error"),this._worker.error(_)}}h.prototype={accumulate:function(y){return d(this,y)},on:function(y,v){var x=this;return y==="data"?this._worker.on(y,function(m){v.call(x,m.data,m.meta)}):this._worker.on(y,function(){s.delay(v,arguments,x)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},y)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function d(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return a.nodebuffer?o.newBufferFrom(h,"utf-8"):(function(y){var v,x,m,_,b,w=y.length,T=0;for(_=0;_<w;_++)(64512&(x=y.charCodeAt(_)))==55296&&_+1<w&&(64512&(m=y.charCodeAt(_+1)))==56320&&(x=65536+(x-55296<<10)+(m-56320),_++),T+=x<128?1:x<2048?2:x<65536?3:4;for(v=a.uint8array?new Uint8Array(T):new Array(T),_=b=0;b<T;_++)(64512&(x=y.charCodeAt(_)))==55296&&_+1<w&&(64512&(m=y.charCodeAt(_+1)))==56320&&(x=65536+(x-55296<<10)+(m-56320),_++),x<128?v[b++]=x:(x<2048?v[b++]=192|x>>>6:(x<65536?v[b++]=224|x>>>12:(v[b++]=240|x>>>18,v[b++]=128|x>>>12&63),v[b++]=128|x>>>6&63),v[b++]=128|63&x);return v})(h)},i.utf8decode=function(h){return a.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):(function(y){var v,x,m,_,b=y.length,w=new Array(2*b);for(v=x=0;v<b;)if((m=y[v++])<128)w[x++]=m;else if(4<(_=u[m]))w[x++]=65533,v+=_-1;else{for(m&=_===2?31:_===3?15:7;1<_&&v<b;)m=m<<6|63&y[v++],_--;1<_?w[x++]=65533:m<65536?w[x++]=m:(m-=65536,w[x++]=55296|m>>10&1023,w[x++]=56320|1023&m)}return w.length!==x&&(w.subarray?w=w.subarray(0,x):w.length=x),s.applyFromCharCode(w)})(h=s.transformTo(a.uint8array?"uint8array":"array",h))},s.inherits(f,l),f.prototype.processChunk=function(h){var y=s.transformTo(a.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var v=y;(y=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),y.set(v,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var x=(function(_,b){var w;for((b=b||_.length)>_.length&&(b=_.length),w=b-1;0<=w&&(192&_[w])==128;)w--;return w<0||w===0?b:w+u[_[w]]>b?w:b})(y),m=y;x!==y.length&&(a.uint8array?(m=y.subarray(0,x),this.leftOver=y.subarray(x,y.length)):(m=y.slice(0,x),this.leftOver=y.slice(x,y.length))),this.push({data:i.utf8decode(m),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(d,l),d.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function u(v){return v}function c(v,x){for(var m=0;m<v.length;++m)x[m]=255&v.charCodeAt(m);return x}r("setimmediate"),i.newBlob=function(v,x){i.checkSupport("blob");try{return new Blob([v],{type:x})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(v),m.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(v,x,m){var _=[],b=0,w=v.length;if(w<=m)return String.fromCharCode.apply(null,v);for(;b<w;)x==="array"||x==="nodebuffer"?_.push(String.fromCharCode.apply(null,v.slice(b,Math.min(b+m,w)))):_.push(String.fromCharCode.apply(null,v.subarray(b,Math.min(b+m,w)))),b+=m;return _.join("")},stringifyByChar:function(v){for(var x="",m=0;m<v.length;m++)x+=String.fromCharCode(v[m]);return x},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function d(v){var x=65536,m=i.getTypeOf(v),_=!0;if(m==="uint8array"?_=f.applyCanBeUsed.uint8array:m==="nodebuffer"&&(_=f.applyCanBeUsed.nodebuffer),_)for(;1<x;)try{return f.stringifyByChunk(v,m,x)}catch{x=Math.floor(x/2)}return f.stringifyByChar(v)}function h(v,x){for(var m=0;m<v.length;m++)x[m]=v[m];return x}i.applyFromCharCode=d;var y={};y.string={string:u,array:function(v){return c(v,new Array(v.length))},arraybuffer:function(v){return y.string.uint8array(v).buffer},uint8array:function(v){return c(v,new Uint8Array(v.length))},nodebuffer:function(v){return c(v,o.allocBuffer(v.length))}},y.array={string:d,array:u,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return o.newBufferFrom(v)}},y.arraybuffer={string:function(v){return d(new Uint8Array(v))},array:function(v){return h(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:u,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return o.newBufferFrom(new Uint8Array(v))}},y.uint8array={string:d,array:function(v){return h(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:u,nodebuffer:function(v){return o.newBufferFrom(v)}},y.nodebuffer={string:d,array:function(v){return h(v,new Array(v.length))},arraybuffer:function(v){return y.nodebuffer.uint8array(v).buffer},uint8array:function(v){return h(v,new Uint8Array(v.length))},nodebuffer:u},i.transformTo=function(v,x){if(x=x||"",!v)return x;i.checkSupport(v);var m=i.getTypeOf(x);return y[m][v](x)},i.resolve=function(v){for(var x=v.split("/"),m=[],_=0;_<x.length;_++){var b=x[_];b==="."||b===""&&_!==0&&_!==x.length-1||(b===".."?m.pop():m.push(b))}return m.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(v)?"nodebuffer":s.uint8array&&v instanceof Uint8Array?"uint8array":s.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!s[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var x,m,_="";for(m=0;m<(v||"").length;m++)_+="\\x"+((x=v.charCodeAt(m))<16?"0":"")+x.toString(16).toUpperCase();return _},i.delay=function(v,x,m){setImmediate(function(){v.apply(m||null,x||[])})},i.inherits=function(v,x){function m(){}m.prototype=x.prototype,v.prototype=new m},i.extend=function(){var v,x,m={};for(v=0;v<arguments.length;v++)for(x in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],x)&&m[x]===void 0&&(m[x]=arguments[v][x]);return m},i.prepareContent=function(v,x,m,_,b){return l.Promise.resolve(x).then(function(w){return s.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new l.Promise(function(T,P){var M=new FileReader;M.onload=function(U){T(U.target.result)},M.onerror=function(U){P(U.target.error)},M.readAsArrayBuffer(w)}):w}).then(function(w){var T=i.getTypeOf(w);return T?(T==="arraybuffer"?w=i.transformTo("uint8array",w):T==="string"&&(b?w=a.decode(w):m&&_!==!0&&(w=(function(P){return c(P,s.uint8array?new Uint8Array(P.length):new Array(P.length))})(w))),w):l.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),l=r("./zipEntry"),u=r("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(d)+", expected "+a.pretty(f)+")")}},isSignature:function(f,d){var h=this.reader.index;this.reader.setIndex(f);var y=this.reader.readString(4)===d;return this.reader.setIndex(h),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),d=u.uint8array?"uint8array":"array",h=a.transformTo(d,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,d,h,y=this.zip64EndOfCentralSize-44;0<y;)f=this.reader.readInt(2),d=this.reader.readInt(4),h=this.reader.readData(d),this.zip64ExtensibleData[f]={id:f,length:d,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,d;for(f=0;f<this.files.length;f++)d=this.files[f],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var d=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var y=d-h;if(0<y)this.isSignature(d,o.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),u=r("./utf8"),c=r("./compressions"),f=r("./support");function d(h,y){this.options=h,this.loadOptions=y}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var y,v;if(h.skip(22),this.fileNameLength=h.readInt(2),v=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=(function(x){for(var m in c)if(Object.prototype.hasOwnProperty.call(c,m)&&c[m].magic===x)return c[m];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,y,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var y=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(y),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var y,v,x,m=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<m;)y=h.readInt(2),v=h.readInt(2),x=h.readData(v),this.extraFields[y]={id:y,length:v,value:x};h.setIndex(m)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var v=a.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var m=a.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var y=s(h.value);return y.readInt(1)!==1||l(this.fileName)!==y.readInt(4)?null:u.utf8decode(y.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var y=s(h.value);return y.readInt(1)!==1||l(this.fileComment)!==y.readInt(4)?null:u.utf8decode(y.readData(h.length-5))}return null}},n.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(y,v,x){this.name=y,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=v,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),u=r("./compressedObject"),c=r("./stream/GenericWorker");s.prototype={internalStream:function(y){var v=null,x="string";try{if(!y)throw new Error("No output type specified.");var m=(x=y.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),v=this._decompressWorker();var _=!this._dataBinary;_&&!m&&(v=v.pipe(new l.Utf8EncodeWorker)),!_&&m&&(v=v.pipe(new l.Utf8DecodeWorker))}catch(b){(v=new c("error")).error(b)}return new a(v,x,"")},async:function(y,v){return this.internalStream(y).accumulate(v)},nodeStream:function(y,v){return this.internalStream(y||"nodebuffer").toNodejsStream(v)},_compressWorker:function(y,v){if(this._data instanceof u&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(x,y,v)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)s.prototype[f[h]]=d;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,c=new l(y),f=s.document.createTextNode("");c.observe(f,{characterData:!0}),a=function(){f.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var v=s.document.createElement("script");v.onreadystatechange=function(){y(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:function(){setTimeout(y,0)};else{var d=new s.MessageChannel;d.port1.onmessage=y,a=function(){d.port2.postMessage(0)}}var h=[];function y(){var v,x;o=!0;for(var m=h.length;m;){for(x=h,h=[],v=-1;++v<m;)x[v]();m=h.length}o=!1}n.exports=function(v){h.push(v)!==1||o||a()}}).call(this,typeof Qr<"u"?Qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function a(){}var o={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,m!==a&&v(this,m)}function d(m,_,b){this.promise=m,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function h(m,_,b){s(function(){var w;try{w=_(b)}catch(T){return o.reject(m,T)}w===m?o.reject(m,new TypeError("Cannot resolve promise with itself")):o.resolve(m,w)})}function y(m){var _=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof _=="function")return function(){_.apply(m,arguments)}}function v(m,_){var b=!1;function w(M){b||(b=!0,o.reject(m,M))}function T(M){b||(b=!0,o.resolve(m,M))}var P=x(function(){_(T,w)});P.status==="error"&&w(P.value)}function x(m,_){var b={};try{b.value=m(_),b.status="success"}catch(w){b.status="error",b.value=w}return b}(n.exports=f).prototype.finally=function(m){if(typeof m!="function")return this;var _=this.constructor;return this.then(function(b){return _.resolve(m()).then(function(){return b})},function(b){return _.resolve(m()).then(function(){throw b})})},f.prototype.catch=function(m){return this.then(null,m)},f.prototype.then=function(m,_){if(typeof m!="function"&&this.state===u||typeof _!="function"&&this.state===l)return this;var b=new this.constructor(a);return this.state!==c?h(b,this.state===u?m:_,this.outcome):this.queue.push(new d(b,m,_)),b},d.prototype.callFulfilled=function(m){o.resolve(this.promise,m)},d.prototype.otherCallFulfilled=function(m){h(this.promise,this.onFulfilled,m)},d.prototype.callRejected=function(m){o.reject(this.promise,m)},d.prototype.otherCallRejected=function(m){h(this.promise,this.onRejected,m)},o.resolve=function(m,_){var b=x(y,_);if(b.status==="error")return o.reject(m,b.value);var w=b.value;if(w)v(m,w);else{m.state=u,m.outcome=_;for(var T=-1,P=m.queue.length;++T<P;)m.queue[T].callFulfilled(_)}return m},o.reject=function(m,_){m.state=l,m.outcome=_;for(var b=-1,w=m.queue.length;++b<w;)m.queue[b].callRejected(_);return m},f.resolve=function(m){return m instanceof this?m:o.resolve(new this(a),m)},f.reject=function(m){var _=new this(a);return o.reject(_,m)},f.all=function(m){var _=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=m.length,w=!1;if(!b)return this.resolve([]);for(var T=new Array(b),P=0,M=-1,U=new this(a);++M<b;)R(m[M],M);return U;function R(J,oe){_.resolve(J).then(function(C){T[oe]=C,++P!==b||w||(w=!0,o.resolve(U,T))},function(C){w||(w=!0,o.reject(U,C))})}},f.race=function(m){var _=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=m.length,w=!1;if(!b)return this.resolve([]);for(var T=-1,P=new this(a);++T<b;)M=m[T],_.resolve(M).then(function(U){w||(w=!0,o.resolve(P,U))},function(U){w||(w=!0,o.reject(P,U))});var M;return P}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),u=r("./zlib/zstream"),c=Object.prototype.toString,f=0,d=-1,h=0,y=8;function v(m){if(!(this instanceof v))return new v(m);this.options=a.assign({level:d,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},m||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=s.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(b!==f)throw new Error(l[b]);if(_.header&&s.deflateSetHeader(this.strm,_.header),_.dictionary){var w;if(w=typeof _.dictionary=="string"?o.string2buf(_.dictionary):c.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(b=s.deflateSetDictionary(this.strm,w))!==f)throw new Error(l[b]);this._dict_set=!0}}function x(m,_){var b=new v(_);if(b.push(m,!0),b.err)throw b.msg||l[b.err];return b.result}v.prototype.push=function(m,_){var b,w,T=this.strm,P=this.options.chunkSize;if(this.ended)return!1;w=_===~~_?_:_===!0?4:0,typeof m=="string"?T.input=o.string2buf(m):c.call(m)==="[object ArrayBuffer]"?T.input=new Uint8Array(m):T.input=m,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new a.Buf8(P),T.next_out=0,T.avail_out=P),(b=s.deflate(T,w))!==1&&b!==f)return this.onEnd(b),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(T.output,T.next_out))):this.onData(a.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&b!==1);return w===4?(b=s.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===f):w!==2||(this.onEnd(f),!(T.avail_out=0))},v.prototype.onData=function(m){this.chunks.push(m)},v.prototype.onEnd=function(m){m===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Deflate=v,i.deflate=x,i.deflateRaw=function(m,_){return(_=_||{}).raw=!0,x(m,_)},i.gzip=function(m,_){return(_=_||{}).gzip=!0,x(m,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),u=r("./zlib/messages"),c=r("./zlib/zstream"),f=r("./zlib/gzheader"),d=Object.prototype.toString;function h(v){if(!(this instanceof h))return new h(v);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},v||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||v&&v.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&(15&x.windowBits)==0&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var m=s.inflateInit2(this.strm,x.windowBits);if(m!==l.Z_OK)throw new Error(u[m]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function y(v,x){var m=new h(x);if(m.push(v,!0),m.err)throw m.msg||u[m.err];return m.result}h.prototype.push=function(v,x){var m,_,b,w,T,P,M=this.strm,U=this.options.chunkSize,R=this.options.dictionary,J=!1;if(this.ended)return!1;_=x===~~x?x:x===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof v=="string"?M.input=o.binstring2buf(v):d.call(v)==="[object ArrayBuffer]"?M.input=new Uint8Array(v):M.input=v,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new a.Buf8(U),M.next_out=0,M.avail_out=U),(m=s.inflate(M,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&R&&(P=typeof R=="string"?o.string2buf(R):d.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,m=s.inflateSetDictionary(this.strm,P)),m===l.Z_BUF_ERROR&&J===!0&&(m=l.Z_OK,J=!1),m!==l.Z_STREAM_END&&m!==l.Z_OK)return this.onEnd(m),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&m!==l.Z_STREAM_END&&(M.avail_in!==0||_!==l.Z_FINISH&&_!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=o.utf8border(M.output,M.next_out),w=M.next_out-b,T=o.buf2string(M.output,b),M.next_out=w,M.avail_out=U-w,w&&a.arraySet(M.output,M.output,b,w,0),this.onData(T)):this.onData(a.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(J=!0)}while((0<M.avail_in||M.avail_out===0)&&m!==l.Z_STREAM_END);return m===l.Z_STREAM_END&&(_=l.Z_FINISH),_===l.Z_FINISH?(m=s.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===l.Z_OK):_!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(M.avail_out=0))},h.prototype.onData=function(v){this.chunks.push(v)},h.prototype.onEnd=function(v){v===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=h,i.inflate=y,i.inflateRaw=function(v,x){return(x=x||{}).raw=!0,y(v,x)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(l[f]=c[f])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var a={arraySet:function(l,u,c,f,d){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+f),d);else for(var h=0;h<f;h++)l[d+h]=u[c+h]},flattenChunks:function(l){var u,c,f,d,h,y;for(u=f=0,c=l.length;u<c;u++)f+=l[u].length;for(y=new Uint8Array(f),u=d=0,c=l.length;u<c;u++)h=l[u],y.set(h,d),d+=h.length;return y}},o={arraySet:function(l,u,c,f,d){for(var h=0;h<f;h++)l[d+h]=u[c+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(f,d){if(d<65537&&(f.subarray&&o||!f.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(f,d));for(var h="",y=0;y<d;y++)h+=String.fromCharCode(f[y]);return h}l[254]=l[254]=1,i.string2buf=function(f){var d,h,y,v,x,m=f.length,_=0;for(v=0;v<m;v++)(64512&(h=f.charCodeAt(v)))==55296&&v+1<m&&(64512&(y=f.charCodeAt(v+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),v++),_+=h<128?1:h<2048?2:h<65536?3:4;for(d=new s.Buf8(_),v=x=0;x<_;v++)(64512&(h=f.charCodeAt(v)))==55296&&v+1<m&&(64512&(y=f.charCodeAt(v+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),v++),h<128?d[x++]=h:(h<2048?d[x++]=192|h>>>6:(h<65536?d[x++]=224|h>>>12:(d[x++]=240|h>>>18,d[x++]=128|h>>>12&63),d[x++]=128|h>>>6&63),d[x++]=128|63&h);return d},i.buf2binstring=function(f){return c(f,f.length)},i.binstring2buf=function(f){for(var d=new s.Buf8(f.length),h=0,y=d.length;h<y;h++)d[h]=f.charCodeAt(h);return d},i.buf2string=function(f,d){var h,y,v,x,m=d||f.length,_=new Array(2*m);for(h=y=0;h<m;)if((v=f[h++])<128)_[y++]=v;else if(4<(x=l[v]))_[y++]=65533,h+=x-1;else{for(v&=x===2?31:x===3?15:7;1<x&&h<m;)v=v<<6|63&f[h++],x--;1<x?_[y++]=65533:v<65536?_[y++]=v:(v-=65536,_[y++]=55296|v>>10&1023,_[y++]=56320|1023&v)}return c(_,y)},i.utf8border=function(f,d){var h;for((d=d||f.length)>f.length&&(d=f.length),h=d-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?d:h+l[f[h]]>d?h:d}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,a,o,l){for(var u=65535&s|0,c=s>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;c=c+(u=u+a[l++]|0)|0,--f;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=(function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o})();n.exports=function(a,o,l,u){var c=s,f=u+l;a^=-1;for(var d=u;d<f;d++)a=a>>>8^c[255&(a^o[d])];return-1^a}},{}],46:[function(r,n,i){var s,a=r("../utils/common"),o=r("./trees"),l=r("./adler32"),u=r("./crc32"),c=r("./messages"),f=0,d=4,h=0,y=-2,v=-1,x=4,m=2,_=8,b=9,w=286,T=30,P=19,M=2*w+1,U=15,R=3,J=258,oe=J+R+1,C=42,H=113,k=1,V=2,Q=3,j=4;function ie(E,Y){return E.msg=c[Y],Y}function ee(E){return(E<<1)-(4<E?9:0)}function le(E){for(var Y=E.length;0<=--Y;)E[Y]=0}function G(E){var Y=E.state,N=Y.pending;N>E.avail_out&&(N=E.avail_out),N!==0&&(a.arraySet(E.output,Y.pending_buf,Y.pending_out,N,E.next_out),E.next_out+=N,Y.pending_out+=N,E.total_out+=N,E.avail_out-=N,Y.pending-=N,Y.pending===0&&(Y.pending_out=0))}function D(E,Y){o._tr_flush_block(E,0<=E.block_start?E.block_start:-1,E.strstart-E.block_start,Y),E.block_start=E.strstart,G(E.strm)}function $(E,Y){E.pending_buf[E.pending++]=Y}function X(E,Y){E.pending_buf[E.pending++]=Y>>>8&255,E.pending_buf[E.pending++]=255&Y}function re(E,Y){var N,p,g=E.max_chain_length,S=E.strstart,F=E.prev_length,q=E.nice_match,z=E.strstart>E.w_size-oe?E.strstart-(E.w_size-oe):0,ne=E.window,ae=E.w_mask,se=E.prev,fe=E.strstart+J,pe=ne[S+F-1],ve=ne[S+F];E.prev_length>=E.good_match&&(g>>=2),q>E.lookahead&&(q=E.lookahead);do if(ne[(N=Y)+F]===ve&&ne[N+F-1]===pe&&ne[N]===ne[S]&&ne[++N]===ne[S+1]){S+=2,N++;do;while(ne[++S]===ne[++N]&&ne[++S]===ne[++N]&&ne[++S]===ne[++N]&&ne[++S]===ne[++N]&&ne[++S]===ne[++N]&&ne[++S]===ne[++N]&&ne[++S]===ne[++N]&&ne[++S]===ne[++N]&&S<fe);if(p=J-(fe-S),S=fe-J,F<p){if(E.match_start=Y,q<=(F=p))break;pe=ne[S+F-1],ve=ne[S+F]}}while((Y=se[Y&ae])>z&&--g!=0);return F<=E.lookahead?F:E.lookahead}function K(E){var Y,N,p,g,S,F,q,z,ne,ae,se=E.w_size;do{if(g=E.window_size-E.lookahead-E.strstart,E.strstart>=se+(se-oe)){for(a.arraySet(E.window,E.window,se,se,0),E.match_start-=se,E.strstart-=se,E.block_start-=se,Y=N=E.hash_size;p=E.head[--Y],E.head[Y]=se<=p?p-se:0,--N;);for(Y=N=se;p=E.prev[--Y],E.prev[Y]=se<=p?p-se:0,--N;);g+=se}if(E.strm.avail_in===0)break;if(F=E.strm,q=E.window,z=E.strstart+E.lookahead,ne=g,ae=void 0,ae=F.avail_in,ne<ae&&(ae=ne),N=ae===0?0:(F.avail_in-=ae,a.arraySet(q,F.input,F.next_in,ae,z),F.state.wrap===1?F.adler=l(F.adler,q,ae,z):F.state.wrap===2&&(F.adler=u(F.adler,q,ae,z)),F.next_in+=ae,F.total_in+=ae,ae),E.lookahead+=N,E.lookahead+E.insert>=R)for(S=E.strstart-E.insert,E.ins_h=E.window[S],E.ins_h=(E.ins_h<<E.hash_shift^E.window[S+1])&E.hash_mask;E.insert&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[S+R-1])&E.hash_mask,E.prev[S&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=S,S++,E.insert--,!(E.lookahead+E.insert<R)););}while(E.lookahead<oe&&E.strm.avail_in!==0)}function O(E,Y){for(var N,p;;){if(E.lookahead<oe){if(K(E),E.lookahead<oe&&Y===f)return k;if(E.lookahead===0)break}if(N=0,E.lookahead>=R&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+R-1])&E.hash_mask,N=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),N!==0&&E.strstart-N<=E.w_size-oe&&(E.match_length=re(E,N)),E.match_length>=R)if(p=o._tr_tally(E,E.strstart-E.match_start,E.match_length-R),E.lookahead-=E.match_length,E.match_length<=E.max_lazy_match&&E.lookahead>=R){for(E.match_length--;E.strstart++,E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+R-1])&E.hash_mask,N=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart,--E.match_length!=0;);E.strstart++}else E.strstart+=E.match_length,E.match_length=0,E.ins_h=E.window[E.strstart],E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+1])&E.hash_mask;else p=o._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++;if(p&&(D(E,!1),E.strm.avail_out===0))return k}return E.insert=E.strstart<R-1?E.strstart:R-1,Y===d?(D(E,!0),E.strm.avail_out===0?Q:j):E.last_lit&&(D(E,!1),E.strm.avail_out===0)?k:V}function A(E,Y){for(var N,p,g;;){if(E.lookahead<oe){if(K(E),E.lookahead<oe&&Y===f)return k;if(E.lookahead===0)break}if(N=0,E.lookahead>=R&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+R-1])&E.hash_mask,N=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),E.prev_length=E.match_length,E.prev_match=E.match_start,E.match_length=R-1,N!==0&&E.prev_length<E.max_lazy_match&&E.strstart-N<=E.w_size-oe&&(E.match_length=re(E,N),E.match_length<=5&&(E.strategy===1||E.match_length===R&&4096<E.strstart-E.match_start)&&(E.match_length=R-1)),E.prev_length>=R&&E.match_length<=E.prev_length){for(g=E.strstart+E.lookahead-R,p=o._tr_tally(E,E.strstart-1-E.prev_match,E.prev_length-R),E.lookahead-=E.prev_length-1,E.prev_length-=2;++E.strstart<=g&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+R-1])&E.hash_mask,N=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),--E.prev_length!=0;);if(E.match_available=0,E.match_length=R-1,E.strstart++,p&&(D(E,!1),E.strm.avail_out===0))return k}else if(E.match_available){if((p=o._tr_tally(E,0,E.window[E.strstart-1]))&&D(E,!1),E.strstart++,E.lookahead--,E.strm.avail_out===0)return k}else E.match_available=1,E.strstart++,E.lookahead--}return E.match_available&&(p=o._tr_tally(E,0,E.window[E.strstart-1]),E.match_available=0),E.insert=E.strstart<R-1?E.strstart:R-1,Y===d?(D(E,!0),E.strm.avail_out===0?Q:j):E.last_lit&&(D(E,!1),E.strm.avail_out===0)?k:V}function W(E,Y,N,p,g){this.good_length=E,this.max_lazy=Y,this.nice_length=N,this.max_chain=p,this.func=g}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*M),this.dyn_dtree=new a.Buf16(2*(2*T+1)),this.bl_tree=new a.Buf16(2*(2*P+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(U+1),this.heap=new a.Buf16(2*w+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*w+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function I(E){var Y;return E&&E.state?(E.total_in=E.total_out=0,E.data_type=m,(Y=E.state).pending=0,Y.pending_out=0,Y.wrap<0&&(Y.wrap=-Y.wrap),Y.status=Y.wrap?C:H,E.adler=Y.wrap===2?0:1,Y.last_flush=f,o._tr_init(Y),h):ie(E,y)}function L(E){var Y=I(E);return Y===h&&(function(N){N.window_size=2*N.w_size,le(N.head),N.max_lazy_match=s[N.level].max_lazy,N.good_match=s[N.level].good_length,N.nice_match=s[N.level].nice_length,N.max_chain_length=s[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=R-1,N.match_available=0,N.ins_h=0})(E.state),Y}function Z(E,Y,N,p,g,S){if(!E)return y;var F=1;if(Y===v&&(Y=6),p<0?(F=0,p=-p):15<p&&(F=2,p-=16),g<1||b<g||N!==_||p<8||15<p||Y<0||9<Y||S<0||x<S)return ie(E,y);p===8&&(p=9);var q=new B;return(E.state=q).strm=E,q.wrap=F,q.gzhead=null,q.w_bits=p,q.w_size=1<<q.w_bits,q.w_mask=q.w_size-1,q.hash_bits=g+7,q.hash_size=1<<q.hash_bits,q.hash_mask=q.hash_size-1,q.hash_shift=~~((q.hash_bits+R-1)/R),q.window=new a.Buf8(2*q.w_size),q.head=new a.Buf16(q.hash_size),q.prev=new a.Buf16(q.w_size),q.lit_bufsize=1<<g+6,q.pending_buf_size=4*q.lit_bufsize,q.pending_buf=new a.Buf8(q.pending_buf_size),q.d_buf=1*q.lit_bufsize,q.l_buf=3*q.lit_bufsize,q.level=Y,q.strategy=S,q.method=N,L(E)}s=[new W(0,0,0,0,function(E,Y){var N=65535;for(N>E.pending_buf_size-5&&(N=E.pending_buf_size-5);;){if(E.lookahead<=1){if(K(E),E.lookahead===0&&Y===f)return k;if(E.lookahead===0)break}E.strstart+=E.lookahead,E.lookahead=0;var p=E.block_start+N;if((E.strstart===0||E.strstart>=p)&&(E.lookahead=E.strstart-p,E.strstart=p,D(E,!1),E.strm.avail_out===0)||E.strstart-E.block_start>=E.w_size-oe&&(D(E,!1),E.strm.avail_out===0))return k}return E.insert=0,Y===d?(D(E,!0),E.strm.avail_out===0?Q:j):(E.strstart>E.block_start&&(D(E,!1),E.strm.avail_out),k)}),new W(4,4,8,4,O),new W(4,5,16,8,O),new W(4,6,32,32,O),new W(4,4,16,16,A),new W(8,16,32,32,A),new W(8,16,128,128,A),new W(8,32,128,256,A),new W(32,128,258,1024,A),new W(32,258,258,4096,A)],i.deflateInit=function(E,Y){return Z(E,Y,_,15,8,0)},i.deflateInit2=Z,i.deflateReset=L,i.deflateResetKeep=I,i.deflateSetHeader=function(E,Y){return E&&E.state?E.state.wrap!==2?y:(E.state.gzhead=Y,h):y},i.deflate=function(E,Y){var N,p,g,S;if(!E||!E.state||5<Y||Y<0)return E?ie(E,y):y;if(p=E.state,!E.output||!E.input&&E.avail_in!==0||p.status===666&&Y!==d)return ie(E,E.avail_out===0?-5:y);if(p.strm=E,N=p.last_flush,p.last_flush=Y,p.status===C)if(p.wrap===2)E.adler=0,$(p,31),$(p,139),$(p,8),p.gzhead?($(p,(p.gzhead.text?1:0)+(p.gzhead.hcrc?2:0)+(p.gzhead.extra?4:0)+(p.gzhead.name?8:0)+(p.gzhead.comment?16:0)),$(p,255&p.gzhead.time),$(p,p.gzhead.time>>8&255),$(p,p.gzhead.time>>16&255),$(p,p.gzhead.time>>24&255),$(p,p.level===9?2:2<=p.strategy||p.level<2?4:0),$(p,255&p.gzhead.os),p.gzhead.extra&&p.gzhead.extra.length&&($(p,255&p.gzhead.extra.length),$(p,p.gzhead.extra.length>>8&255)),p.gzhead.hcrc&&(E.adler=u(E.adler,p.pending_buf,p.pending,0)),p.gzindex=0,p.status=69):($(p,0),$(p,0),$(p,0),$(p,0),$(p,0),$(p,p.level===9?2:2<=p.strategy||p.level<2?4:0),$(p,3),p.status=H);else{var F=_+(p.w_bits-8<<4)<<8;F|=(2<=p.strategy||p.level<2?0:p.level<6?1:p.level===6?2:3)<<6,p.strstart!==0&&(F|=32),F+=31-F%31,p.status=H,X(p,F),p.strstart!==0&&(X(p,E.adler>>>16),X(p,65535&E.adler)),E.adler=1}if(p.status===69)if(p.gzhead.extra){for(g=p.pending;p.gzindex<(65535&p.gzhead.extra.length)&&(p.pending!==p.pending_buf_size||(p.gzhead.hcrc&&p.pending>g&&(E.adler=u(E.adler,p.pending_buf,p.pending-g,g)),G(E),g=p.pending,p.pending!==p.pending_buf_size));)$(p,255&p.gzhead.extra[p.gzindex]),p.gzindex++;p.gzhead.hcrc&&p.pending>g&&(E.adler=u(E.adler,p.pending_buf,p.pending-g,g)),p.gzindex===p.gzhead.extra.length&&(p.gzindex=0,p.status=73)}else p.status=73;if(p.status===73)if(p.gzhead.name){g=p.pending;do{if(p.pending===p.pending_buf_size&&(p.gzhead.hcrc&&p.pending>g&&(E.adler=u(E.adler,p.pending_buf,p.pending-g,g)),G(E),g=p.pending,p.pending===p.pending_buf_size)){S=1;break}S=p.gzindex<p.gzhead.name.length?255&p.gzhead.name.charCodeAt(p.gzindex++):0,$(p,S)}while(S!==0);p.gzhead.hcrc&&p.pending>g&&(E.adler=u(E.adler,p.pending_buf,p.pending-g,g)),S===0&&(p.gzindex=0,p.status=91)}else p.status=91;if(p.status===91)if(p.gzhead.comment){g=p.pending;do{if(p.pending===p.pending_buf_size&&(p.gzhead.hcrc&&p.pending>g&&(E.adler=u(E.adler,p.pending_buf,p.pending-g,g)),G(E),g=p.pending,p.pending===p.pending_buf_size)){S=1;break}S=p.gzindex<p.gzhead.comment.length?255&p.gzhead.comment.charCodeAt(p.gzindex++):0,$(p,S)}while(S!==0);p.gzhead.hcrc&&p.pending>g&&(E.adler=u(E.adler,p.pending_buf,p.pending-g,g)),S===0&&(p.status=103)}else p.status=103;if(p.status===103&&(p.gzhead.hcrc?(p.pending+2>p.pending_buf_size&&G(E),p.pending+2<=p.pending_buf_size&&($(p,255&E.adler),$(p,E.adler>>8&255),E.adler=0,p.status=H)):p.status=H),p.pending!==0){if(G(E),E.avail_out===0)return p.last_flush=-1,h}else if(E.avail_in===0&&ee(Y)<=ee(N)&&Y!==d)return ie(E,-5);if(p.status===666&&E.avail_in!==0)return ie(E,-5);if(E.avail_in!==0||p.lookahead!==0||Y!==f&&p.status!==666){var q=p.strategy===2?(function(z,ne){for(var ae;;){if(z.lookahead===0&&(K(z),z.lookahead===0)){if(ne===f)return k;break}if(z.match_length=0,ae=o._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++,ae&&(D(z,!1),z.strm.avail_out===0))return k}return z.insert=0,ne===d?(D(z,!0),z.strm.avail_out===0?Q:j):z.last_lit&&(D(z,!1),z.strm.avail_out===0)?k:V})(p,Y):p.strategy===3?(function(z,ne){for(var ae,se,fe,pe,ve=z.window;;){if(z.lookahead<=J){if(K(z),z.lookahead<=J&&ne===f)return k;if(z.lookahead===0)break}if(z.match_length=0,z.lookahead>=R&&0<z.strstart&&(se=ve[fe=z.strstart-1])===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]){pe=z.strstart+J;do;while(se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&fe<pe);z.match_length=J-(pe-fe),z.match_length>z.lookahead&&(z.match_length=z.lookahead)}if(z.match_length>=R?(ae=o._tr_tally(z,1,z.match_length-R),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(ae=o._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++),ae&&(D(z,!1),z.strm.avail_out===0))return k}return z.insert=0,ne===d?(D(z,!0),z.strm.avail_out===0?Q:j):z.last_lit&&(D(z,!1),z.strm.avail_out===0)?k:V})(p,Y):s[p.level].func(p,Y);if(q!==Q&&q!==j||(p.status=666),q===k||q===Q)return E.avail_out===0&&(p.last_flush=-1),h;if(q===V&&(Y===1?o._tr_align(p):Y!==5&&(o._tr_stored_block(p,0,0,!1),Y===3&&(le(p.head),p.lookahead===0&&(p.strstart=0,p.block_start=0,p.insert=0))),G(E),E.avail_out===0))return p.last_flush=-1,h}return Y!==d?h:p.wrap<=0?1:(p.wrap===2?($(p,255&E.adler),$(p,E.adler>>8&255),$(p,E.adler>>16&255),$(p,E.adler>>24&255),$(p,255&E.total_in),$(p,E.total_in>>8&255),$(p,E.total_in>>16&255),$(p,E.total_in>>24&255)):(X(p,E.adler>>>16),X(p,65535&E.adler)),G(E),0<p.wrap&&(p.wrap=-p.wrap),p.pending!==0?h:1)},i.deflateEnd=function(E){var Y;return E&&E.state?(Y=E.state.status)!==C&&Y!==69&&Y!==73&&Y!==91&&Y!==103&&Y!==H&&Y!==666?ie(E,y):(E.state=null,Y===H?ie(E,-3):h):y},i.deflateSetDictionary=function(E,Y){var N,p,g,S,F,q,z,ne,ae=Y.length;if(!E||!E.state||(S=(N=E.state).wrap)===2||S===1&&N.status!==C||N.lookahead)return y;for(S===1&&(E.adler=l(E.adler,Y,ae,0)),N.wrap=0,ae>=N.w_size&&(S===0&&(le(N.head),N.strstart=0,N.block_start=0,N.insert=0),ne=new a.Buf8(N.w_size),a.arraySet(ne,Y,ae-N.w_size,N.w_size,0),Y=ne,ae=N.w_size),F=E.avail_in,q=E.next_in,z=E.input,E.avail_in=ae,E.next_in=0,E.input=Y,K(N);N.lookahead>=R;){for(p=N.strstart,g=N.lookahead-(R-1);N.ins_h=(N.ins_h<<N.hash_shift^N.window[p+R-1])&N.hash_mask,N.prev[p&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=p,p++,--g;);N.strstart=p,N.lookahead=R-1,K(N)}return N.strstart+=N.lookahead,N.block_start=N.strstart,N.insert=N.lookahead,N.lookahead=0,N.match_length=N.prev_length=R-1,N.match_available=0,E.next_in=q,E.input=z,E.avail_in=F,N.wrap=S,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,a){var o,l,u,c,f,d,h,y,v,x,m,_,b,w,T,P,M,U,R,J,oe,C,H,k,V;o=s.state,l=s.next_in,k=s.input,u=l+(s.avail_in-5),c=s.next_out,V=s.output,f=c-(a-s.avail_out),d=c+(s.avail_out-257),h=o.dmax,y=o.wsize,v=o.whave,x=o.wnext,m=o.window,_=o.hold,b=o.bits,w=o.lencode,T=o.distcode,P=(1<<o.lenbits)-1,M=(1<<o.distbits)-1;e:do{b<15&&(_+=k[l++]<<b,b+=8,_+=k[l++]<<b,b+=8),U=w[_&P];t:for(;;){if(_>>>=R=U>>>24,b-=R,(R=U>>>16&255)===0)V[c++]=65535&U;else{if(!(16&R)){if((64&R)==0){U=w[(65535&U)+(_&(1<<R)-1)];continue t}if(32&R){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}J=65535&U,(R&=15)&&(b<R&&(_+=k[l++]<<b,b+=8),J+=_&(1<<R)-1,_>>>=R,b-=R),b<15&&(_+=k[l++]<<b,b+=8,_+=k[l++]<<b,b+=8),U=T[_&M];r:for(;;){if(_>>>=R=U>>>24,b-=R,!(16&(R=U>>>16&255))){if((64&R)==0){U=T[(65535&U)+(_&(1<<R)-1)];continue r}s.msg="invalid distance code",o.mode=30;break e}if(oe=65535&U,b<(R&=15)&&(_+=k[l++]<<b,(b+=8)<R&&(_+=k[l++]<<b,b+=8)),h<(oe+=_&(1<<R)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(_>>>=R,b-=R,(R=c-f)<oe){if(v<(R=oe-R)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(H=m,(C=0)===x){if(C+=y-R,R<J){for(J-=R;V[c++]=m[C++],--R;);C=c-oe,H=V}}else if(x<R){if(C+=y+x-R,(R-=x)<J){for(J-=R;V[c++]=m[C++],--R;);if(C=0,x<J){for(J-=R=x;V[c++]=m[C++],--R;);C=c-oe,H=V}}}else if(C+=x-R,R<J){for(J-=R;V[c++]=m[C++],--R;);C=c-oe,H=V}for(;2<J;)V[c++]=H[C++],V[c++]=H[C++],V[c++]=H[C++],J-=3;J&&(V[c++]=H[C++],1<J&&(V[c++]=H[C++]))}else{for(C=c-oe;V[c++]=V[C++],V[c++]=V[C++],V[c++]=V[C++],2<(J-=3););J&&(V[c++]=V[C++],1<J&&(V[c++]=V[C++]))}break}}break}}while(l<u&&c<d);l-=J=b>>3,_&=(1<<(b-=J<<3))-1,s.next_in=l,s.next_out=c,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=c<d?d-c+257:257-(c-d),o.hold=_,o.bits=b}},{}],49:[function(r,n,i){var s=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),l=r("./inffast"),u=r("./inftrees"),c=1,f=2,d=0,h=-2,y=1,v=852,x=592;function m(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(C){var H;return C&&C.state?(H=C.state,C.total_in=C.total_out=H.total=0,C.msg="",H.wrap&&(C.adler=1&H.wrap),H.mode=y,H.last=0,H.havedict=0,H.dmax=32768,H.head=null,H.hold=0,H.bits=0,H.lencode=H.lendyn=new s.Buf32(v),H.distcode=H.distdyn=new s.Buf32(x),H.sane=1,H.back=-1,d):h}function w(C){var H;return C&&C.state?((H=C.state).wsize=0,H.whave=0,H.wnext=0,b(C)):h}function T(C,H){var k,V;return C&&C.state?(V=C.state,H<0?(k=0,H=-H):(k=1+(H>>4),H<48&&(H&=15)),H&&(H<8||15<H)?h:(V.window!==null&&V.wbits!==H&&(V.window=null),V.wrap=k,V.wbits=H,w(C))):h}function P(C,H){var k,V;return C?(V=new _,(C.state=V).window=null,(k=T(C,H))!==d&&(C.state=null),k):h}var M,U,R=!0;function J(C){if(R){var H;for(M=new s.Buf32(512),U=new s.Buf32(32),H=0;H<144;)C.lens[H++]=8;for(;H<256;)C.lens[H++]=9;for(;H<280;)C.lens[H++]=7;for(;H<288;)C.lens[H++]=8;for(u(c,C.lens,0,288,M,0,C.work,{bits:9}),H=0;H<32;)C.lens[H++]=5;u(f,C.lens,0,32,U,0,C.work,{bits:5}),R=!1}C.lencode=M,C.lenbits=9,C.distcode=U,C.distbits=5}function oe(C,H,k,V){var Q,j=C.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new s.Buf8(j.wsize)),V>=j.wsize?(s.arraySet(j.window,H,k-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):(V<(Q=j.wsize-j.wnext)&&(Q=V),s.arraySet(j.window,H,k-V,Q,j.wnext),(V-=Q)?(s.arraySet(j.window,H,k-V,V,0),j.wnext=V,j.whave=j.wsize):(j.wnext+=Q,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=Q))),0}i.inflateReset=w,i.inflateReset2=T,i.inflateResetKeep=b,i.inflateInit=function(C){return P(C,15)},i.inflateInit2=P,i.inflate=function(C,H){var k,V,Q,j,ie,ee,le,G,D,$,X,re,K,O,A,W,B,I,L,Z,E,Y,N,p,g=0,S=new s.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return h;(k=C.state).mode===12&&(k.mode=13),ie=C.next_out,Q=C.output,le=C.avail_out,j=C.next_in,V=C.input,ee=C.avail_in,G=k.hold,D=k.bits,$=ee,X=le,Y=d;e:for(;;)switch(k.mode){case y:if(k.wrap===0){k.mode=13;break}for(;D<16;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if(2&k.wrap&&G===35615){S[k.check=0]=255&G,S[1]=G>>>8&255,k.check=o(k.check,S,2,0),D=G=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&G)<<8)+(G>>8))%31){C.msg="incorrect header check",k.mode=30;break}if((15&G)!=8){C.msg="unknown compression method",k.mode=30;break}if(D-=4,E=8+(15&(G>>>=4)),k.wbits===0)k.wbits=E;else if(E>k.wbits){C.msg="invalid window size",k.mode=30;break}k.dmax=1<<E,C.adler=k.check=1,k.mode=512&G?10:12,D=G=0;break;case 2:for(;D<16;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if(k.flags=G,(255&k.flags)!=8){C.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){C.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=G>>8&1),512&k.flags&&(S[0]=255&G,S[1]=G>>>8&255,k.check=o(k.check,S,2,0)),D=G=0,k.mode=3;case 3:for(;D<32;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}k.head&&(k.head.time=G),512&k.flags&&(S[0]=255&G,S[1]=G>>>8&255,S[2]=G>>>16&255,S[3]=G>>>24&255,k.check=o(k.check,S,4,0)),D=G=0,k.mode=4;case 4:for(;D<16;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}k.head&&(k.head.xflags=255&G,k.head.os=G>>8),512&k.flags&&(S[0]=255&G,S[1]=G>>>8&255,k.check=o(k.check,S,2,0)),D=G=0,k.mode=5;case 5:if(1024&k.flags){for(;D<16;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}k.length=G,k.head&&(k.head.extra_len=G),512&k.flags&&(S[0]=255&G,S[1]=G>>>8&255,k.check=o(k.check,S,2,0)),D=G=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(ee<(re=k.length)&&(re=ee),re&&(k.head&&(E=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),s.arraySet(k.head.extra,V,j,re,E)),512&k.flags&&(k.check=o(k.check,V,re,j)),ee-=re,j+=re,k.length-=re),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(ee===0)break e;for(re=0;E=V[j+re++],k.head&&E&&k.length<65536&&(k.head.name+=String.fromCharCode(E)),E&&re<ee;);if(512&k.flags&&(k.check=o(k.check,V,re,j)),ee-=re,j+=re,E)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(ee===0)break e;for(re=0;E=V[j+re++],k.head&&E&&k.length<65536&&(k.head.comment+=String.fromCharCode(E)),E&&re<ee;);if(512&k.flags&&(k.check=o(k.check,V,re,j)),ee-=re,j+=re,E)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;D<16;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if(G!==(65535&k.check)){C.msg="header crc mismatch",k.mode=30;break}D=G=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),C.adler=k.check=0,k.mode=12;break;case 10:for(;D<32;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}C.adler=k.check=m(G),D=G=0,k.mode=11;case 11:if(k.havedict===0)return C.next_out=ie,C.avail_out=le,C.next_in=j,C.avail_in=ee,k.hold=G,k.bits=D,2;C.adler=k.check=1,k.mode=12;case 12:if(H===5||H===6)break e;case 13:if(k.last){G>>>=7&D,D-=7&D,k.mode=27;break}for(;D<3;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}switch(k.last=1&G,D-=1,3&(G>>>=1)){case 0:k.mode=14;break;case 1:if(J(k),k.mode=20,H!==6)break;G>>>=2,D-=2;break e;case 2:k.mode=17;break;case 3:C.msg="invalid block type",k.mode=30}G>>>=2,D-=2;break;case 14:for(G>>>=7&D,D-=7&D;D<32;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if((65535&G)!=(G>>>16^65535)){C.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&G,D=G=0,k.mode=15,H===6)break e;case 15:k.mode=16;case 16:if(re=k.length){if(ee<re&&(re=ee),le<re&&(re=le),re===0)break e;s.arraySet(Q,V,j,re,ie),ee-=re,j+=re,le-=re,ie+=re,k.length-=re;break}k.mode=12;break;case 17:for(;D<14;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if(k.nlen=257+(31&G),G>>>=5,D-=5,k.ndist=1+(31&G),G>>>=5,D-=5,k.ncode=4+(15&G),G>>>=4,D-=4,286<k.nlen||30<k.ndist){C.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;D<3;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}k.lens[F[k.have++]]=7&G,G>>>=3,D-=3}for(;k.have<19;)k.lens[F[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,N={bits:k.lenbits},Y=u(0,k.lens,0,19,k.lencode,0,k.work,N),k.lenbits=N.bits,Y){C.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;W=(g=k.lencode[G&(1<<k.lenbits)-1])>>>16&255,B=65535&g,!((A=g>>>24)<=D);){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if(B<16)G>>>=A,D-=A,k.lens[k.have++]=B;else{if(B===16){for(p=A+2;D<p;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if(G>>>=A,D-=A,k.have===0){C.msg="invalid bit length repeat",k.mode=30;break}E=k.lens[k.have-1],re=3+(3&G),G>>>=2,D-=2}else if(B===17){for(p=A+3;D<p;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}D-=A,E=0,re=3+(7&(G>>>=A)),G>>>=3,D-=3}else{for(p=A+7;D<p;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}D-=A,E=0,re=11+(127&(G>>>=A)),G>>>=7,D-=7}if(k.have+re>k.nlen+k.ndist){C.msg="invalid bit length repeat",k.mode=30;break}for(;re--;)k.lens[k.have++]=E}}if(k.mode===30)break;if(k.lens[256]===0){C.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,N={bits:k.lenbits},Y=u(c,k.lens,0,k.nlen,k.lencode,0,k.work,N),k.lenbits=N.bits,Y){C.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,N={bits:k.distbits},Y=u(f,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,N),k.distbits=N.bits,Y){C.msg="invalid distances set",k.mode=30;break}if(k.mode=20,H===6)break e;case 20:k.mode=21;case 21:if(6<=ee&&258<=le){C.next_out=ie,C.avail_out=le,C.next_in=j,C.avail_in=ee,k.hold=G,k.bits=D,l(C,X),ie=C.next_out,Q=C.output,le=C.avail_out,j=C.next_in,V=C.input,ee=C.avail_in,G=k.hold,D=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;W=(g=k.lencode[G&(1<<k.lenbits)-1])>>>16&255,B=65535&g,!((A=g>>>24)<=D);){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if(W&&(240&W)==0){for(I=A,L=W,Z=B;W=(g=k.lencode[Z+((G&(1<<I+L)-1)>>I)])>>>16&255,B=65535&g,!(I+(A=g>>>24)<=D);){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}G>>>=I,D-=I,k.back+=I}if(G>>>=A,D-=A,k.back+=A,k.length=B,W===0){k.mode=26;break}if(32&W){k.back=-1,k.mode=12;break}if(64&W){C.msg="invalid literal/length code",k.mode=30;break}k.extra=15&W,k.mode=22;case 22:if(k.extra){for(p=k.extra;D<p;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}k.length+=G&(1<<k.extra)-1,G>>>=k.extra,D-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;W=(g=k.distcode[G&(1<<k.distbits)-1])>>>16&255,B=65535&g,!((A=g>>>24)<=D);){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if((240&W)==0){for(I=A,L=W,Z=B;W=(g=k.distcode[Z+((G&(1<<I+L)-1)>>I)])>>>16&255,B=65535&g,!(I+(A=g>>>24)<=D);){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}G>>>=I,D-=I,k.back+=I}if(G>>>=A,D-=A,k.back+=A,64&W){C.msg="invalid distance code",k.mode=30;break}k.offset=B,k.extra=15&W,k.mode=24;case 24:if(k.extra){for(p=k.extra;D<p;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}k.offset+=G&(1<<k.extra)-1,G>>>=k.extra,D-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){C.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(le===0)break e;if(re=X-le,k.offset>re){if((re=k.offset-re)>k.whave&&k.sane){C.msg="invalid distance too far back",k.mode=30;break}K=re>k.wnext?(re-=k.wnext,k.wsize-re):k.wnext-re,re>k.length&&(re=k.length),O=k.window}else O=Q,K=ie-k.offset,re=k.length;for(le<re&&(re=le),le-=re,k.length-=re;Q[ie++]=O[K++],--re;);k.length===0&&(k.mode=21);break;case 26:if(le===0)break e;Q[ie++]=k.length,le--,k.mode=21;break;case 27:if(k.wrap){for(;D<32;){if(ee===0)break e;ee--,G|=V[j++]<<D,D+=8}if(X-=le,C.total_out+=X,k.total+=X,X&&(C.adler=k.check=k.flags?o(k.check,Q,X,ie-X):a(k.check,Q,X,ie-X)),X=le,(k.flags?G:m(G))!==k.check){C.msg="incorrect data check",k.mode=30;break}D=G=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;D<32;){if(ee===0)break e;ee--,G+=V[j++]<<D,D+=8}if(G!==(4294967295&k.total)){C.msg="incorrect length check",k.mode=30;break}D=G=0}k.mode=29;case 29:Y=1;break e;case 30:Y=-3;break e;case 31:return-4;case 32:default:return h}return C.next_out=ie,C.avail_out=le,C.next_in=j,C.avail_in=ee,k.hold=G,k.bits=D,(k.wsize||X!==C.avail_out&&k.mode<30&&(k.mode<27||H!==4))&&oe(C,C.output,C.next_out,X-C.avail_out)?(k.mode=31,-4):($-=C.avail_in,X-=C.avail_out,C.total_in+=$,C.total_out+=X,k.total+=X,k.wrap&&X&&(C.adler=k.check=k.flags?o(k.check,Q,X,C.next_out-X):a(k.check,Q,X,C.next_out-X)),C.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),($==0&&X===0||H===4)&&Y===d&&(Y=-5),Y)},i.inflateEnd=function(C){if(!C||!C.state)return h;var H=C.state;return H.window&&(H.window=null),C.state=null,d},i.inflateGetHeader=function(C,H){var k;return C&&C.state?(2&(k=C.state).wrap)==0?h:((k.head=H).done=!1,d):h},i.inflateSetDictionary=function(C,H){var k,V=H.length;return C&&C.state?(k=C.state).wrap!==0&&k.mode!==11?h:k.mode===11&&a(1,H,V,0)!==k.check?-3:oe(C,H,V,V)?(k.mode=31,-4):(k.havedict=1,d):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(c,f,d,h,y,v,x,m){var _,b,w,T,P,M,U,R,J,oe=m.bits,C=0,H=0,k=0,V=0,Q=0,j=0,ie=0,ee=0,le=0,G=0,D=null,$=0,X=new s.Buf16(16),re=new s.Buf16(16),K=null,O=0;for(C=0;C<=15;C++)X[C]=0;for(H=0;H<h;H++)X[f[d+H]]++;for(Q=oe,V=15;1<=V&&X[V]===0;V--);if(V<Q&&(Q=V),V===0)return y[v++]=20971520,y[v++]=20971520,m.bits=1,0;for(k=1;k<V&&X[k]===0;k++);for(Q<k&&(Q=k),C=ee=1;C<=15;C++)if(ee<<=1,(ee-=X[C])<0)return-1;if(0<ee&&(c===0||V!==1))return-1;for(re[1]=0,C=1;C<15;C++)re[C+1]=re[C]+X[C];for(H=0;H<h;H++)f[d+H]!==0&&(x[re[f[d+H]]++]=H);if(M=c===0?(D=K=x,19):c===1?(D=a,$-=257,K=o,O-=257,256):(D=l,K=u,-1),C=k,P=v,ie=H=G=0,w=-1,T=(le=1<<(j=Q))-1,c===1&&852<le||c===2&&592<le)return 1;for(;;){for(U=C-ie,J=x[H]<M?(R=0,x[H]):x[H]>M?(R=K[O+x[H]],D[$+x[H]]):(R=96,0),_=1<<C-ie,k=b=1<<j;y[P+(G>>ie)+(b-=_)]=U<<24|R<<16|J|0,b!==0;);for(_=1<<C-1;G&_;)_>>=1;if(_!==0?(G&=_-1,G+=_):G=0,H++,--X[C]==0){if(C===V)break;C=f[d+x[H]]}if(Q<C&&(G&T)!==w){for(ie===0&&(ie=Q),P+=k,ee=1<<(j=C-ie);j+ie<V&&!((ee-=X[j+ie])<=0);)j++,ee<<=1;if(le+=1<<j,c===1&&852<le||c===2&&592<le)return 1;y[w=G&T]=Q<<24|j<<16|P-v|0}}return G!==0&&(y[P+G]=C-ie<<24|64<<16|0),m.bits=Q,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),a=0,o=1;function l(g){for(var S=g.length;0<=--S;)g[S]=0}var u=0,c=29,f=256,d=f+1+c,h=30,y=19,v=2*d+1,x=15,m=16,_=7,b=256,w=16,T=17,P=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=new Array(2*(d+2));l(oe);var C=new Array(2*h);l(C);var H=new Array(512);l(H);var k=new Array(256);l(k);var V=new Array(c);l(V);var Q,j,ie,ee=new Array(h);function le(g,S,F,q,z){this.static_tree=g,this.extra_bits=S,this.extra_base=F,this.elems=q,this.max_length=z,this.has_stree=g&&g.length}function G(g,S){this.dyn_tree=g,this.max_code=0,this.stat_desc=S}function D(g){return g<256?H[g]:H[256+(g>>>7)]}function $(g,S){g.pending_buf[g.pending++]=255&S,g.pending_buf[g.pending++]=S>>>8&255}function X(g,S,F){g.bi_valid>m-F?(g.bi_buf|=S<<g.bi_valid&65535,$(g,g.bi_buf),g.bi_buf=S>>m-g.bi_valid,g.bi_valid+=F-m):(g.bi_buf|=S<<g.bi_valid&65535,g.bi_valid+=F)}function re(g,S,F){X(g,F[2*S],F[2*S+1])}function K(g,S){for(var F=0;F|=1&g,g>>>=1,F<<=1,0<--S;);return F>>>1}function O(g,S,F){var q,z,ne=new Array(x+1),ae=0;for(q=1;q<=x;q++)ne[q]=ae=ae+F[q-1]<<1;for(z=0;z<=S;z++){var se=g[2*z+1];se!==0&&(g[2*z]=K(ne[se]++,se))}}function A(g){var S;for(S=0;S<d;S++)g.dyn_ltree[2*S]=0;for(S=0;S<h;S++)g.dyn_dtree[2*S]=0;for(S=0;S<y;S++)g.bl_tree[2*S]=0;g.dyn_ltree[2*b]=1,g.opt_len=g.static_len=0,g.last_lit=g.matches=0}function W(g){8<g.bi_valid?$(g,g.bi_buf):0<g.bi_valid&&(g.pending_buf[g.pending++]=g.bi_buf),g.bi_buf=0,g.bi_valid=0}function B(g,S,F,q){var z=2*S,ne=2*F;return g[z]<g[ne]||g[z]===g[ne]&&q[S]<=q[F]}function I(g,S,F){for(var q=g.heap[F],z=F<<1;z<=g.heap_len&&(z<g.heap_len&&B(S,g.heap[z+1],g.heap[z],g.depth)&&z++,!B(S,q,g.heap[z],g.depth));)g.heap[F]=g.heap[z],F=z,z<<=1;g.heap[F]=q}function L(g,S,F){var q,z,ne,ae,se=0;if(g.last_lit!==0)for(;q=g.pending_buf[g.d_buf+2*se]<<8|g.pending_buf[g.d_buf+2*se+1],z=g.pending_buf[g.l_buf+se],se++,q===0?re(g,z,S):(re(g,(ne=k[z])+f+1,S),(ae=M[ne])!==0&&X(g,z-=V[ne],ae),re(g,ne=D(--q),F),(ae=U[ne])!==0&&X(g,q-=ee[ne],ae)),se<g.last_lit;);re(g,b,S)}function Z(g,S){var F,q,z,ne=S.dyn_tree,ae=S.stat_desc.static_tree,se=S.stat_desc.has_stree,fe=S.stat_desc.elems,pe=-1;for(g.heap_len=0,g.heap_max=v,F=0;F<fe;F++)ne[2*F]!==0?(g.heap[++g.heap_len]=pe=F,g.depth[F]=0):ne[2*F+1]=0;for(;g.heap_len<2;)ne[2*(z=g.heap[++g.heap_len]=pe<2?++pe:0)]=1,g.depth[z]=0,g.opt_len--,se&&(g.static_len-=ae[2*z+1]);for(S.max_code=pe,F=g.heap_len>>1;1<=F;F--)I(g,ne,F);for(z=fe;F=g.heap[1],g.heap[1]=g.heap[g.heap_len--],I(g,ne,1),q=g.heap[1],g.heap[--g.heap_max]=F,g.heap[--g.heap_max]=q,ne[2*z]=ne[2*F]+ne[2*q],g.depth[z]=(g.depth[F]>=g.depth[q]?g.depth[F]:g.depth[q])+1,ne[2*F+1]=ne[2*q+1]=z,g.heap[1]=z++,I(g,ne,1),2<=g.heap_len;);g.heap[--g.heap_max]=g.heap[1],(function(ve,Me){var yt,tt,fr,Oe,ln,li,ct=Me.dyn_tree,wo=Me.max_code,Nd=Me.stat_desc.static_tree,Rd=Me.stat_desc.has_stree,Cd=Me.stat_desc.extra_bits,bo=Me.stat_desc.extra_base,hr=Me.stat_desc.max_length,un=0;for(Oe=0;Oe<=x;Oe++)ve.bl_count[Oe]=0;for(ct[2*ve.heap[ve.heap_max]+1]=0,yt=ve.heap_max+1;yt<v;yt++)hr<(Oe=ct[2*ct[2*(tt=ve.heap[yt])+1]+1]+1)&&(Oe=hr,un++),ct[2*tt+1]=Oe,wo<tt||(ve.bl_count[Oe]++,ln=0,bo<=tt&&(ln=Cd[tt-bo]),li=ct[2*tt],ve.opt_len+=li*(Oe+ln),Rd&&(ve.static_len+=li*(Nd[2*tt+1]+ln)));if(un!==0){do{for(Oe=hr-1;ve.bl_count[Oe]===0;)Oe--;ve.bl_count[Oe]--,ve.bl_count[Oe+1]+=2,ve.bl_count[hr]--,un-=2}while(0<un);for(Oe=hr;Oe!==0;Oe--)for(tt=ve.bl_count[Oe];tt!==0;)wo<(fr=ve.heap[--yt])||(ct[2*fr+1]!==Oe&&(ve.opt_len+=(Oe-ct[2*fr+1])*ct[2*fr],ct[2*fr+1]=Oe),tt--)}})(g,S),O(ne,pe,g.bl_count)}function E(g,S,F){var q,z,ne=-1,ae=S[1],se=0,fe=7,pe=4;for(ae===0&&(fe=138,pe=3),S[2*(F+1)+1]=65535,q=0;q<=F;q++)z=ae,ae=S[2*(q+1)+1],++se<fe&&z===ae||(se<pe?g.bl_tree[2*z]+=se:z!==0?(z!==ne&&g.bl_tree[2*z]++,g.bl_tree[2*w]++):se<=10?g.bl_tree[2*T]++:g.bl_tree[2*P]++,ne=z,pe=(se=0)===ae?(fe=138,3):z===ae?(fe=6,3):(fe=7,4))}function Y(g,S,F){var q,z,ne=-1,ae=S[1],se=0,fe=7,pe=4;for(ae===0&&(fe=138,pe=3),q=0;q<=F;q++)if(z=ae,ae=S[2*(q+1)+1],!(++se<fe&&z===ae)){if(se<pe)for(;re(g,z,g.bl_tree),--se!=0;);else z!==0?(z!==ne&&(re(g,z,g.bl_tree),se--),re(g,w,g.bl_tree),X(g,se-3,2)):se<=10?(re(g,T,g.bl_tree),X(g,se-3,3)):(re(g,P,g.bl_tree),X(g,se-11,7));ne=z,pe=(se=0)===ae?(fe=138,3):z===ae?(fe=6,3):(fe=7,4)}}l(ee);var N=!1;function p(g,S,F,q){X(g,(u<<1)+(q?1:0),3),(function(z,ne,ae,se){W(z),$(z,ae),$(z,~ae),s.arraySet(z.pending_buf,z.window,ne,ae,z.pending),z.pending+=ae})(g,S,F)}i._tr_init=function(g){N||((function(){var S,F,q,z,ne,ae=new Array(x+1);for(z=q=0;z<c-1;z++)for(V[z]=q,S=0;S<1<<M[z];S++)k[q++]=z;for(k[q-1]=z,z=ne=0;z<16;z++)for(ee[z]=ne,S=0;S<1<<U[z];S++)H[ne++]=z;for(ne>>=7;z<h;z++)for(ee[z]=ne<<7,S=0;S<1<<U[z]-7;S++)H[256+ne++]=z;for(F=0;F<=x;F++)ae[F]=0;for(S=0;S<=143;)oe[2*S+1]=8,S++,ae[8]++;for(;S<=255;)oe[2*S+1]=9,S++,ae[9]++;for(;S<=279;)oe[2*S+1]=7,S++,ae[7]++;for(;S<=287;)oe[2*S+1]=8,S++,ae[8]++;for(O(oe,d+1,ae),S=0;S<h;S++)C[2*S+1]=5,C[2*S]=K(S,5);Q=new le(oe,M,f+1,d,x),j=new le(C,U,0,h,x),ie=new le(new Array(0),R,0,y,_)})(),N=!0),g.l_desc=new G(g.dyn_ltree,Q),g.d_desc=new G(g.dyn_dtree,j),g.bl_desc=new G(g.bl_tree,ie),g.bi_buf=0,g.bi_valid=0,A(g)},i._tr_stored_block=p,i._tr_flush_block=function(g,S,F,q){var z,ne,ae=0;0<g.level?(g.strm.data_type===2&&(g.strm.data_type=(function(se){var fe,pe=4093624447;for(fe=0;fe<=31;fe++,pe>>>=1)if(1&pe&&se.dyn_ltree[2*fe]!==0)return a;if(se.dyn_ltree[18]!==0||se.dyn_ltree[20]!==0||se.dyn_ltree[26]!==0)return o;for(fe=32;fe<f;fe++)if(se.dyn_ltree[2*fe]!==0)return o;return a})(g)),Z(g,g.l_desc),Z(g,g.d_desc),ae=(function(se){var fe;for(E(se,se.dyn_ltree,se.l_desc.max_code),E(se,se.dyn_dtree,se.d_desc.max_code),Z(se,se.bl_desc),fe=y-1;3<=fe&&se.bl_tree[2*J[fe]+1]===0;fe--);return se.opt_len+=3*(fe+1)+5+5+4,fe})(g),z=g.opt_len+3+7>>>3,(ne=g.static_len+3+7>>>3)<=z&&(z=ne)):z=ne=F+5,F+4<=z&&S!==-1?p(g,S,F,q):g.strategy===4||ne===z?(X(g,2+(q?1:0),3),L(g,oe,C)):(X(g,4+(q?1:0),3),(function(se,fe,pe,ve){var Me;for(X(se,fe-257,5),X(se,pe-1,5),X(se,ve-4,4),Me=0;Me<ve;Me++)X(se,se.bl_tree[2*J[Me]+1],3);Y(se,se.dyn_ltree,fe-1),Y(se,se.dyn_dtree,pe-1)})(g,g.l_desc.max_code+1,g.d_desc.max_code+1,ae+1),L(g,g.dyn_ltree,g.dyn_dtree)),A(g),q&&W(g)},i._tr_tally=function(g,S,F){return g.pending_buf[g.d_buf+2*g.last_lit]=S>>>8&255,g.pending_buf[g.d_buf+2*g.last_lit+1]=255&S,g.pending_buf[g.l_buf+g.last_lit]=255&F,g.last_lit++,S===0?g.dyn_ltree[2*F]++:(g.matches++,S--,g.dyn_ltree[2*(k[F]+f+1)]++,g.dyn_dtree[2*D(S)]++),g.last_lit===g.lit_bufsize-1},i._tr_align=function(g){X(g,2,3),re(g,b,oe),(function(S){S.bi_valid===16?($(S,S.bi_buf),S.bi_buf=0,S.bi_valid=0):8<=S.bi_valid&&(S.pending_buf[S.pending++]=255&S.bi_buf,S.bi_buf>>=8,S.bi_valid-=8)})(g)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(a,o){if(!a.setImmediate){var l,u,c,f,d=1,h={},y=!1,v=a.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(a);x=x&&x.setTimeout?x:a,l={}.toString.call(a.process)==="[object process]"?function(w){Ie.nextTick(function(){_(w)})}:(function(){if(a.postMessage&&!a.importScripts){var w=!0,T=a.onmessage;return a.onmessage=function(){w=!1},a.postMessage("","*"),a.onmessage=T,w}})()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",b,!1):a.attachEvent("onmessage",b),function(w){a.postMessage(f+w,"*")}):a.MessageChannel?((c=new MessageChannel).port1.onmessage=function(w){_(w.data)},function(w){c.port2.postMessage(w)}):v&&"onreadystatechange"in v.createElement("script")?(u=v.documentElement,function(w){var T=v.createElement("script");T.onreadystatechange=function(){_(w),T.onreadystatechange=null,u.removeChild(T),T=null},u.appendChild(T)}):function(w){setTimeout(_,0,w)},x.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var T=new Array(arguments.length-1),P=0;P<T.length;P++)T[P]=arguments[P+1];var M={callback:w,args:T};return h[d]=M,l(d),d++},x.clearImmediate=m}function m(w){delete h[w]}function _(w){if(y)setTimeout(_,0,w);else{var T=h[w];if(T){y=!0;try{(function(P){var M=P.callback,U=P.args;switch(U.length){case 0:M();break;case 1:M(U[0]);break;case 2:M(U[0],U[1]);break;case 3:M(U[0],U[1],U[2]);break;default:M.apply(o,U)}})(T)}finally{m(w),y=!1}}}}function b(w){w.source===a&&typeof w.data=="string"&&w.data.indexOf(f)===0&&_(+w.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Qr<"u"?Qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(fx)),fx.exports}var kZ=SZ(),co=fT(kZ),tl={exports:{}},hx,FL;function TZ(){if(FL)return hx;FL=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,i){return t[i]}):r}return hx=e,hx}var BL;function AZ(){if(BL)return tl.exports;BL=1;var t=TZ(),e=vT().Stream,r="    ";function n(u,c){typeof c!="object"&&(c={indent:c});var f=c.stream?new e:null,d="",h=!1,y=c.indent?c.indent===!0?r:c.indent:"",v=!0;function x(T){v?Ie.nextTick(T):T()}function m(T,P){if(P!==void 0&&(d+=P),T&&!h&&(f=f||new e,h=!0),T&&h){var M=d;x(function(){f.emit("data",M)}),d=""}}function _(T,P){o(m,a(T,y,y?1:0),P)}function b(){if(f){var T=d;x(function(){f.emit("data",T),f.emit("end"),f.readable=!1,f.emit("close")})}}function w(T){var P=T.encoding||"UTF-8",M={version:"1.0",encoding:P};T.standalone&&(M.standalone=T.standalone),_({"?xml":{_attr:M}}),d=d.replace("/>","?>")}return x(function(){v=!1}),c.declaration&&w(c.declaration),u&&u.forEach?u.forEach(function(T,P){var M;P+1===u.length&&(M=b),_(T,M)}):_(u,b),f?(f.readable=!0,f):d}function i(){var u=Array.prototype.slice.call(arguments),c={_elem:a(u)};return c.push=function(f){if(!this.append)throw new Error("not assigned to a parent!");var d=this,h=this._elem.indent;o(this.append,a(f,h,this._elem.icount+(h?1:0)),function(){d.append(!0)})},c.close=function(f){f!==void 0&&this.push(f),this.end&&this.end()},c}function s(u,c){return new Array(c||0).join(u||"")}function a(u,c,f){f=f||0;var d=s(c,f),h,y=u,v=!1;if(typeof u=="object"){var x=Object.keys(u);if(h=x[0],y=u[h],y&&y._elem)return y._elem.name=h,y._elem.icount=f,y._elem.indent=c,y._elem.indents=d,y._elem.interrupt=y,y._elem}var m=[],_=[],b;function w(T){var P=Object.keys(T);P.forEach(function(M){m.push(l(M,T[M]))})}switch(typeof y){case"object":if(y===null)break;y._attr&&w(y._attr),y._cdata&&_.push(("<![CDATA["+y._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),y.forEach&&(b=!1,_.push(""),y.forEach(function(T){if(typeof T=="object"){var P=Object.keys(T)[0];P=="_attr"?w(T._attr):_.push(a(T,c,f+1))}else _.pop(),b=!0,_.push(t(T))}),b||_.push(""));break;default:_.push(t(y))}return{name:h,interrupt:v,attributes:m,content:_,icount:f,indents:d,indent:c}}function o(u,c,f){if(typeof c!="object")return u(!1,c);var d=c.interrupt?1:c.content.length;function h(){for(;c.content.length;){var v=c.content.shift();if(v!==void 0){if(y(v))return;o(u,v)}}u(!1,(d>1?c.indents:"")+(c.name?"</"+c.name+">":"")+(c.indent&&!f?`
`:"")),f&&f()}function y(v){return v.interrupt?(v.interrupt.append=u,v.interrupt.end=h,v.interrupt=!1,u(!0),!0):!1}if(u(!1,c.indents+(c.name?"<"+c.name:"")+(c.attributes.length?" "+c.attributes.join(" "):"")+(d?c.name?">":"":c.name?"/>":"")+(c.indent&&d>1?`
`:"")),!d)return u(!1,c.indent?`
`:"");y(c)||h()}function l(u,c){return u+'="'+t(c)+'"'}return tl.exports=n,tl.exports.element=tl.exports.Element=i,tl.exports}var OZ=AZ(),Je=fT(OZ),rl=0,dx=32,NZ=32,RZ=(t,e)=>{let r=e.replace(/-/g,"");if(r.length!==NZ)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);let i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(l=>parseInt(l,16));i.reverse();let a=t.slice(rl,dx).map((l,u)=>l^i[u%i.length]),o=new Uint8Array(rl+a.length+Math.max(0,t.length-dx));return o.set(t.slice(0,rl)),o.set(a,rl),o.set(t.slice(dx),rl+a.length),o},kl=class{format(e,r={stack:[]}){let n=e.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}},wd=class{replace(e,r,n){let i=e;return r.forEach((s,a)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+a).toString())}),i}getMediaData(e,r){return r.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}},aT=class{replace(e,r){let n=e;for(let i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}},lT=class{constructor(){ce(this,"formatter"),ce(this,"imageReplacer"),ce(this,"numberingReplacer"),this.formatter=new kl,this.imageReplacer=new wd,this.numberingReplacer=new aT}compile(e,r,n=[]){let i=new co,s=this.xmlifyFile(e,r),a=new Map(Object.entries(s));for(let[,o]of a)if(Array.isArray(o))for(let l of o)i.file(l.path,l.data);else i.file(o.path,o.data);for(let o of n)i.file(o.path,o.data);for(let o of e.Media.Array)o.type!=="svg"?i.file(`word/media/${o.fileName}`,o.data):(i.file(`word/media/${o.fileName}`,o.data),i.file(`word/media/${o.fallback.fileName}`,o.fallback.data));for(let{data:o,name:l,fontKey:u}of e.FontTable.fontOptionsWithKey){let[c]=l.split(".");i.file(`word/fonts/${c}.odttf`,RZ(o,u))}return i}xmlifyFile(e,r){let n=e.Document.Relationships.RelationshipCount+1,i=Je(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,a=Je(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(i,e.Media),l=this.imageReplacer.getMediaData(a,e.Media);return{Relationships:{data:(o.forEach((u,c)=>{e.Document.Relationships.createRelationship(n+c,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Je(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{let u=this.imageReplacer.replace(i,o,n);return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{let u=Je(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Je(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Je(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Je(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((u,c)=>{let f=Je(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((h,y)=>{u.Relationships.createRelationship(y,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),{data:Je(this.formatter.format(u.Relationships,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${c+1}.xml.rels`}}),FooterRelationships:e.Footers.map((u,c)=>{let f=Je(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((h,y)=>{u.Relationships.createRelationship(y,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),{data:Je(this.formatter.format(u.Relationships,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${c+1}.xml.rels`}}),Headers:e.Headers.map((u,c)=>{let f=Je(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),d=this.imageReplacer.getMediaData(f,e.Media),h=this.imageReplacer.replace(f,d,0);return{data:this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering),path:`word/header${c+1}.xml`}}),Footers:e.Footers.map((u,c)=>{let f=Je(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),d=this.imageReplacer.getMediaData(f,e.Media),h=this.imageReplacer.replace(f,d,0);return{data:this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering),path:`word/footer${c+1}.xml`}}),ContentTypes:{data:Je(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Je(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Je(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Je(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Je(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Je(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{let u=this.imageReplacer.replace(a,l,s);return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(l.forEach((u,c)=>{e.Comments.Relationships.createRelationship(s+c,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),Je(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Je(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Je(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}},o4={NONE:"",WITH_2_BLANKS:"  ",WITH_4_BLANKS:"    ",WITH_TAB:"	"},UL=t=>t===!0?o4.WITH_2_BLANKS:t===!1?void 0:t,a4=class no{static pack(e,r,n){return cT(this,arguments,function*(i,s,a,o=[]){return this.compiler.compile(i,UL(a),o).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,r,n=[]){return no.pack(e,"string",r,n)}static toBuffer(e,r,n=[]){return no.pack(e,"nodebuffer",r,n)}static toBase64String(e,r,n=[]){return no.pack(e,"base64",r,n)}static toBlob(e,r,n=[]){return no.pack(e,"blob",r,n)}static toArrayBuffer(e,r,n=[]){return no.pack(e,"arraybuffer",r,n)}static toStream(e,r,n=[]){let i=new EZ.Stream;return this.compiler.compile(e,UL(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(a=>{i.emit("data",a),i.emit("end")}),i}};ce(a4,"compiler",new lT);var CZ=a4,IZ=new kl,Ad=t=>xd.xml2js(t,{compact:!1,captureSpacesBetweenElements:!0}),l4=t=>{var e;return(e=Ad(Je(IZ.format(new hl({text:t})))).elements[0].elements)!=null?e:[]},u4=t=>It(Te({},t),{attributes:{"xml:space":"preserve"}}),AT=(t,e)=>{var r,n;return(n=(r=t.elements)==null?void 0:r.filter(i=>i.name===e)[0].elements)!=null?n:[]},to=(t,e,r)=>{let n=AT(t,"Types");n.some(s=>{var a,o;return s.type==="element"&&s.name==="Default"&&((a=s?.attributes)==null?void 0:a.ContentType)===e&&((o=s?.attributes)==null?void 0:o.Extension)===r})||n.push({attributes:{ContentType:e,Extension:r},name:"Default",type:"element"})},PZ=t=>{let e=parseInt(t.substring(3),10);return isNaN(e)?0:e},DZ=t=>AT(t,"Relationships").map(r=>{var n,i,s;return PZ((s=(i=(n=r.attributes)==null?void 0:n.Id)==null?void 0:i.toString())!=null?s:"")}).reduce((r,n)=>Math.max(r,n),0)+1,HL=(t,e,r,n,i)=>{let s=AT(t,"Relationships");return s.push({attributes:{Id:`rId${e}`,Type:r,Target:n,TargetMode:i},name:"Relationship",type:"element"}),s},MZ=(t,e)=>{var r,n,i,s;for(let a=0;a<((r=t.elements)!=null?r:[]).length;a++){let o=t.elements[a];if(o.type==="element"&&o.name==="w:r"){let l=((n=o.elements)!=null?n:[]).filter(u=>u.type==="element"&&u.name==="w:t");for(let u of l)if((i=u.elements)!=null&&i[0]&&(s=u.elements[0].text)!=null&&s.includes(e))return a}}throw new Error("Token not found")},LZ=(t,e)=>{var r,n;let i=0,s=(n=(r=t.elements)==null?void 0:r.map((l,u)=>{var c,f,d;if(l.type==="element"&&l.name==="w:t"){let v=((d=(f=(c=l.elements)==null?void 0:c[0])==null?void 0:f.text)!=null?d:"").split(e).map(x=>It(Te(Te({},l),u4(l)),{elements:l4(x)}));return i=u,v}else return l}).flat())!=null?n:[],a=It(Te({},JSON.parse(JSON.stringify(t))),{elements:s.slice(0,i+1)}),o=It(Te({},JSON.parse(JSON.stringify(t))),{elements:s.slice(i+1)});return{left:a,right:o}},nl={START:0,MIDDLE:1,END:2},FZ=({paragraphElement:t,renderedParagraph:e,originalText:r,replacementText:n})=>{let i=e.text.indexOf(r),s=i+r.length-1,a=nl.START;for(let o of e.runs)for(let{text:l,index:u,start:c,end:f}of o.parts)switch(a){case nl.START:if(i>=c){let d=i-c,h=Math.min(s,f)-c,y=o.text.substring(d,h+1);if(y==="")continue;let v=l.replace(y,n);px(t.elements[o.index].elements[u],v),a=nl.MIDDLE;continue}break;case nl.MIDDLE:if(s<=f){let d=l.substring(s-c+1);px(t.elements[o.index].elements[u],d);let h=t.elements[o.index].elements[u];t.elements[o.index].elements[u]=u4(h),a=nl.END}else px(t.elements[o.index].elements[u],"");break}return t},px=(t,e)=>(t.elements=l4(e),t),BZ=t=>{if(t.element.name!=="w:p")throw new Error(`Invalid node type: ${t.element.name}`);if(!t.element.elements)return{text:"",runs:[],index:-1,pathToParagraph:[]};let e=0,r=t.element.elements.map((i,s)=>({element:i,i:s})).filter(({element:i})=>i.name==="w:r").map(({element:i,i:s})=>{let a=UZ(i,s,e);return e+=a.text.length,a}).filter(i=>!!i);return{text:r.reduce((i,s)=>i+s.text,""),runs:r,index:t.index,pathToParagraph:c4(t)}},UZ=(t,e,r)=>{if(!t.elements)return{text:"",parts:[],index:-1,start:r,end:r};let n=r,i=t.elements.map((a,o)=>{var l,u;return a.name==="w:t"&&a.elements&&a.elements.length>0?{text:(u=(l=a.elements[0].text)==null?void 0:l.toString())!=null?u:"",index:o,start:n,end:(()=>{var c,f;return n+=((f=(c=a.elements[0].text)==null?void 0:c.toString())!=null?f:"").length-1,n})()}:void 0}).filter(a=>!!a).map(a=>a);return{text:i.reduce((a,o)=>a+o.text,""),parts:i,index:e,start:r,end:n}},c4=t=>t.parent?[...c4(t.parent),t.index]:[t.index],zL=t=>{var e,r;return(r=(e=t.element.elements)==null?void 0:e.map((n,i)=>({element:n,index:i,parent:t})))!=null?r:[]},f4=t=>{let e=[],r=[...zL({element:t,index:0,parent:void 0})],n;for(;r.length>0;)n=r.shift(),n.element.name==="w:p"&&(e=[...e,BZ(n)]),r.push(...zL(n));return e},HZ=(t,e)=>f4(t).filter(r=>r.text.includes(e)),zZ=new kl,mx="\u0275",jZ=({json:t,patch:e,patchText:r,context:n,keepOriginalStyles:i=!0})=>{let s=HZ(t,r);if(s.length===0)return{element:t,didFindOccurrence:!1};for(let a of s){let o=e.children.map(l=>Ad(Je(zZ.format(l,n)))).map(l=>l.elements[0]);switch(e.type){case uT.DOCUMENT:{let l=WZ(t,a.pathToParagraph),u=qZ(a.pathToParagraph);l.elements.splice(u,1,...o);break}case uT.PARAGRAPH:default:{let l=h4(t,a.pathToParagraph);FZ({paragraphElement:l,renderedParagraph:a,originalText:r,replacementText:mx});let u=MZ(l,mx),c=l.elements[u],{left:f,right:d}=LZ(c,mx),h=o,y=d;if(i){let v=c.elements.filter(x=>x.type==="element"&&x.name==="w:rPr");h=o.map(x=>{var m;return It(Te({},x),{elements:[...v,...(m=x.elements)!=null?m:[]]})}),y=It(Te({},d),{elements:[...v,...d.elements]})}l.elements.splice(u,1,f,...h,y);break}}}return{element:t,didFindOccurrence:!0}},h4=(t,e)=>{let r=t;for(let n=1;n<e.length;n++){let i=e[n];r=r.elements[i]}return r},WZ=(t,e)=>h4(t,e.slice(0,e.length-1)),qZ=t=>t[t.length-1],uT={DOCUMENT:"file",PARAGRAPH:"paragraph"},jL=new wd,VZ=new Uint8Array([255,254]),KZ=new Uint8Array([254,255]),WL=(t,e)=>{if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},GZ=t=>cT(te,[t],function*({outputType:e,data:r,patches:n,keepOriginalStyles:i,placeholderDelimiters:s={start:"{{",end:"}}"},recursive:a=!0}){var o,l,u;let c=r instanceof co?r:yield co.loadAsync(r),f=new Map,d={Media:new _l},h=new Map,y=[],v=[],x=!1,m=new Map;for(let[b,w]of Object.entries(c.files)){let T=yield w.async("uint8array"),P=T.slice(0,2);if(WL(P,VZ)||WL(P,KZ)){m.set(b,T);continue}if(!b.endsWith(".xml")&&!b.endsWith(".rels")){m.set(b,T);continue}let M=Ad(yield w.async("text"));if(b==="word/document.xml"){let U=(o=M.elements)==null?void 0:o.find(R=>R.name==="w:document");if(U&&U.attributes){for(let R of["mc","wp","r","w15","m"])U.attributes[`xmlns:${R}`]=Rh[R];U.attributes["mc:Ignorable"]=`${U.attributes["mc:Ignorable"]||""} w15`.trim()}}if(b.startsWith("word/")&&!b.endsWith(".xml.rels")){let U={file:d,viewWrapper:{Relationships:{createRelationship:(C,H,k,V)=>{v.push({key:b,hyperlink:{id:C,link:k}})}}},stack:[]};if(f.set(b,U),!s?.start.trim()||!s?.end.trim())throw new Error("Both start and end delimiters must be non-empty strings.");let{start:R,end:J}=s;for(let[C,H]of Object.entries(n)){let k=`${R}${C}${J}`;for(;;){let{didFindOccurrence:V}=jZ({json:M,patch:It(Te({},H),{children:H.children.map(Q=>{if(Q instanceof ml){let j=new si(Q.options.children,Dl());return v.push({key:b,hyperlink:{id:j.linkId,link:Q.options.link}}),j}else return Q})}),patchText:k,context:U,keepOriginalStyles:i});if(!a||!V)break}}let oe=jL.getMediaData(JSON.stringify(M),U.file.Media);oe.length>0&&(x=!0,y.push({key:b,mediaDatas:oe}))}h.set(b,M)}for(let{key:b,mediaDatas:w}of y){let T=`word/_rels/${b.split("/").pop()}.rels`,P=(l=h.get(T))!=null?l:qL();h.set(T,P);let M=DZ(P),U=jL.replace(JSON.stringify(h.get(b)),w,M);h.set(b,JSON.parse(U));for(let R=0;R<w.length;R++){let{fileName:J}=w[R];HL(P,M+R,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${J}`)}}for(let{key:b,hyperlink:w}of v){let T=`word/_rels/${b.split("/").pop()}.rels`,P=(u=h.get(T))!=null?u:qL();h.set(T,P),HL(P,w.id,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",w.link,V3.EXTERNAL)}if(x){let b=h.get("[Content_Types].xml");if(!b)throw new Error("Could not find content types file");to(b,"image/png","png"),to(b,"image/jpeg","jpeg"),to(b,"image/jpeg","jpg"),to(b,"image/bmp","bmp"),to(b,"image/gif","gif"),to(b,"image/svg+xml","svg")}let _=new co;for(let[b,w]of h){let T=$Z(w);_.file(b,T)}for(let[b,w]of m)_.file(b,w);for(let{data:b,fileName:w}of d.Media.Array)_.file(`word/media/${w}`,b);return _.generateAsync({type:e,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}),$Z=t=>xd.js2xml(t,{attributeValueFn:r=>String(r).replace(/&(?!amp;|lt;|gt;|quot;|apos;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}),qL=()=>({declaration:{attributes:{version:"1.0",encoding:"UTF-8",standalone:"yes"}},elements:[{type:"element",name:"Relationships",attributes:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},elements:[]}]}),JZ=t=>cT(te,[t],function*({data:e}){let r=e instanceof co?e:yield co.loadAsync(e),n=new Set;for(let[i,s]of Object.entries(r.files))if(!(!i.endsWith(".xml")&&!i.endsWith(".rels"))&&i.startsWith("word/")&&!i.endsWith(".xml.rels")){let a=Ad(yield s.async("text"));f4(a).forEach(o=>XZ(o.text).forEach(l=>n.add(l)))}return Array.from(n)}),XZ=t=>{var e;let r=new RegExp("(?<=\\{\\{).+?(?=\\}\\})","gs");return(e=t.match(r))!=null?e:[]};te.AbstractNumbering=El;te.Alignment=ll;te.AlignmentAttributes=jf;te.AlignmentType=Er;te.AnnotationReference=FE;te.Attributes=Ve;te.BaseEmphasisMark=fl;te.BaseXmlComponent=Ki;te.Body=Nh;te.Bookmark=dh;te.BookmarkEnd=mh;te.BookmarkStart=ph;te.Border=Wf;te.BorderElement=Be;te.BorderStyle=kd;te.BuilderElement=ke;te.CarriageReturn=WE;te.CharacterSet=lZ;te.CheckBox=sT;te.CheckBoxSymbolElement=uo;te.CheckBoxUtil=yd;te.Column=lS;te.ColumnBreak=$E;te.Columns=yh;te.Comment=ih;te.CommentRangeEnd=AE;te.CommentRangeStart=TE;te.CommentReference=OE;te.Comments=sh;te.ConcreteHyperlink=si;te.ConcreteNumbering=Sl;te.ContinuationSeparator=zE;te.DayLong=DE;te.DayShort=CE;te.DeletedTextRun=nT;te.Document=fd;te.DocumentAttributeNamespaces=Rh;te.DocumentAttributes=Yi;te.DocumentBackground=Ih;te.DocumentBackgroundAttributes=Ch;te.DocumentDefaults=ud;te.DocumentGridType=FY;te.DotEmphasisMark=Ox;te.Drawing=rh;te.DropCapType=VY;te.EMPTY_OBJECT=GL;te.EmphasisMark=Kf;te.EmphasisMarkType=ET;te.EmptyElement=ut;te.EndnoteReference=UE;te.ExternalHyperlink=ml;te.File=fd;te.FileChild=Xi;te.FootNoteReferenceRunAttributes=pd;te.FootNotes=ed;te.Footer=Yk;te.FooterWrapper=Qh;te.FootnoteReference=md;te.FootnoteReferenceElement=BE;te.FootnoteReferenceRun=Zk;te.FrameAnchorType=KY;te.FrameWrap=GY;te.GridSpan=Wh;te.Header=Xk;te.HeaderFooterReference=lo;te.HeaderFooterReferenceType=Vi;te.HeaderFooterType=oS;te.HeaderWrapper=td;te.HeadingLevel=IY;te.HeightRule=aZ;te.HighlightColor=sY;te.HorizontalPositionAlign=QX;te.HorizontalPositionRelativeFrom=I3;te.HpsMeasureElement=so;te.HyperlinkType=MY;te.IgnoreIfEmptyXmlComponent=cr;te.ImageRun=gE;te.ImportedRootElementAttributes=Hf;te.ImportedXmlComponent=Uf;te.Indent=Vf;te.InitializableXmlComponent=al;te.InsertedTextRun=Qk;te.InternalHyperlink=eS;te.LastRenderedPageBreak=VE;te.LeaderType=PY;te.Level=rd;te.LevelBase=xl;te.LevelForOverride=vk;te.LevelFormat=Jr;te.LevelOverride=nd;te.LevelSuffix=mZ;te.LineNumberRestartFormat=BY;te.LineRuleType=lh;te.Math=$Y;te.MathAngledBrackets=RS;te.MathCurlyBrackets=NS;te.MathDegree=Lh;te.MathDenominator=Dh;te.MathFraction=pS;te.MathFunction=TS;te.MathFunctionName=Bh;te.MathFunctionProperties=Uh;te.MathIntegral=gS;te.MathLimit=vl;te.MathLimitLower=yS;te.MathLimitUpper=vS;te.MathNumerator=Mh;te.MathPreSubSuperScript=xS;te.MathRadical=kS;te.MathRadicalProperties=Fh;te.MathRoundBrackets=AS;te.MathRun=dS;te.MathSquareBrackets=OS;te.MathSubScript=bS;te.MathSubSuperScript=_S;te.MathSum=mS;te.MathSuperScript=wS;te.Media=_l;te.MonthLong=ME;te.MonthShort=IE;te.NextAttributeComponent=Xt;te.NoBreakHyphen=NE;te.NumberFormat=tY;te.NumberProperties=ao;te.NumberValueElement=ii;te.Numbering=id;te.OnOffElement=me;te.OutlineLevel=gh;te.OverlapType=iZ;te.Packer=CZ;te.PageBorderDisplay=UY;te.PageBorderOffsetFrom=HY;te.PageBorderZOrder=zY;te.PageBorders=bh;te.PageBreak=GE;te.PageBreakBefore=ah;te.PageMargin=_h;te.PageNumber=ni;te.PageNumberElement=jE;te.PageNumberSeparator=jY;te.PageNumberType=Eh;te.PageNumberTypeAttributes=xh;te.PageOrientation=Sh;te.PageReference=iS;te.PageTextDirection=kh;te.PageTextDirectionType=WY;te.Paragraph=nn;te.ParagraphProperties=rn;te.ParagraphPropertiesDefaults=ad;te.PatchType=uT;te.PositionalTab=KE;te.PositionalTabAlignment=NY;te.PositionalTabLeader=CY;te.PositionalTabRelativeTo=RY;te.PrettifyType=o4;te.RelativeHorizontalPosition=rZ;te.RelativeVerticalPosition=nZ;te.Run=Pt;te.RunFonts=oo;te.RunProperties=Ar;te.RunPropertiesChange=Jf;te.RunPropertiesDefaults=ld;te.SectionProperties=Oh;te.SectionType=qY;te.SectionTypeAttributes=Th;te.Separator=HE;te.SequentialIdentifier=yE;te.Shading=$i;te.ShadingType=rY;te.SimpleField=nh;te.SimpleMailMergeField=bE;te.SoftHyphen=RE;te.SpaceType=Yt;te.Spacing=uh;te.StringContainer=Zr;te.StringEnumValueElement=zf;te.StringValueElement=Tr;te.Style=sl;te.StyleForCharacter=Qi;te.StyleForParagraph=Zi;te.StyleLevel=Jk;te.Styles=ho;te.SymbolRun=Xf;te.TDirection=qh;te.Tab=qE;te.TabAttributes=fh;te.TabStop=ch;te.TabStopItem=hh;te.TabStopPosition=DY;te.TabStopType=XE;te.Table=BS;te.TableAnchorType=tZ;te.TableBorders=bl;te.TableCell=wl;te.TableCellBorders=jh;te.TableFloatProperties=Vh;te.TableLayout=Kh;te.TableLayoutType=sZ;te.TableOfContents=$k;te.TableProperties=$h;te.TableRow=US;te.TableRowHeight=Xh;te.TableRowHeightAttributes=Jh;te.TableRowProperties=Yh;te.TableWidthElement=tn;te.TextDirection=eZ;te.TextEffect=iY;te.TextRun=Ji;te.TextWrappingSide=z3;te.TextWrappingType=il;te.Textbox=oT;te.ThematicBreak=qf;te.Type=Ah;te.Underline=$f;te.UnderlineType=ST;te.VerticalAlign=LY;te.VerticalAlignAttributes=vh;te.VerticalAlignElement=gl;te.VerticalAlignSection=$3;te.VerticalAlignTable=G3;te.VerticalMerge=yl;te.VerticalMergeType=TT;te.VerticalPositionAlign=eY;te.VerticalPositionRelativeFrom=P3;te.WORKAROUND2=pZ;te.WORKAROUND3=XX;te.WORKAROUND4=YY;te.WidthType=zh;te.WrapNone=dl;te.WrapSquare=Zf;te.WrapTight=Qf;te.WrapTopAndBottom=eh;te.XmlAttributeComponent=we;te.XmlComponent=ue;te.YearLong=LE;te.YearShort=PE;te.abstractNumUniqueNumericIdGen=A3;te.bookmarkUniqueNumericIdGen=R3;te.concreteNumUniqueNumericIdGen=O3;te.convertInchesToTwip=ar;te.convertMillimetersToTwip=yY;te.convertToXmlComponent=Ed;te.createDocumentGrid=J3;te.createFrameProperties=Z3;te.createHorizontalPosition=F3;te.createLineNumberType=X3;te.createMathAccentCharacter=Q3;te.createMathBase=zt;te.createMathLimitLocation=e4;te.createMathNAryProperties=kT;te.createMathPreSubSuperScriptProperties=i4;te.createMathSubScriptElement=mo;te.createMathSubScriptProperties=r4;te.createMathSubSuperScriptProperties=n4;te.createMathSuperScriptElement=go;te.createMathSuperScriptProperties=t4;te.createPageSize=Y3;te.createSimplePos=D3;te.createStringElement=ro;te.createVerticalPosition=B3;te.dateTimeValue=_3;te.decimalNumber=vt;te.docPropertiesUniqueNumericIdGen=N3;te.eighthPointMeasureValue=w3;te.hashedId=Lx;te.hexColorValue=Gi;te.hpsMeasureValue=v3;te.longHexNumber=YX;te.measurementOrPercentValue=_T;te.patchDetector=JZ;te.patchDocument=GZ;te.percentageValue=y3;te.pointMeasureValue=b3;te.positiveUniversalMeasureValue=bT;te.sectionMarginDefaults=ri;te.sectionPageSizeDefaults=Ff;te.shortHexNumber=g3;te.signedHpsMeasureValue=ZX;te.signedTwipsMeasureValue=en;te.twipsMeasureValue=lt;te.uCharHexNumber=_x;te.uniqueId=Dl;te.uniqueNumericIdCreator=Pl;te.uniqueUuid=C3;te.universalMeasureValue=Rl;te.unsignedDecimalNumber=Nl});var{Plugin:YZ,TFolder:ZZ,Notice:es,normalizePath:QZ,WorkspaceLeaf:OT,PluginSettingTab:eQ,Setting:an}=require("obsidian"),{ColophonView:ai,VIEW_TYPE:ts}=FD(),{FootnoteView:Od,FOOTNOTE_VIEW_TYPE:vo}=HD(),tQ={textColumnWidth:1080,fixedFeedPosition:!1,feedPadding:50,smartQuotes:!0,smartDashes:!0,doubleQuoteStyle:"\u201C|\u201D",singleQuoteStyle:"\u2018|\u2019",stylesFolder:"snippets",enabledStyles:[]},{DocxSerializer:rQ}=(V5(),b4(q5)),{Packer:nQ,HeadingLevel:yo,Paragraph:iQ,TextRun:sQ,FootnoteReferenceRun:oQ,StyleLevel:Ute}=d4(),aQ=require("fs"),p4=require("electron");module.exports=class extends YZ{async onload(){await this.loadSettings(),this.registerView(ts,r=>new ai(r,this.settings,this));let e=this.app.vault.getConfig("spellcheck");this.registerView(vo,r=>new Od(r,this.settings,e)),this.addSettingTab(new NT(this.app,this)),this.patchOpenFile(),this.registerEvent(this.app.workspace.on("file-open",this.handleFileOpen.bind(this))),this.registerEvent(this.app.workspace.on("active-leaf-change",this.handleActiveLeafChange.bind(this))),this.addRibbonIcon("feather","New manuscript",async()=>{await this.createNewManuscript()}),this.registerEvent(this.app.workspace.on("file-menu",(r,n)=>{let s=n instanceof ZZ?n.path:n.parent.path;r.addItem(a=>{a.setTitle("New manuscript").setIcon("feather").onClick(async()=>{await this.createNewManuscript(s)})})})),this.addCommand({id:"create-new-colophon-manuscript",name:"New manuscript",callback:()=>this.createNewManuscript()}),this.addCommand({id:"export-to-docx",name:"Export to DOCX",callback:()=>this.exportToDocx()}),this.addCommand({id:"open-colophon-footnotes",name:"Open Footnotes Sidebar",callback:async()=>{this.activateFootnoteView()}}),this.addCommand({id:"insert-colophon-footnote",name:"Insert Footnote",checkCallback:r=>{let n=this.app.workspace.getActiveViewOfType(ai);return n?(r||n.insertFootnote(),!0):!1}}),this.app.workspace.onLayoutReady(()=>{let r=(n,i)=>{let s=this.app.commands.commands[n];if(s){let a=s.checkCallback;s.checkCallback=o=>{let l=this.app.workspace.getLeavesOfType(ts),u=l.length>0?l[0].view:null;if(u){let c=this.app.workspace.getLeavesOfType(vo)[0]?.view,f=null,d=this.app.workspace.activeLeaf;if(c&&c instanceof Od&&d.view===c){let h=c.getFocusedEditor();h&&(f=h)}if(!f&&u.adapter&&u.adapter.editor&&u.adapter.editor.isFocused&&(f=u.adapter.editor),f)return o||i(f),!0}return a?a(o):!1}}};r("editor:insert-footnote",n=>{let i=this.app.workspace.getActiveViewOfType(ai);i&&i.insertFootnote()}),r("editor:toggle-bold",n=>n.chain().focus().toggleBold().run()),r("editor:toggle-italics",n=>n.chain().focus().toggleItalic().run()),r("editor:toggle-strikethrough",n=>n.chain().focus().toggleStrike().run())})}async exportToDocx(e){if(e||(e=this.app.workspace.getActiveViewOfType(ai)),!e||!(e instanceof ai)||!e.adapter.editor){new es("No active Colophon editor found.");return}let n=e.adapter.editor.state.doc,i=(e.file?.basename||"Untitled")+".docx";try{let s={paragraph(f,d){f.renderInline(d),f.closeBlock(d)},heading(f,d){f.renderInline(d);let h=[yo.HEADING_1,yo.HEADING_2,yo.HEADING_3,yo.HEADING_4,yo.HEADING_5,yo.HEADING_6][d.attrs.level-1];f.closeBlock(d,{heading:h})},text(f,d){f.text(d.text)},hard_break(f){f.addRunOptions({break:1})},footnote(f,d){let h=d.attrs.id,v=(e.adapter?e.adapter.footnotes:[]).find(_=>_.id===h),x=v?v.content:"";f.$footnoteCounter=(f.$footnoteCounter||0)+1;let m=f.$footnoteCounter;f.footnotes[m]={children:[new iQ({children:[new sQ(x)]})]},f.current.push(new oQ(m))}},a={bold(){return{bold:!0}},italic(){return{italics:!0}},underline(){return{underline:{}}},strike(){return{strike:!0}},superscript(){return{superScript:!0}},subscript(){return{subScript:!0}},internallink(){return{}},smallCaps(){return{smallCaps:!0}}},l=new rQ(s,a).serialize(n,{sections:[{properties:{},children:[]}],styles:{default:{document:{run:{font:"Minion 3",size:24},paragraph:{spacing:{line:360}}}},paragraphStyles:[{id:"Normal",name:"Normal",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Minion 3",size:24},paragraph:{spacing:{line:360},indent:{firstLine:720}}},{id:"Heading1",name:"Heading 1",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Minion 3",size:36,italics:!0},paragraph:{spacing:{before:480,after:240}}},{id:"Heading2",name:"Heading 2",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Minion 3",size:28,smallCaps:!0,tracking:100},paragraph:{spacing:{before:360,after:240}}},{id:"Heading3",name:"Heading 3",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"Minion 3",size:24,italics:!0},paragraph:{alignment:"center",spacing:{before:360,after:240}}}]}}),u=await nQ.toBuffer(l),c=await p4.remote.dialog.showSaveDialog({title:"Export to DOCX",defaultPath:i,filters:[{name:"Word Document",extensions:["docx"]}]});if(c.canceled||!c.filePath){new es("Export cancelled.");return}aQ.writeFile(c.filePath,u,f=>{f?(console.error("Colophon: Failed to save DOCX file.",f),new es("Failed to save file. See console for details.")):new es("File saved successfully!")})}catch(s){console.error("Colophon: Error exporting to DOCX.",s),new es("An error occurred during DOCX export. See console for details.")}}async activateFootnoteView(){let{workspace:e}=this.app,r=null,n=e.getLeavesOfType(vo);n.length>0?r=n[0]:(r=e.getRightLeaf(!1),await r.setViewState({type:vo,active:!0})),e.revealLeaf(r)}async loadSettings(){this.settings=Object.assign({},tQ,await this.loadData())}async saveSettings(){await this.saveData(this.settings),this.app.workspace.getLeavesOfType(ts).forEach(e=>{e.view instanceof ai&&e.view.updateSettings(this.settings)}),this.app.workspace.getLeavesOfType(vo).forEach(e=>{e.view instanceof Od&&e.view.updateSettings(this.settings)})}patchOpenFile(){let e=this,r=OT.prototype.openFile;OT.prototype.openFile=async function(n,i){let a=(this.app||e.app).metadataCache.getFileCache(n);if(a?.frontmatter&&a.frontmatter["colophon-plugin"]==="manuscript"&&(this.view.getViewType()!==ts&&await this.setViewState({type:ts,state:i,active:!0}),this.view instanceof ai)){await this.view.loadFile(n),i&&i.eState&&this.view.setEphemeralState(i.eState);return}return r.call(this,n,i)},this.register(()=>{OT.prototype.openFile=r})}async handleActiveLeafChange(e){if(!e)return;this.updateFootnoteView(e.view);let r=e.view.file;r&&await this.ensureCorrectView(e,r)}async handleFileOpen(e){if(!e)return;let r=this.app.workspace.activeLeaf;r&&(this.updateFootnoteView(r.view),await this.ensureCorrectView(r,e))}updateFootnoteView(e){let r=this.app.workspace.getLeavesOfType(vo);if(r.length===0)return;let n=r[0].view;e instanceof Od||(e instanceof ai&&e.adapter?n.setAdapter(e.adapter):n.setAdapter(null))}async ensureCorrectView(e,r){let n=this.app.metadataCache.getFileCache(r),i=n?.frontmatter&&n.frontmatter["colophon-plugin"]==="manuscript",s=e.view.getViewType();if(i&&s==="markdown"){let a=e.view.getState();await e.setViewState({type:ts,state:a,active:!0})}else if(!i&&s===ts){let a=e.view.getState();await e.setViewState({type:"markdown",state:a,active:!0})}}async createNewManuscript(e){let r;if(e?r=typeof e=="string"?this.app.vault.getAbstractFileByPath(e):e:r=this.app.fileManager.getNewFileParent(this.app.workspace.getActiveFile()?.path||""),!r||!r.path){new es("Invalid folder location");return}let n=`---
colophon-plugin: manuscript
---
`,i=await this.getUniqueFilePath(r);try{let s=await this.app.vault.create(i,n);await this.app.workspace.getLeaf(!1).openFile(s)}catch(s){new es(`Failed to create manuscript: ${s.toString()}`)}}async getUniqueFilePath(e){let r=0;for(;;){let i=`Untitled${r===0?"":` ${r}`}.md`,s=QZ(`${e.path}/${i}`);if(!await this.app.vault.exists(s))return s;r++}}onunload(){}};var NT=class extends eQ{constructor(e,r){super(e,r),this.plugin=r}display(){let{containerEl:e}=this;e.empty(),new an(e).setName("Text column width").setDesc("Adjust the width of the writing canvas (500px - 1240px).").addSlider(r=>r.setLimits(500,1240,10).setValue(this.plugin.settings.textColumnWidth).setDynamicTooltip().onChange(async n=>{this.plugin.settings.textColumnWidth=n,await this.plugin.saveSettings()})),new an(e).setName("Fixed feed position").setDesc("Enforce a typewriter-style fixed active line position.").addToggle(r=>r.setValue(this.plugin.settings.fixedFeedPosition).onChange(async n=>{this.plugin.settings.fixedFeedPosition=n,await this.plugin.saveSettings(),this.display()})),this.plugin.settings.fixedFeedPosition&&new an(e).setName("Feed padding").setDesc("Vertical position of the active line (0% = bottom, 75% = top quarter).").addSlider(r=>r.setLimits(0,75,1).setValue(this.plugin.settings.feedPadding).setDynamicTooltip().onChange(async n=>{this.plugin.settings.feedPadding=n,await this.plugin.saveSettings()})),new an(e).setName("Smart quotes").setDesc("Automatically replace straight quotes with smart quotes.").addToggle(r=>r.setValue(this.plugin.settings.smartQuotes).onChange(async n=>{this.plugin.settings.smartQuotes=n,await this.plugin.saveSettings(),this.display()})),this.plugin.settings.smartQuotes&&(new an(e).setName("Double quote style").setDesc("Choose the style for double quotes.").addDropdown(r=>r.addOption("\u201C|\u201D","\u201Cabc\u201D").addOption("\u201E|\u201C","\u201Eabc\u201C").addOption("\u201E|\u201D","\u201Eabc\u201D").addOption("\u201D|\u201D","\u201Dabc\u201D").addOption("\xAB|\xBB","\xABabc\xBB").addOption("\xBB|\xAB","\xBBabc\xAB").addOption('"|"','"abc"').setValue(this.plugin.settings.doubleQuoteStyle).onChange(async n=>{this.plugin.settings.doubleQuoteStyle=n,await this.plugin.saveSettings()})),new an(e).setName("Single quote style").setDesc("Choose the style for single quotes.").addDropdown(r=>r.addOption("\u2018|\u2019","\u2018abc\u2019").addOption("\u201A|\u2018","\u201Aabc\u2018").addOption("\u201A|\u2019","\u201Aabc\u2019").addOption("\u2019|\u2019","\u2019abc\u2019").addOption("\u2039|\u203A","\u2039abc\u203A").addOption("\u203A|\u2039","\u203Aabc\u2039").addOption("'|'","'abc'").setValue(this.plugin.settings.singleQuoteStyle).onChange(async n=>{this.plugin.settings.singleQuoteStyle=n,await this.plugin.saveSettings()}))),new an(e).setName("Smart dashes").setDesc("Replace -- with em-dash (\u2014) and --- with en-dash (\u2013).").addToggle(r=>r.setValue(this.plugin.settings.smartDashes).onChange(async n=>{this.plugin.settings.smartDashes=n,await this.plugin.saveSettings()})),new an(e).setName("Styles folder").setDesc("Folder containing YAML style definitions (relative to vault config directory).").addText(r=>r.setPlaceholder("snippets").setValue(this.plugin.settings.stylesFolder).onChange(async n=>{this.plugin.settings.stylesFolder=n,await this.plugin.saveSettings(),this.display()})).addExtraButton(r=>r.setIcon("folder-open").setTooltip("Open folder").onClick(()=>{let n=this.plugin.app.vault.adapter.getBasePath()+"/"+this.plugin.app.vault.configDir+"/"+this.plugin.settings.stylesFolder;p4.shell.openPath(n)})),this.displayStyleFiles(e)}async displayStyleFiles(e){let{app:r,settings:n}=this.plugin,i=r.vault.adapter,s=r.vault.configDir,a=n.stylesFolder||"snippets",o=`${s}/${a}`;if(!await i.exists(o)){new an(e).setName("Folder not found").setDesc(`The folder "${o}" does not exist.`).addButton(f=>f.setButtonText("Create folder").onClick(async()=>{await i.mkdir(o),this.display()}));return}let u=(await i.list(o)).files.filter(f=>f.endsWith(".yaml")||f.endsWith(".yml"));if(u.length===0){e.createDiv({text:"No YAML files found in this folder.",cls:"setting-item-description"});return}let c=e.createDiv();c.style.marginTop="20px",c.style.marginBottom="10px",c.createEl("strong",{text:"Enabled Styles"});for(let f of u){let d=f.split("/").pop(),h=n.enabledStyles.includes(d);new an(e).setName(d).addToggle(y=>y.setValue(h).onChange(async v=>{v?n.enabledStyles.includes(d)||n.enabledStyles.push(d):n.enabledStyles=n.enabledStyles.filter(x=>x!==d),await this.plugin.saveSettings()}))}}};
/*! Bundled license information:

docx/dist/index.mjs:
  (*! http://mths.be/fromcodepoint v0.1.0 by @mathias *)
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

docx/dist/index.cjs:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
  (*! http://mths.be/fromcodepoint v0.1.0 by @mathias *)
*/
